<html>
	<head>
		<title>changelog</title>
		<link href="hydrus.ico" rel="shortcut icon" />
		<link href="style.css" rel="stylesheet" type="text/css" />
	</head>
	<body>
		<div class="content">
			<h3 id="changelog"><a href="#changelog">changelog</a></h3>
			<ul>
				<li><h3 id="version_472"><a href="#version_472">version 472</a></h3></li>
				<ul>
					<li>highlights:</li>
					<li>the file domain button of every autocomplete input now has a 'multiple locations' entry. this launches a checkboxlist of all possible search locations and allows you to search more than one domain at once. it works, too! in future, when we can have multiple 'my files' services, you'll be able to choose here unions of what to search. users in advanced mode will see repository updates, all local files, all known files, and the new deleted file domains on this list. I removed the deleted file domains from the front menu because I expect them to be rarely used</li>
					<li>in _options->thumbnails_, there is now a 'thumbnail scaling' dropdown. you can set it so thumbs only ever scale down (which remains the default), scale to fit (i.e. very small images are also scaled up), or scale to fill. the 'animation' as thumbnails refit and delayed-regen themselves to 'scale to fill' is accidentally one of the coolest things I have done</li>
					<li>removed the old 'EXPERIMENTAL: thumbnail fill' option. the new mode works essentially the same, but faster and higher quality</li>
					<li>in the page tab menu, there is a new submenu 'pages', which shows all the pages at or below the current level. if you right-click on a page of pages tab, it will just show for that page of pages. click any of the entries, you will select that page. it is a web browser-like quick navigation menu, let me know what you think!</li>
					<li>rejiggered the page tab menu a little, reordering groups a bit with nicer separators and putting 'select' navigation on the menu even if you click in greyspace</li>
					<li>fixed a problem in page tab menu logic where if you right-clicked on greyspace, it would render the menu for the bottommost page of pages row rather than the one actually clicked</li>
					<li>last week's update where a mouse release event will no longer fire in the shortcuts system if the mouse moved a decent distance between press and release should now work in the media viewer canvas when dragging is set to anchor the mouse in place. some advanced users may wish to try setting archive/delete to work on mouse release and use left click to drag</li>
					<li>.</li>
					<li>bug fixes:</li>
					<li>fixed pages force-refreshing file queries on session load. this has never been intentional, but it slipped through again and was happening for a month or two now. I have added an explicit test to my routine to make sure this doesn't happen again, sorry for the trouble!</li>
					<li>fixed a problem in the recent fast shutdown code that was accidentally also shutting down some maintenance work like repository processing as soon as it started, even if 'exit and force work' was chosen</li>
					<li>all images with a completely opaque alpha channel will now have that alpha channel dropped for the new pixel hash calculation, meaning they will now match with regular non-alpha images with the same colour pixel data. in fact, all images with an opaque alpha now have that channel dropped on load, which will save a little memory and CPU any time they are handled (issue #770)</li>
					<li>if the 'durable' temporary database exists on boot, it is now deleted and a fresh one created rather than trying to re-use the old one (which would not have any useful information anyway), and a note is made to log. one user recently had a problem where an existing corrupt temp dir was stopping boot, which this fixes</li>
					<li>.</li>
					<li>misc:</li>
					<li>updated the windows build to use a newer version of mpv, moving from roughly 2021-02 to 2022-01. this replaces mpv-1.dll with mpv-2.dll, and I set the installer to delete the old '1'. if you extract, you can delete the old '1' yourself, but things seems fine with both. in any case, let me know if you have any trouble!</li>
					<li>updated the windows build to use sqlite 3.37.2, the sqlite3 in the db dir is also updated</li>
					<li>the deleted files system now neatly cleans up old file deletion reasons on file import and file undelete</li>
					<li>cleared out some old thumbnail generation code, including deleting an old and now obselete optimisation where too-large thumbs were scaled down to make new thumbs rather than revisiting source. since our thumb situation is more complicated now, this is gone in favour of nicer quality thumbs and simpler code</li>
					<li>fixed up some upcoming database maintenance code in my new modules</li>
					<li>updated and cleaned the code in the old wx-converted checkboxlist and replaced some awkward old access routines</li>
					<li>cleared out some old HTA archive code</li>
				</ul>
				<li><h3 id="version_471"><a href="#version_471">version 471</a></h3></li>
				<ul>
					<li>times:</li>
					<li>if you have file viewing stats turned on (by default it is), the client will now track the 'last viewed time' of your files, both in preview and media viewers. a record is only made assuming they pass the viewtime checks under _options->file viewing statistics_ (so if you scroll through really quick but have it set to only record after five seconds of viewing, it will not save that as the last viewed time). this last viewed time is shown on the right-click menu with the normal file viewing statistics</li>
					<li>sorting by 'import time' and 'modified time' are moved to a new 'time' subgroup in the sort button menu</li>
					<li>also added to 'time' is 'last viewed time'. note that this has not been tracked until now, so you will have to look at a bunch of things for a few seconds each to get some data to sort with</li>
					<li>to go with 'x time' pattern, 'time imported' is renamed to 'import time' across the program. both should work for system predicate parsing</li>
					<li>system:'import time' and 'modified time' are now bundled into a new 'system:time' stub in the system predicates list. the window launched from here is an experimental new paged panel. I am not sure I really like it, but let's see how it works IRL</li>
					<li>'system:last view time' is added to search the new field! give it a go once you have some data</li>
					<li>also note that the search and sort of last viewed time works on the 'media viewer' number. those users who use preview or combined numbers for stuff, let me know if and how you would like that to work here--sort/search for both media and preview, try to combine based on the logic in the options, or something else?</li>
					<li>.</li>
					<li>loading serialised pngs:</li>
					<li>the client can now load serialised downloader-pngs if they are a perfect RGB conversion of an original greyscale export.</li>
					<li>the pngs don't technically have to be pngs anymore! if you drag and drop an image from firefox, the temporary bitmap exported and attached to the DnD _should_ work!</li>
					<li>the lain easy downloader import now has a clipboard paste button. it can take regular json text, and now, bitmap data!</li>
					<li>the 'import->from clipboard' button action in many multiple column lists across the program (e.g. manage parsers) (but not every list, a couple are working on older code) also now accepts bitmap data on the clipboard</li>
					<li>the various load errors here are also improved</li>
					<li>.</li>
					<li>custom widget colors:</li>
					<li>(advanced users only for now)</li>
					<li>after banging my head against it, I finally figured out an ok way to send colors from a QSS style file to python code. this means I can convert my custom widgets to inherit colours from the current QSS. I expect to migrate pretty much everything currently fixed over to this, except tag colours and maybe some thumbnail border stuff, and retire the old darkmode</li>
					<li>if you are a QSS lad, please check out the new entries at the bottom of default_hydrus.qss and play around with them in your own QSSes. please do not send me any updates to be folded in to the install yet as I still have a bunch of other colours to add. this week is just a test--please let me know how it works for you</li>
					<li>.</li>
					<li>misc:</li>
					<li>mouse release events no longer trigger a command in the shortcuts system if the release happens more than about 20 pixels from the original mouse down. this is tricky, so if you are into clever shortcuts, let me know how it works for you</li>
					<li>the file maintenance manager (which has been getting a lot of work recently with icc profiles, pixel dupes, some thumb regen, and new audio channel checks), now saves its work and publishes updates faster to the UI, at least once every ten seconds</li>
					<li>the sort entries in the page sort control are now always sorted according to their full (type, name) string, and the mouse-wheel-to-navigate is now fixed to always mirror this</li>
					<li>improved some 'delete file reason' handling. currently, a file deletion reason should only be applied when a file is entering trash. there was a bug that force-physical-deleting files from trash would overwrite their original deletion reason. this is now fixed. the advanced delete files dialog now disables the whole reason panel better when needed, never sends a file reason down to the database when there should be no reason, disables the panel if all the files are in the trash, and at the database level when file deletion reasons are being set, all files are filtered for status beforehand to ensure none are accidentally set by other means. I am about to make trash more intelligent as part of multiple local file services, so I expect to revisit this soon</li>
					<li>the new ICC Profile conversion no longer occurs on I or F mode files. there are weird 32/64 bit monochrome files, and mode/ICC conversion goes whack with current PIL code</li>
					<li>replaced the critical hamming test in the duplicate files system with a different bit-counting strategy that works about 9% faster. hamming test is used in all duplicate file searching, so this should help out a tiny bit in a lot of places</li>
					<li>.</li>
					<li>boring cleanup:</li>
					<li>cleaned up how media viewer canvas type is stored and tested in many places</li>
					<li>all across the program, file viewing statistics are now tracked by type rather than a hardcoded double of preview & media viewer. it will take a moment to update the database to reflect this this week</li>
					<li>cleaned up a ton of file viewing stats code</li>
					<li>cleared out the last twenty or so uses of the old 'execute many select' database access routine in favour of the new lower-overhead and more query-optimisable temporary integer tables method</li>
				</ul>
				<li><h3 id="version_470"><a href="#version_470">version 470</a></h3></li>
				<ul>
					<li>multiple file services:</li>
					<li>I finished the conversion of all UI search to the new multiple location object. everything from back- to frontend now supports cleverer search. since searching deleted files is simple to add, users in advanced mode will now see 'deleted from...' in a new list in the tag autocomplete dropdown file domain button</li>
					<li>the next step is writing a widget that allows multiple selection, and then all this should work right out of the box, and we'll be an important step closer to allowing multiple local file services</li>
					<li>.</li>
					<li>misc:</li>
					<li>the video parsing routine is better at detecting when a present audio track is actually silent (and hence when it should mark a video as 'no audio'). all video with audio will be requeued for a metadata reparse in the files maintenance system on update</li>
					<li>fixed an error from last week when trying to create a new page from the tags (e.g. middle-clicking them) in the active search list</li>
					<li>added 'audio mkv' format to the client, to represent mkvs without a video track. I think most of the time this is going to be audio track webms from youtube-dl and similar</li>
					<li>added 'file relationships: set files as potential duplicates' command to the 'media actions' shortcut set</li>
					<li>I expanded the 'backing up' section in 'installing and updating' help</li>
					<li>I wrote an 'anti-virus' section for 'installing and updating' help, since I kept writing the same basic spiel about false positives. please feel free to point people there in future to relieve their concerns</li>
					<li>improved some shutdown tests, the client and server should exit faster in some cases (e.g. when a hydrus repository network job is hanging on reconnection attempts, holding up the 'synchronise_repository' daemon shutdown)</li>
					<li>the 'file was xxx at (y timestamp), which was (z time units) before this check' line in file import notes now always puts 'z time units' as that, ignoring the 'always show ISO time' setting, which was just substituting it with 'y timestamp' again. let me know if you spot other bad grammar with this setting on, I'll fix it!</li>
					<li>fingers crossed, images in the LAB colourspace _should_ now normalise to sRGB with the correct whitepoint. thanks to the user who provided example test tiff images here. this now uses the new PIL-based colourspace conversion I used to make ICC profiles work, just on LAB->sRGB. as far as I understand, OpenCV uses a fixed whitepoint of D65, resulting in yellow/warm conversions for some formats, but PIL may be able to figure out if D50 is needed??? if you have some crazy LUV or YPbPr or YIQ image that shows up wrong, please send it in and I'll see what I can do!</li>
					<li>.</li>
					<li>boring rewrites and cleanup while doing file service work:</li>
					<li>many more UI objects now store and do file service logic using a more complicated 'location context', which can store a mix of multiple services and 'deleted from service' data. all the search code that works on this can now propagate to display:</li>
					<li>the management objects behind every page now store a multiple location object, not a single file service id</li>
					<li>all media panels (the thumbnail grid on a page) are now instantiated by a multiple location object, and when they serve a highlighted downloader, they now inherit that from the file import options, which in future will dictate import destinations</li>
					<li>all canvases are now the same, inheriting their new location context from their parents</li>
					<li>all tag lists are the same. mostly they don't care much about file domain, but when you middle-click to create new pages from the autocomplete dropdown list or active search list, it can matter, so they now propagate it along</li>
					<li>the underlying medialist objects are now the same, and various delete logic (e.g. 'should we remove this thumb we just deleted?') is updated to work on complex domains</li>
					<li>some duplicate lookup code now works on location context</li>
					<li>renamed 'location search context' object to 'location context' since it is used all over now and put it in its own file. also wrote it some neater initialisation and meta object code</li>
					<li>mr bones now gives duplicate data based on the union of all non-trash local services sans update files (another case of now supporting n services but n is fixed for the moment at 1, 'my files')</li>
					<li>a bunch of places across the program that used to default to 'my files' or 'all local files' (which is everything on disk, including trash and repository update files) now default to this new union of all non-trash local media services</li>
					<li>when doing page-to-page file drag and drops, the location context is now preserved (previously, the new page would always be 'my files')</li>
					<li>whole heap of other cleanup in these systems</li>
					<li>when a thumbnail cannot be provided (for deleted files or many 'all known files' situations), the thumbnail cache now provides the hydrus icon stand-in instantly, no delayed waterfall</li>
					<li>fixed an unusual situation where the file search could not provide a file in a tagless search when that file had no detailed file info row in the database. this seems to effect a legacy borked row or two in the new deleted file domain searches</li>
					<li>removed some ancient dumper status code from thumbnail objects</li>
				</ul>
				<li><h3 id="version_469"><a href="#version_469">version 469</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>the 'search log' button and the window panel now let you delete log entries. you can delete by completion status from the menu or specifically by row in the panel (just like the file log)</li>
					<li>fixed the new 'file is writable' checks for Linux/macOS, which were testing permissions overbroadly and messing with users with user-only permissions set. the code now hands off specific user/group negotiation to the OS. thanks to the maintainer of the AUR package for helping me out here (issue #1042)</li>
					<li>the various places where a file's permission bits are set are also cleaned up--hydrus now makes a distinction between double-checking a file is set user-writable before deleting/overwriting vs making a file's permission bits (which were potentially messed up in the past) 'nice' for human use after export. in the latter case, which still defaults to 644 on linux/macOS, the user's umask is now applied, so it should be 600 if you prefer that</li>
					<li>fixed a bug where the media viewer could have trouble initialising video when the player window instantiation was delayed (e.g. with embed button)</li>
					<li>.</li>
					<li>client api:</li>
					<li>added 'return_hashes' boolean parameter to GET /get_files/search_files, which makes the command return hashes instead of file ids. this is documented in the help and has a new unit test</li>
					<li>client api version is now 25</li>
					<li>.</li>
					<li>multiple local file services work:</li>
					<li>I rewrote a lot of code this week, but it proved more complex than I expected. I also discovered I'll have to switch the pages and canvases over too before I can nicely switch the top level UI over to allow multiple search. rather than release a borked feature, I decided not to rush the final phase, so this remains boring for now! the good news is that it works well when I hack it in, so I just need to keep pushing</li>
					<li>rewrote the caller side of tag autocomplete lookup to work on the new multiple file search domain</li>
					<li>rewrote the main database level tag lookup code to work on the new multiple file search domain</li>
					<li>certain types of complicated tag autocomplete lookup, particularly on all known tags and any client with lots of siblings, will be faster now</li>
					<li>an unusual and complicated too-expansive sibling lookup on autocomplete lookups on 'all known tags' is now fixed</li>
					<li>.</li>
					<li>boring cleanup and refactoring:</li>
					<li>predicate counts are now managed by a new object. predicates also support 0 minimum count for x-y count ranges, which is now possible when fetching count results from non-cross-referenced file domains (for now this means searching deleted files)</li>
					<li>cleaned up a ton of predicate instantiation code</li>
					<li>updated autocomplete, predicate, and pred count unit tests to handle the new objects and bug fixes</li>
					<li>wrote new classess to cover convenient multiple file search domain at the database level and updated a bunch of tag autocomplete search code to use it</li>
					<li>misc cleanup and refactoring for file domain search code</li>
					<li>purged more single file service inspection code from file search systems</li>
					<li>refactored most duplicate files storage code (about 70KB) to a new client db module</li>
				</ul>
				<li><h3 id="version_468"><a href="#version_468">version 468</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>fixed an issue where the one pixel border on the new 'control bar' on the media viewer was annoyingly catching mouse events at the bottom of the screen when in borderless fullscreen mode (and hence dragging the video, not scanning video position). the animation scanbar now owns its own border and processes mouse events on it properly</li>
					<li>fixed a typo bug in the new pixel hash system that meant new imports were not being added to the system correctly. on update, all files affected will be fixed of bad data and scheduled for a pixel hash regen. sorry for the trouble, and thank you for the quick reports here</li>
					<li>added a 'fixed font size example' qss file to the install. I have passed this file to others as an example of a quick way to make the font (and essentially ui scale) larger. it has some help comments inside and is now always available. the default example font size is lmao</li>
					<li>fixed another type checking problem for (mostly Arch/AUR) PyQt5 users (issue #1033)</li>
					<li>wrote a new display mappings maintenance routine for the database menu that repopulates the display mappings cache for missing rows. this task will be radically faster than a full regen for some problems, but it only solves those problems</li>
					<li>on boot, the program now explicitly checks if any of the database files are set as read-only and if so will dump out with an appropriate error</li>
					<li>rewrote my various 'file size problem' exception hierarchy to clearly split 'the file import options disallow this big gif' vs 'this file is zero size/this file is malformed'. we've had several problems here recently, but file import options rule-breaking should set 'ignore' again, and import objects should be better about ignore vs fail state from now on</li>
					<li>added more error handling for broken image files. some will report cleaner errors, some will now import</li>
					<li>the new parsing system that discards source urls if they share a domain with a primary import url is now stricter--now discarding only if they share the same url class. the domain check was messing up saving post urls when they were parsed from an api url (issue #1036)</li>
					<li>the network engine no longer sends a Range header if it is expecting to pull html/json, just files. this fixes fetching pages from nijie.info (and several other server engines, it seems), which has some unusual access rules regarding Range and Accept-Encoding</li>
					<li>fixed a problem with no_daemons and the docker package server scripts (issue #1039)</li>
					<li>if the server engine (serverside or client api) is running a request during program shutdown, it now politely says 'Application is shutting down!' with a 503 rather than going bananas and dumping to log with an uncaught 500</li>
					<li>fixed some bad client db update error handling code</li>
					<li>.</li>
					<li>multiple local file services (system predicate edition):</li>
					<li>system:file service now supports 'deleted' and 'petitioned' status</li>
					<li>advanced 'all known files' search pages now show more system predicates</li>
					<li>when inbox and archive are hidden because one has 0 count, and the search space is simple, system everything now says what they are, e.g. "system:everything (24) (all in inbox)"</li>
					<li>file repos' 'system:local/not local' now sort at the top of the system predicate list, like inbox/archive</li>
					<li>.</li>
					<li>client api:</li>
					<li>the GET /get_files/file_metadata call now returns the file modified date and imported/deleted timestamps for each file service the file is currently in or deleted from. check the help for an example!</li>
					<li>fixed client api file search with random sort (file_sort_type = 4)</li>
					<li>client api version is now 24</li>
					<li>.</li>
					<li>boring multiple local file services work:</li>
					<li>the system predicates listed in a search page dropdown now support the new 'multiple location search context' object, which means in future I will be able to switch over to 'file domain is union of (A, deleted from B, and C)' and all the numbers will add up appropriately with ranged 'x-y' counts and deal with combinations of file repo and local service and current/deleted neatly</li>
					<li>when fetching system preds in 'all known files', the system:everything 'num files' count will be stated if available in the cache</li>
					<li>for the new system:file service search, refactored db level file filtering to support all status types</li>
					<li>cleaned up how system preds are generated</li>
					<li>.</li>
					<li>boring refactoring work:</li>
					<li>moved GUGs from network domain code to their own file</li>
					<li>moved URL Class from network domain code to its own file</li>
					<li>moved the pure functions from network domain code to their own file</li>
					<li>cleared up some file maintenance enum variable names</li>
					<li>sped up random file sort for large result sets</li>
					<li>misc client network code cleanup and type hints, and rejiggered cleaner imports after the refactoring</li>
				</ul>
				<li><h3 id="version_467"><a href="#version_467">version 467</a></h3></li>
				<ul>
					<li>new scanbar cleanup:</li>
					<li>the media container's scanbar and volume control are now combined on the same widget, meaning they now show/hide in sync and faster. their layout calculation is also more sensible. the new controls bar also has a thin border to make it pop better against a background video</li>
					<li>improved the way some auto-hide anti-flicker tech on the scanbar now works. it all hides a frame faster sometimes</li>
					<li>figured out some new anti-flicker tech to reduce/eliminate a frame of stretch when flicking from a static image to an mpv video, particularly for the first or second time in a session</li>
					<li>fixed a bug where clicking the global mute/unmute on an mpv player meant that certain shortcut keys (usually those with arrow keys) would not work on that player again. (it was a focus issue on the button, which then captured some form navigation keys but they had nowhere to go)</li>
					<li>brushed up some mouse coordinate testing logic across the program. some linux clients had trouble with the new animation scanbar popping up over mpv, I think I improved it!</li>
					<li>fixed another type problem with newer python/PyQt5 on Arch, also in scanbar coordinate testing</li>
					<li>fixed some dodgy colours in the scanbar initialisation and volume control border</li>
					<li>macOS users: I undid a long-time paint hack on the media container and the static image canvas. Qt is responsible for clearing the background again, which allows me to remove some jank anti-flicker tech. HOWEVER, the original reason for this hack was because without it, old macOS went to 100% CPU whenever the media viewer was showing something. therefore, to be safe, this option is still on for macOS users for now. you'll get a little flicker when browsing. please try hitting _help->debug->gui actions->macOS anti-flicker test_ and do some mixed video/image browsing. does your whole damn client lock up?</li>
					<li>.</li>
					<li>misc:</li>
					<li>the 'file log' and 'search log' buttons are now a new widget class that puts an arrow on the side that opens a menu. the secret right-click menus of these buttons is now exposed for all</li>
					<li>fixed a bug affecting some greyscale pngs with ICC profiles--they were coming out pure white due to a colourspace conversion problem</li>
					<li>fixed an import problem when PIL could not load a file (due to file malformation) but OpenCV could. this was causing a failed import from the new ICC profile detection code</li>
					<li>when the downloader hits a broken image file that cannot be imported due to malformation, the status is now 'error' instead of the incorrect 'ignored'</li>
					<li>fixed the duplicate file filesize comparison statement sometimes showing > in one direction and ≈ in the other. it happened when the larger file was between 20/19 and 21/20 times the size of the smaller, just a logic typo (issue #1028)</li>
					<li>the trash maintenance daemon is moved from the old threaded daemon system to the new repeating job worker pool. this is the last daemon cleaned up, so I am retiring the old and mostly defunct 'no_daemons' launch argument. a variety of other daemon infrastructure for things like shutdown checks is similarly removed. the program also now waits for the newer daemon jobs to finish working on shutdown</li>
					<li>moved most client daemon jobs like repository sync and dirty object save down so they start after the first session is loaded rather than right after boot</li>
					<li>if a file is called to regen its thumbnail but currently has no dimension, this is now a no-op rather than an error. in the situation where users force thumb regen before metadata regen and encounter this, it is sorted out later when the metadata regen recognises new dimensions and reschedules the thumb regen</li>
					<li>added an extensive user-written guide to the --db_synchronous_override launch argument to the launch arguments help page. it is possible and safe to run the program with synchronous=0 as long as certain caveats are obeyed. thanks to the user who figured this out and wrote it up</li>
					<li>the downloader engine now discards source urls in an import job if they have the same domain as any existing primary url. this will ensure that if a booru has a link back to itself as a source url, when the 'source' is really an alternate rather than a dupe, it won't be added in hydrus as a known url for that imported file</li>
					<li>misc cleanup in downloader system and file/search log UI</li>
					<li>fixed a type bug in the file and search log 'import from png' action. if you have existing pngs previously exported from here, they will import ok now</li>
					<li>refactored the various hydrus compression code to a new HydrusCompression file</li>
					<li>exported serialisable data pngs such as from file or search log that hold simple Strings now always compress the data before embedding it in the png. existing pngs that hold uncompressed strings should still load ok</li>
					<li>the payload in an exported png is now always compressed, and the payload description always states the uncompressed size</li>
					<li>sped up client shutdown when network traffic has been paused the whole time and a repo sync job might have wanted to run. these jobs also do not hang on a thread worker if network traffic is paused, but they should wake immediately when it is unpaused</li>
					<li>the hydrus login system is now resistant to connection failures; previously it was getting hung up and jamming the whole hydrus sync system when a server was down</li>
					<li>.</li>
					<li>client api:</li>
					<li>added GET /manage_database/mr_bones to the Client API. it returns a JSON Object with the same numbers used in the _help->how boned am I?_ dialog</li>
					<li>incremented Client API version to 23</li>
				</ul>
				<li><h3 id="version_466"><a href="#version_466">version 466</a></h3></li>
				<ul>
					<li>video scanbar autohide:</li>
					<li>the scanbar that shows below audio and video is now embedded inside the video frame, and it show/hides based on how close your mouse is to it</li>
					<li>I've wanted to do this for a long time, since it will allow you to watch 16:9 videos at true 100% in borderless fullscreen, but the hackery of how the media viewer works behind the scenes means this took more work than you'd think and is still a little jank. there's a small amount of flicker when it pops in and out, which I will work on in future. in any case, please have a play with it and let me know what you think. I expect to add some more options, like for the activation padding area around it, and I will be tidying up more layout stuff throughout the media viewer</li>
					<li>if you are a mostly keyboard user, please check out the new 'global' shortcut to flip on/off a 'force the animation scanbar to show' mode</li>
					<li>I don't really want to bring back the always-on hanging-below scanbar that just takes up space, but if you try this new embedded scanbar and really hate it, we'll see what we can do</li>
					<li>.</li>
					<li>more duplicate filter search options:</li>
					<li>the duplicates page now has a dropdown on the search for 'must be/can be/excludes pixel dupes'!</li>
					<li>the duplicates page now has a number control on the search for what distance the pair was found at! I am not sure how accurate this thing is in all cases, but it seems I started tracking this data some time ago and forgot I even had it</li>
					<li>these new options are remembered in your session and _should_ remain fast in most normal cases. I put time into some complicated database work this week to get this going, please let me know if you have any trouble with it</li>
					<li>.</li>
					<li>misc:</li>
					<li>when the export filename pattern in the export files dialog means many of the files share the same base and hence need to do 'filename (5)'-style suffixes to be unique, the number here is now calculated much more efficiently. opening this dialog on 10,000 files with an oft-duplicate pattern should now be a jolt of lag but not many minutes</li>
					<li>when you choose to 'separate' a subscription with more than 100 queries, you are no longer forced to break it into half</li>
					<li>when you do break a subscription in half, it now makes sure to sort the query texts before separating</li>
					<li>if you are in advanced mode, the 'selection tags' list on the left of every page can now switch its tag display type between 'multiple media views', 'display', and 'storage'. this is experimental and a bunch of stuff like 'select files with this tag' won't work yet</li>
					<li>janitors' petition pages now start with their tag list in 'storage' mode, so you can see the actual tags being changed rather than with siblings and parents calculated</li>
					<li>rebalanced some janitor mapping petition weights. jannies _should_ see a smoother balance of 'lots of small petitions' vs 'a few larger petitions' amongst petitions all with the same reason and creator</li>
					<li>.</li>
					<li>boring cleanup and little fixes:</li>
					<li>when you set the checker options in the edit subscription dialog, the queries now recalculate their file velocity better. previously, they would just set 'unknown' and recalc on the next run, but now they will actually recalculate if the query container is loaded into memory or otherwise put a status that says 'will calculate on next run'</li>
					<li>removed the 'should be namespaced' reason from the manage tags quick petition reasons. this is now all handled by siblings, tidying up storage tags manually is busywork</li>
					<li>when you click 'copy traceback' on an error popup, it also copies the software version, your platform, and if you are on a frozen build or running from source</li>
					<li>the logger now prints version number for every block, just before the timestamp</li>
					<li>cleaned up a variety of media viewer UI code while working on the scanbar, fixing some misc display bugs</li>
					<li>moved pixel hash storage responsibility from 'file metadata' to 'similar files' module</li>
					<li>the similar files system now searches pixel hashes when it is called to do any similar files search. they count as 'exact match' distance</li>
					<li>when a file gets a new pixel hash, it now sees if any other files have that same hash. if so, it now gets queued up again in the similar files search system, ensuring this match is not missed</li>
					<li>misc nomenclature cleanup--since we now have both 'pixel hashes' and 'phashes', phashes are now referred to as 'perceptual hashes' everywhere</li>
					<li>massively refactored the primary table join that drives potential duplicates search. it should work a bit faster now and it is much easier to work with</li>
					<li>I added pixel dupe and distance search to the standard search results version of the join and the 'system:everything' version, which has several optimisations</li>
					<li>silenced some shutdown handling in file maintenance that was being printed to log as an error</li>
					<li>fixed some 'broken object load' error handling to print the timestamp of the specific bad object, not whatever timestamp was requested. this error handling now also prints the full dump name and version to the log, and version to the exported filename. I was working with a user who had broken subs this week, and lacking this full info made things just a little trickier to put back together</li>
					<li>fixed some drag and drop handling where it was possible to drop thumbnails on a certain location of a page of pages that held an empty page of pages but it would not create a new child media page to hold them</li>
					<li>misc serverside db code cleanup</li>
					<li>fixed python 3.10 type bugs in window coordinate saving and Qt image generation from buffer (issue #1027)</li>
				</ul>
				<li><h3 id="version_465"><a href="#version_465">version 465</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>fixed a recent bug in wildcard search where 't\*g' unnamespaced wildcards were not returning namespace results</li>
					<li>sped up multi-predicate wildcard searches in some unusual file domains</li>
					<li>the file maintenance manager is now more polite about how it works. no matter its speed settings, it now pauses regularly to check on and wait until the main UI is feeling good to start new work. this should relieve heavier clients on older machines who will get a bunch of new work to do this week</li>
					<li>'all local files' in _review services_ now states how many files are awaiting physical deletion in the new deferred delete queue. this live updates when the values change but should be 0 pretty much all the time</li>
					<li>'all known files' in _review services_ also gets a second safety yes/no dialog on its clear deleted files record button</li>
					<li>updated the gelbooru 0.2.x gallery page parser, which at some point had been pulling 'delete from favourites' links when running the login-required 'gelbooru favorites by user id' downloader!!! it was deleting favourites, which I presume and hope was a recent change in gelbooru's html. in any case, the parser now skips over any deletion url (issue #1023)</li>
					<li>fixed a bad index to label conversion in a common database progress method. it was commonly saying 22/21 progress instead of 21/21</li>
					<li>fixed an error when manage tags dialog posts tags from the autocomplete during dialog shutdown</li>
					<li>fixed a layout issue with the new presentation import options where the dropdowns could grow a little tall and make a sub-panel scrollbar</li>
					<li>added handling for an error raised on loading an image with what seems to be a borked ICC profile</li>
					<li>increased the default per-db-file cache size from 200MB up to 256MB</li>
					<li>.</li>
					<li>some new options:</li>
					<li>the default tag service in the manage tags dialog (and some similar 'tag services in a row of tabs' dialogs) is reset this week. from now on, the last used service is remembered for the next time the dialog is opened. let's see how that works out. if you don't like it, you can go back to the old fixed default setting under the 'tags' options panel</li>
					<li>added a checkbox to the 'search' options panel that controls whether new search pages are in 'searching immediately' or 'searching paused' state (issue #761)</li>
					<li>moved default tag sort from 'tags' options panel to 'sort/collect'</li>
					<li>.</li>
					<li>deleted files and ipfs searchability:</li>
					<li>wrote a new virtual file service to hold all previously deleted files of all real file services. this provides a mapping cache and tag lookup cache allowing for fast search of any deleted file domain in the future</li>
					<li>ipfs services also now have mapping caches and tag search caches</li>
					<li>ipfs services are now searchable in the main file search view! just select them from the autocomplete dropdown file domain button. they have tag counts and everything</li>
					<li>it will take some time to populate the new ipfs and deleted files caches. if you don't have much deleted files history and no ipfs, it will be a few seconds. if you have a massive client with many deleted/ipfs files and many tags, it could be twenty minutes or more</li>
					<li>.</li>
					<li>'has icc profile' now cached in database:</li>
					<li>the client database now keeps track of which image files have an icc profile. this data is added on file import</li>
					<li>a new file maintenance task can generate it retroactively, and if a file is discovered to have an icc profile, it will be scheduled for a thumbnail regeneration too</li>
					<li>a new system predicate, 'system:has icc profile', can now search this data. this system pred is weird, so I expect in future it will get tucked into an umbrella system pred for advanced/rare stuff</li>
					<li>on update, all your existing image files are scheduled for the maintenance task. your 'has icc profile' will populate over time, and thumbnails will correct themselves</li>
					<li>.</li>
					<li>pixel hash now cached in database:</li>
					<li>the client database now keeps track of image 'pixel hashes', which are fast unique identifiers that aggregate all that image's pixels. if two images have the same pixel hash, they are pixel duplicates. this data is added on file import</li>
					<li>a new file maintenance task can generate it retroactively</li>
					<li>on update, all your existing image files are scheduled for the maintenance task. it'll work lightly in the background in prep for future duplicate file system improvements</li>
					<li>.</li>
					<li>boring search code cleanup:</li>
					<li>fixed a bug where the tag search cache could lose sibling/parent-chained values when their count was zeroed, even though they should always exist in a domain's lookup</li>
					<li>fixed up some repository reset code that was regenerating surplus tag search data</li>
					<li>with the new deleted files domain, simplified the new complex domain search pattern</li>
					<li>converted basic tag search code to support multiple location domains</li>
					<li>cleaned up some search cache and general table creation code to handle legacy orphan tables without error</li>
					<li>misc tag and mapping cache code and combined local files code refactoring and cleanup</li>
				</ul>
				<li><h3 id="version_464"><a href="#version_464">version 464</a></h3></li>
				<ul>
					<li>image icc:</li>
					<li>images with embedded icc colour metadata are now normalised (to sRGB) like the rest of media rendering in hydrus. ICC can often mean photos, where a nice camera will apply ICC data to compensate for camera defects or general lighting information, or it can mean normal digital images where the software attached extra colour data when it was saved</li>
					<li>the image will now be rendered with 'fixed' colours in the media viewer, and new thumbnails should be good too. it applies early in image load and should work in all cases hereon, on both client and server</li>
					<li>images with an ICC will take a little longer to initially load. I'd estimate 10-50ms extra for most. one user with many ICC images discovered 10% of their collection had an ICC. I don't think the delay will be terrible IRL, but see how you get on and let me know! maybe giganto patreon pngs will have a fresh surprise for us</li>
					<li>future expansions here will be a database cache of ICC images and system:has icc, perhaps a button to click the ICC application on and off live in the media viewer, and then maybe options to load up and switch an ICC for your display</li>
					<li>.</li>
					<li>better physical file delete:</li>
					<li>both client and server now physically delete files from storage more smoothly and reliably. the 'deferred file delete' list is now saved in the database itself and will survive reboots (and undo itself if a file is re-added before it can be deleted), and the physical delete daemons are able to work at a less spiky pace as a result. physical delete summaries are now logged as well</li>
					<li>the server now physically deletes surplus files from its file storage! this never actually came up before jej--servers were just keeping all files forever</li>
					<li>on update, all servers will scan to see which files it only has deletion records for and will queue them for a deferred delete</li>
					<li>when deleting a service from the server, all its file repository files and/or general repository update files are now queued for deferred deletion if they are now orphaned</li>
					<li>some advanced 'pending upload file delete' logical situations are now tidied up better, for instance if you have a file set to upload to a file repository or IPFS and then delete the file from the trash, the file will hang around until the upload is done and then it will be correctly scheduled for physically deletion. same for if you delete the file repository or clear all its pending. previously, this file would never delete and become an orphan</li>
					<li>thumbnails for non-downloaded file repository files are now removed promptly from a client if a file repository deletes a file</li>
					<li>.</li>
					<li>misc:</li>
					<li>fixed a typo error in last week's file filtering changes when doing wildcard tag searches in 'all known files' domain</li>
					<li>fixed some bad namespace search optimisation also caused by last week's search updates that was making 'system:has x unnamespaced tags' search instead count all tags, not just unnamespaced (issue #1017)</li>
					<li>fixed incorrect file type handling in thumbnail loading that was triggering a safe mode for gif file thumbs (which are actually jpeg/png), it should roughly double thumb load speed for gifs (and .ico too lol)</li>
					<li>.</li>
					<li>boring image stuff:</li>
					<li>wrote some methods to check for and pull ICC profile bytes from an image with PIL</li>
					<li>wrote ICC application in PIL on image load. we had figured out a way to do it with Qt, but this can happen right at the start of the rendering pipeline and will work for the server too</li>
					<li>cleaned up some PIL/OpenCV image load and normalisation code</li>
					<li>the decompression bomb check is now quicker for images with rotation</li>
					<li>dequantization is now applied to PIL on all image load by default, it doesn't have to be invoked separately</li>
					<li>some metadata parsing like 'get duration of gif frames' is now faster for images not in RGB or RGBA color</li>
					<li>.</li>
					<li>boring delete code cleanup:</li>
					<li>wrote a heap of new 'is an orphan' filtering logic for client and server</li>
					<li>wrote a daemon job for physical file deletion and plugged it into a new database queue for pending deferred file deletes</li>
					<li>client physical file delete now works off the normal lightweight job scheduler, previously it had its own mainloop thread</li>
					<li>optimised complex file domain file filtering a little</li>
					<li>the 'clear orphan files' job in the client now uses the same updated orphan logic as the new physical delete code. it now won't clear out files in upload limbo</li>
					<li>fixed an issue with re-storing a file in a server after one of its file repositories had previously deleted it. this never mattered previously, when files were never physically deleted, but now the code is brushed up to work properly</li>
					<li>cleaned up some server db code, including the read command method lookup</li>
					<li>moved client 'hash exists?' test down to the master definitions module</li>
				</ul>
				<li><h3 id="version_463"><a href="#version_463">version 463</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>ogv files (ogg with a video stream) are now recognised by the client! they will get resolution, duration, num frames and now show in the media viewer correctly as resizeable videos. all your existing ogg files will be scheduled for a rescan on update</li>
					<li>wrote new downloader objects to fix deviant art tag search. all clients will automatically update and should with luck just be working again with the same old 'deviant art tag search' downloader</li>
					<li>added prototype copy/paste buttons to the manage ratings dialog. the copy button also grabs 'null' ratings, let me know how you get on here and we'll tweak as needed</li>
					<li>file searches with namespaced and unnamespaced tags should now run just a little faster</li>
					<li>most file searches with multiple search predicates that include normal tags should now run just a little faster</li>
					<li>the file log right-click menu now shows 'delete x yyy files from the queue' for deleted, ignored, failed, and skipped states separately</li>
					<li>the tag siblings + parents display sync manager now forces more wait time before it does work. it now waits for the database and gui to be free of pending or current background work. this _should_ stop slower clients getting into hangs when the afterwork updates pile up and overwhelm the main work</li>
					<li>the option 'warn at this many pages' under _options->gui pages_ now has a max value of 65535, up from 500. if you are a madman or you have very page-spammy subscriptions, feel free to try boosting this super high. be warned this may lead to resource limit crashes</li>
					<li>the 'max pages' value that triggers a full yes/no dialog on page open is now set as the maximum value of 500 and 2 x the 'warn at this many pages' value</li>
					<li>the 'max pages' dialog trigger now only fires if there are no dialogs currently open (this should fix a nested dialog crash when page-publishing subscriptions goes bananas)</li>
					<li>improved error reporting for unsolveable cloudflare captcha errors</li>
					<li>added clarification text to the edit subscription query dialog regarding the tag import options there</li>
					<li>added/updated a bunch of file import options tooltips</li>
					<li>.</li>
					<li>new presentation import options:</li>
					<li>the 'presentation' section of 'file import options' has been completely overhauled. it can do more, and is more human-friendly</li>
					<li>rather than the old three checkboxes of new/already-in-inbox/already-in-archive, you now choose from three dropdowns--do you want all/new/none, do you want all/only-inbox/inbox-too, and do you want to my-files/and-trash-too. it is now possible to show 'in inbox' exclusively, at the time of publish (e.g. when you highlight)</li>
					<li>added a little help UI text around the places presentation is used</li>
					<li>the downloader and watcher page's list right-click menu entries for 'show xxx files' is now a submenu, uses the new presentation import options, shows 'show inbox files', and if you click on one row it says what the default is and excludes other entries if they are duplicates</li>
					<li>.</li>
					<li>boring presentation import options stuff:</li>
					<li>presentation options are now in their own object and will be easier to update in future</li>
					<li>the 'should I present' code is radically cleaned up and refactored to a single central object</li>
					<li>presentation filtering in general has more sophisticated logic and is faster when used on a list (e.g. when you highlight a decent sized downloader and it has to figure out which thumbs to show). it is now careful about only checking for inbox status on outstanding files</li>
					<li>presentation now always checks file domain, whereas before this was ad-hoc and scattered around (and in some buggy cases lead to long-deleted files appearing in import views)</li>
					<li>added a full suite of unit tests to ensure the presentation import options object is making the right decisions and filtering efficiently at each stage</li>
					<li>.</li>
					<li>boring multiple local file services work:</li>
					<li>I basically moved a bunch of file search code from 1 file services to n file services:</li>
					<li>the file storage module can now filter file ids to a complex location search context</li>
					<li>namespace:anything searches of various sorts now use complex location search contexts</li>
					<li>wildcard tag searches now use complex location search contexts</li>
					<li>counted tag searches now use complex location search contexts</li>
					<li>search code that uses complex location search contexts now cross-references its file results in all cases</li>
					<li>I now have a great plan to add deleted files search and keep it working quick. this will be the next step, and then I can do efficient complex-location regular tag search and hopefully just switch over the autocomplete control to allow deleted files search</li>
				</ul>
				<li><h3 id="version_462"><a href="#version_462">version 462</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>fixed a recent serious regression that could cause a crash when playing audio in mpv (issue #1007)</li>
					<li>the main importer file log now does 'get next/all/count imports with status y' calls significantly faster, particularly on very large lists. these calls happen all the time for different status text changes and general 'which import to try next?' work. all busy downloader situations should see CPU gains to regular and background work</li>
					<li>fixed a problem where importing with the min/max file resolution options set would give a typo error when the size was violated rather than 'ignored'</li>
					<li>I think I have fixed an issue with subscriptions not wanting to run a query if by random accident that query has an invalid URL selected as the query's 'example url' for various pre-work login and bandwidth tests</li>
					<li>hydrus can now capture duration/fps of videos that specify two very close fps, e.g. 60 and 59.99. previously, these would default to the 24 fallback and could cause some weirdness in mpv</li>
					<li>replaced the default pixiv artist page api parser with one that fetches the newer url format, matching the tag search. existing users will see no automatic change but will receive the new parser, so if you are a big pixiv user, you might like to switch 'pixiv artist gallery page api' to the 'new urls' parser variant under _network->downloader components->manage url class links_. note that if you do this, your pixiv artist subscriptions will do a mini-resync (which involves some wasted time/bandwidth) as their urls change!</li>
					<li>.</li>
					<li>network redirect improvements:</li>
					<li>gallery page jobs now give their child 'next gallery page' jobs themselves as a referrer</li>
					<li>when the gallery downloader gets a 3XX redirect, the file import objects and next gallery pages it makes now get the redirected URL as referral url (previously, it used the original gallery url)</li>
					<li>when the post downloader gets a 3XX redirect, the redirected url is now added as a primary source url</li>
					<li>when the post downloader gets a 3XX redirect, child import objects and direct file downloads now get the redirect URL as referral url (previously, it used the original post url)</li>
					<li>when the raw file downloader gets a 3XX redirect, the redirected url is now added as a primary source url</li>
					<li>when the raw file downloader gets a 3XX redirect to a Post URL, it now tries to queue that URL back up in the file log, just like when a gallery fetch comes back with a Post URL. some safety code stops potential loops here as well</li>
					<li>.</li>
					<li>new services:</li>
					<li>a new client now starts with a second local tag service called 'downloader tags'. default tag import options are now initialised in a fresh client to pull all file post tags to this service. this should relieve new users' confusion about setting up default tag import options</li>
					<li>similarly, a new client now starts with a like/dislike rating service called 'favourites'. existing users who have no rating services will be asked if they want to get it on update. many users are unaware of the rating system, so this is a chance to play with it</li>
					<li>the 'getting started with downloading' 'and '...with ratings' help has some updated screenshots and talk about the new default services and parsing</li>
					<li>.</li>
					<li>database fixes:</li>
					<li>fixed a very slow database query that was involved with file search using unnamespaced tags when other search predicates had already limited the scope of search</li>
					<li>fixed a similar slow query when the 'bad' search predicate was 'namespace:anything', particularly when the namespace is a wildcard</li>
					<li>fixed the 'clear orphan tables' database maintenance routine. it had decayed due to bit rot and was deleting new repository processing tracking tables. the routine is now plugged directly into the new database modules system, and any module now can be upgraded to discover surplus service tables. the system has been updated to permit the detection and removal of duplicate tables in the wrong database file, and it also makes a statement if no orphan tables were found</li>
					<li>the 'metadata resync' repository maintenance task now removes surplus file rows from the processing tracking tables</li>
					<li>the 'metadata resync' repository maintenance task now corrects content type rows in the main processing tracking table</li>
					<li>the process of registering updates to a repository is now a little faster, more reliable, repairs basic damage, and keeps more good work when damage needs to be repaired</li>
					<li>I _think_ the users who were still getting PTR processing errors related to a database confusion about content/definitions update files should now be fixed after another full metadata resync! please let me know if there are still problems</li>
				</ul>
				<li><h3 id="version_461"><a href="#version_461">version 461</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>the text on the animation scanbar is now center-vertically aligned and should look better on taller and thinner scanbars (issue #998)</li>
					<li>the scanbar now reports better frame number and current time for the mpv player when the current video is very short or has very few frames. screamer gifs should now report 2/2 frames if you scan to the right, not like 97/2</li>
					<li>fixed using the mpv player with an embed button (it previously was staying hidden even after embed was clicked) (issue #999)</li>
					<li>the 'search' submenu when you right-click on tags in certain locations now shows add/exclude namespace:anything if all the selected tags share the same namespace</li>
					<li>as an experiment that I think will be bulked out into proper shortcuts later, and maybe actual +/- buttons like you'll see on a booru, if you activate the 'selection tags' listbox (double-click or enter key) while ctrl is down, it now excludes the selected tags from the current query</li>
					<li>when you paste query texts into the edit subscription dialog, those queries already in the sub _and_ DEAD will now be revived (it does a 'check now' on them). the dialog reports this</li>
					<li>when editing subscriptions, the way it waits for the current subs to stop running is improved. it is now separate from the global 'pause subs' variable, so big delays here (e.g. waiting a long time to open the dialog, then hitting 'pause' on the network menu, which was secretly a logically messy unpause) should be less able to run into trouble</li>
					<li>watchers now sort DEAD and 404 separately when sorting the status column (previously they were sorted by their now-defunct 'next check time')</li>
					<li>I think I improved the speed of the new subscriptions guaranteed shutdown. I think I also fixed a shutdown hang on some lagging async jobs. there are a couple of reports of hanging shutdown, so let me know if this changes</li>
					<li>I moved the autocomplete options from 'gui pages' to 'search', and I brushed up the layout and tooltips there generally</li>
					<li>.</li>
					<li>file parsing:</li>
					<li>clip files with canvas size units in mm, cm, inches, or points are now parsed correctly! thanks to the user who helped here! turns out a point is 1/72 (two grossths :^)) of an inch</li>
					<li>clip animations now get the number of frames and duration of the first timeline!</li>
					<li>all clip files will reparse for fixed resolution and duration and make new thumbs as needed on update</li>
					<li>hydrus file parsing should now detect the duration of video and audio with 10 or more hours duration</li>
					<li>hydrus now gets a more accurate duration estimate for files with bonkers duration/start_offset pairs, for instance "Duration: 127:57:31.25, start: 460633.291000". if you ever saw a 7MB webm with 5 hour duration (and actually 18 seconds), it could have been this. hydrus now counts frames manually when you get this sort of thing</li>
					<li>any file with resolution > 360p, a duration over an hour, and size less than 64MB will be scheduled for a file metadata reparse on update</li>
					<li>.</li>
					<li>client api:</li>
					<li>/get_files/file_metadata now has an optional boolean parameter, 'hide_service_names_tags', default False, which will hide the old 'service_names_to...' tag Objects</li>
					<li>a unit test tests hide_service_names_tags</li>
					<li>client api help documentation now talks about hide_service_names_tags</li>
					<li>client api version is now 22</li>
					<li>.</li>
					<li>boring code refactoring and cleanup:</li>
					<li>tl;dr: about 60KB total code moved out of client database!</li>
					<li>moved most combined sibling+parent database code to a new 'tag display' module</li>
					<li>moved autocomplete counts cache database code to a new 'mappings counts' module, and refactored a whole lot of of misc old a/c table creation and reference code into that module, cleaning things up</li>
					<li>the 'mappings counts' module is plugged into new repair code and on error repopulates itself as efficiently as regen code currently allows</li>
					<li>moved tag cache code to a new 'tag search' module, and similar related decoupling refactoring</li>
					<li>the 'tag search' module is plugged into new repair code and on error repopulates itself very efficiently</li>
					<li>the 'local tags cache' module can now regenerate itself on boot</li>
					<li>regenerating the local tags cache now works a little faster and takes less memory</li>
					<li>I _believe_ client.caches.db can now regenerate all of itself automatically, with no subsequent user actions needed</li>
					<li>the boot database repair notifications have some quality of life improvements. modules now say whether they think they can recover everything, and there is more guidance on what to do in the different situations </li>
					<li>during various heavy database work, a common analysis tool now saves a lot of time on regeneration vs generation</li>
					<li>pubsubs now go through the transaction wrapper, meaning modules can pubsub</li>
					<li>emergency boot messages (like database trouble) are now printed to the log</li>
				</ul>
				<li><h3 id="version_460"><a href="#version_460">version 460</a></h3></li>
				<ul>
					<li>client api:</li>
					<li>/add_tags/add_tags now supports 'service_keys_to_tags' and 'service_keys_to_actions_to_tags'.</li>
					<li>/add_urls/add_url now supports 'service_keys_to_additional_tags'</li>
					<li>/get_files/file_metadata now returns with duplicates of the tag structures using 'service_keys_to_statuses_to_(display_)tags'</li>
					<li>added unit tests for the above</li>
					<li>updated the client api help for the above</li>
					<li>I recommend you move from 'service_names_to...' to 'service_keys_to...' when convenient. 'names' was an ugly old hack, and while I am not in a rush to delete it from the client api, I think I will eventually</li>
					<li>client api version is now 21</li>
					<li>.</li>
					<li>apngs and clips:</li>
					<li>fixed a problem where the new apng metadata parsing was not completely hooked up, so num_frames was not being parsed correct for the final metadata row even when 'apng' filetype was, leading to some odd '1 frame apng' situations</li>
					<li>apng parsing now recognises more kinds of apngs--if one has an unusual scaling chunk in the header, this is recognised and the correct animation chunk searched for</li>
					<li>clip files now get resolution on import and a thumbnail! big thanks to the user who dug up how to extract this--it actually comes from a sqlite file embedded in the clip! (issue #996)</li>
					<li>on update, all apngs and clips will be scheduled for metadata rescan, and all clips will be scheduled for thumbnail generation</li>
					<li>.</li>
					<li>misc:</li>
					<li>right-clicking a selection tag and choosing 'select->files with x tag' now obeys the current tag domain (previously, it forced 'all known tags'). so, if you want to quickly select just the files with 'samus aran' on 'my tags', it should be doable</li>
					<li>the new 'partial' download resumer system will now tolerate two successive empty chunks before throwing a 'this chunk was empty' error. it seems some servers will randomly give an empty chunk at times during 206 transfers</li>
					<li>cancelling the slideshow custom time dialog no longer raises an error</li>
					<li>after the build boot problem last week, updated the opencv version in requirements.txts--we are now officially >=4.0.0, <=4.5.3.56. it looks like pyinstaller needs a patch for 4.5.4.58 to work, so we'll wait for that. I am improving my weekly test routine to try to catch this in future</li>
					<li>also, the windows build no longer includes two copies of an opencv dll. turns out PyInstaller finds this dll ok now (putting it in another location) and it doesn't need to be explicitly added during build</li>
					<li>added a new help file to the db dir for users who experience crashes as soon as they load videos in mpv when using WASAPI or ASIO drivers. thanks greatly for the user who figured out the mpv.conf solution here (issue #973)</li>
				</ul>
				<li><h3 id="version_459"><a href="#version_459">version 459</a></h3></li>
				<ul>
					<li>main highlights:</li>
					<li>to help debugging from screenshots etc..., the client now puts its version name on every window title, like 'review services - hydrus client 459'. (issue #447)</li>
					<li>the 'main gui title' option is reset and replaced with 'application display name' this week. it now alters the 'hydrus client' part on every window title. the actual 'main gui title' is now "main" lmao</li>
					<li>wrote a new help document, 'help my media files are broke' in the db directory. this collects the different recovery routines I have developed while helping users after drive failure or other problems cause many missing files or a desynced database and file storage structure. I will be pointing people to this in future, please feel free to do the same</li>
					<li>two new file maintenance jobs are added: for 'presence' and 'integrity' checks, you can now do 'if has URL, then try to redownload, else remove record'. this tidily combines the two more specific jobs that are commonly run after a hard drive problem. the 'presence' version is now the default selected job and recommended for most simple situations</li>
					<li>a new easy-select button on the review file maintenance panel  lets you select all media files</li>
					<li>I put some more time into the new duplicate filter zoom locking calculation. thank you to users who sent in examples of my code not working well--I have scaled back what it tried to do. now it will tend to heigh-lock for landscape images and width-lock for everything else _unless_ you are currently viewing the default zoom and that roughly fills the canvas on a dimension and doing the default lock would cause the next image to spill over the screen. the 'solution' here hence targets the 'watermark spilled over' problem more specifically and deals with all combinations of landscape/portrait A/B/canvas better. I'd still like to introduce some zoom locking options here for regular browsing, but pinning down what exactly is useful is trickier than I expected</li>
					<li>the edit tag import options panel now shows 'THIS CURRENTLY GETS NO TAGS' warning red text if it is non default and no tags are set to parse and there are no additional tags</li>
					<li>the status bar now shows '1,234 files in 20 collections' when you have just collections or just collections selected (previously, it wrongly said '1,234 collections') (issue #807)</li>
					<li>macOS clients will now show dialog-created menus in a debug dialog unless the new BUGFIX checkbox under 'gui' options page is unchecked. this _should_ help Big Sur users who are unable to interact with menus created in dialogs like manage tags or manage services. I threw this together, so let me know how this works for you! (issue #986, issue #858)</li>
					<li>the program now waits specifically for currently running subscriptions to stop work and save themselves before moving on with further shutdown tasks. hand in hand with this, subscriptions are now faster at stopping work on client exit, even when they have no popup message (through which some hackery dackery shutdown signals are sent otherwise) (issue #790)</li>
					<li>physically deleting thousands of files in one go should no longer lock up the file manager and other systems for ages--physical delete is now serialised and processed on a new threaded mainloop, so it doesn't matter how fast the requests come it, it will chunter at a polite speed and take breaks and should not choke other consumers and freeze up other 'things are great, you can start new work' status checks</li>
					<li>.</li>
					<li>network job improvements:</li>
					<li>hydrus network jobs now try to resume incomplete responses (previously they just dumped out and tried again from the beginning). if a server provides less content than it said it would, or it explicitly gives us a partial response, we now resume at that point! should fix dowmnloading of longer videos on 8chan.moe</li>
					<li>hydrus network jobs now send a range header by default, letting servers return 206 (partial content) if they wish</li>
					<li>SSL errors (cert verification and similar) are now caught in the network engine separately to generic connection errors. they will not be reattempted, and the failure note will display specific error info</li>
					<li>refactored some response header parsing code, cleaning up how some variables are initialised</li>
					<li>greatly improved the job reattempt system, resetting variables more neatly</li>
					<li>improved some response range and content length calculations</li>
					<li>.</li>
					<li>smaller items, mostly bug fixes:</li>
					<li>fixed a recent typo bug that caused the edit url class dialog to always spawn with 'file url' type set. sorry, this was stupid! (issue #982)</li>
					<li>the edit url class dialog now sends the 'normalised' url as the example text for the api and referral string converter edit panels</li>
					<li>fixed the new advanced file deletion 'remember last' checkboxes in _options->files and trash_. they weren't hooked up right, sorry!</li>
					<li>fixed the tag menu's siblings submenu's copy command where it says 'ideal is "xxx" on: yyy'. despite the correct label, this was sometimes copying a different service's ideal (issue #855)</li>
					<li>fixed the 'media zooms' text input under _options->media_ not turning off the 'red' invalid mode once its text is again valid</li>
					<li>when you cancel the 'edit parser' dialog, it shouldn't say 'it looks like you made changes' so much when you didn't make any. the 'has changes' test now ignores some background test data updates that may have happened (issue #875)</li>
					<li>if a JSON parsing formula is given HTML, the 'cannot parse' error now tries to detect this and present a better error text (issue #888)</li>
					<li>I _think_ I fixed a problem in the new bytes rendering calculation (where it goes 1018825 to "995KB") where on some unlucky edge-case numbers it could non-determinitively choose different sig figs (e.g. flipping between 994.9KB and 995KB)</li>
					<li>fixed a couple of file move actions that were unable to move across Windows partitions when the timestamp was before 1980-01-01 (issue #989)</li>
					<li>mr bones now recognises you are not a new user if you deleted all your files. you can never exit</li>
					<li>after some testing, it seems like large 'drop table' operations in SQLite sometimes work within seconds but generally take far longer, often working as slow as 10MB/s (and I just talked to a guy for whom it took _days_(!!!). writing a fix to make 'delete service' always run fast for something as large as the PTR will take planning and work, so for now I have attached a warning note to the delete service confirmation dialog</li>
					<li>updated the file maintenance review panel to newer async code</li>
					<li>fixed a typo bug in URL export when a file is missing/bad in file maintenance</li>
				</ul>
				<li><h3 id="version_458"><a href="#version_458">version 458</a></h3></li>
				<ul>
					<li>quality of life:</li>
					<li>under _options->files and trash_, you can now govern whether the advanced file deletion dialog remembers action and reason. being able to save action (trash, physical delete, vs physical delete and clear history) is new, default off for now, and won't _always_ save (if you are currently set to trash, but the next dialog doesn't have trash as an option, then it won't overwrite to physical delete). if you try it out, let me know how you like it</li>
					<li>a new option under 'network->pause' now lets you always boot the client with paused network traffic</li>
					<li>the main file import object now stores primary urls (such as post and file url) separately from source url (which is produced by many parsers and typically refers to another website). a new checkbox in 'file import options' (when in advanced mode) now allows you to not associate primary urls separately to source urls (which is useful in some one-time technical jobs that talk to some unusual proxy etc...)</li>
					<li>the new import object right-click menu that shows urls now separates primary and source urls, and also shows any referral url</li>
					<li>when you flip between two images in the dupe filter, the zoom preservation calculation, which previously only locked to the same width, now tries to choose width or height based on the relative ratios of the two images to keep both images completely in view on a canvas zoom start. it should ensure that lower watermark banners stay in view and don't accidentally spill over the bottom of your monitor</li>
					<li>moved popup toaster options from 'gui' options page to the new 'popup' page</li>
					<li>added options for whether the popup toaster should update while the client is minimised and while the mouse is on a different monitor than the main gui window. these options now default to false, so if you have any trouble, please try turning them back on</li>
					<li>a new shortcut action in the 'global' set now flips profile mode on and off. please note for now 'global' only works on main gui and media viewer--I will add a hook to every window in the future!</li>
					<li>.</li>
					<li>bug fixes:</li>
					<li>you now cannot start an 'upload pending' job for a service more than once at a time. the menu is now disabled for each service while uploading is happening</li>
					<li>fixed a bug in media load where if the file was not in a specific domain (i.e. somewhere in all known files), its tags would not show implied parents. for non-specific files, this calculation happens on the fly, and previously it was only doing siblings</li>
					<li>fixed a bug from the somewhat recent file deletion update that meant many files' custom deletion reasons were being overwritten to 'No reason given' when trash was clearing. I am sorry for the inconvenience!</li>
					<li>fixed an issue with parsing 'string' from html 'script' tags (and perhaps some other 'meta' tag types) on recent versions of the built hydrus release. this should fix the newgrounds gallery parser</li>
					<li>fixed some gallery parsing error handling, for when the actually fetched url differs from  the original and cannot be parsed, and when the actually fetched url redirects straight to a file page from a 1-length search result</li>
					<li>.</li>
					<li>update file handling bug fixes:</li>
					<li>when repository processing runs into an update file problem, it now specifies if the file was content or definitions type</li>
					<li>when the database gathers updates to process, it discriminates between definitions and content updates more carefully</li>
					<li>when a hydrus update file goes through file maintenance and changes filetype, the repository update progress tracker now 'reregisters' that file, updating what content types it can expect from it and clearing out incorrect data</li>
					<li>during normal update file registration, incorrect old data is now cleared out</li>
					<li>.</li>
					<li>boring cleanup:</li>
					<li>cleaned some of the positioning code that places icons and text on thumbnails, removing hardcoded numbers and letting custom icons position better</li>
					<li>cleaned some import url tracking, checking, and association code</li>
					<li>refactored profile mode and query planner mode switching up out of UI code into the controller</li>
					<li>added a hefty unit test to test that siblings and parents are transitively applied to mappings correctly for files outside and inside specific file services, and for tag sync and the normal tag pipeline</li>
					<li>refactored some database file maintenance code to decouple the queue from the worker</li>
				</ul>
				<li><h3 id="version_457"><a href="#version_457">version 457</a></h3></li>
				<ul>
					<li>smoother menubar updates:</li>
					<li>improved the way the menubar menus update. rather than generating a whole new (e.g. 'pages') menu and replacing the existing out of date one, now there is a static menu skeleton that has subsections or labels updated in place. this means fewer objects changing, less flicker/jank, and should allow you to upload pending even if you have, say, a bunch of subscriptions running</li>
					<li>.</li>
					<li>misc:</li>
					<li>thanks to a user's help, the filetype parser now detects pngs (this mostly happens during import) much faster! the problem previously was determining if a png is actually an apng--figuring out if they are truly apngs is now done with very fast file header scanning, rather than the previous method that booted ffmpeg. this brings filetype parse time for pngs down from 50-150ms to 1-2ms</li>
					<li>getting apng metadata is also now faster. num_frames is now pulled from the file header, it no longer has to be manually counted by ffmpeg</li>
					<li>clicking the session weight item in the 'pages' menu now gives you more detailed info on your session weight, including on currently closed pages in the undo list</li>
					<li>stripped out a lot of ancient wx-era safety code that stops the client from doing certain UI work while it is minimised or minimised to tray. also brushed up some ugly update routines for menus refresh and modal message presentation that could lead to a pile-up of updates as soon as the client was unminimised, causing lag or freezes. with luck, the client should be better about restoring itself from minimised to system tray. if you minimise to tray, feedback on how this works out for you would be appreciated</li>
					<li>when a network job stalls with the 'this domain had some errors recently' message, the cog menu on the widget now allows you to 'scrub domain errors' and try again immediately</li>
					<li>if your search has system:limit, then any tag search you type in the autocomplete will now search the database, not your thumbnails. previously, the hack to enable this behaviour was to flip 'searching immediately' off. let's see if this new behaviour is ultimately confusing/annoying, I am mixed on it and think this subtle search option needs more thought and UI to make it more obvious and user friendly</li>
					<li>if you have autocomplete tag search typed, and results from thumbnails displayed, and you flip 'searching immediately' off, the search will now automatically update and give you full database numbers immediately</li>
					<li>.</li>
					<li>help:</li>
					<li>I moved 'searching with wildcards' from the advanced help to the 'more getting started with files' help here: https://hydrusnetwork.github.io/hydrus/help/getting_started_more_files.html</li>
					<li>I also wrote a more detailed description of what the autocomplete dropdown buttons do in that page</li>
					<li>I also wrote a brief description of how a system:limit query will try to clip according to the current file sort, getting the n 'biggest files' and so on</li>
					<li>.</li>
					<li>boring code cleanup:</li>
					<li>cleaned some network job widget update calls</li>
					<li>improved some misc autocomplete search status tracking</li>
					<li>improved some account object permission checking and tests. accounts now never say they have permissions (e.g. if you click the 'see account permissions' button on review services) if they are banned or expired</li>
					<li>file and pages menus now uses the new update routine</li>
					<li>pending menu now uses the new update routine, with an emphasis on anti-jitter so you can interact while it is updating</li>
					<li>database, network, service, and undo menu now use newer async update code and also use the new update routine</li>
					<li>cleaned up help and tags menu init code</li>
					<li>the signal that causes the pending menu to update is now only sent on tag changes if the tag service is a repository (previously, local-only updates were janking this for no reason)</li>
					<li>the pending menu now updates its sibling/parent numbers when repository processing causes a clever row change to stuff you have pending</li>
					<li>also, some menubar items that only show when in advanced mode now update their visibility when advanced mode is flipped on or off</li>
					<li>misc menubar code cleanup and improvements</li>
				</ul>
				<li><h3 id="version_456"><a href="#version_456">version 456</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>the client no longer regularly commits a full garbage collection during memory maintenance. this debug-tier operation can take up to 15s on very large clients, resulting in awful lag. various instances of forcing it after big operations complete (e.g. to encourage post-subscription memory cleanup), are now replaced with regular pauses to allow python to clean itself more granularly. this may result in temporary memory bloat for some very subscription-heavy clients, so feedback would be appreciated</li>
					<li>right-clicking on a single url import item in a 'file log' now shows you all the known hashes, parsed urls, and parsed tags for that item. I hope this will help debug some weird problems!</li>
					<li>all multi-column lists across the program now convert an enter/return key press into an 'activate' command, as if you had double-clicked. this should make it easier to, for instance, highlight a downloader or shift/ctrl select a bunch of sibling rows and mass-delete (issue #933)</li>
					<li>the subscription gap filler button now propagates file import options and tag import options from the subscription to the downloader it creates (issue #910)</li>
					<li>a new 'mpv report mode' now prints a huge amount of mpv debug information to the hydrus log when activated</li>
					<li>improved how mpv prints log messages to the hydrus log, including immediate log flushing</li>
					<li>fixed a bug that meant the hydrus server was not saving custom update period or anonymisation period for next boot. thank you for the reports, and sorry for the trouble! (issue #976)</li>
					<li>cleaned up some database savepoint handling after a serious transaction error occurs</li>
					<li>the client api now ignores any parameter with a value of null, as if it were not there, rather than moaning about invalid datatypes (issue #922)</li>
					<li>.</li>
					<li>url classes:</li>
					<li>the edit url class dialog is now broken into two notebook pages--'match rules', which strictly covers how to recognise a url, and 'options', which handles url storage, conversion, and normalisation</li>
					<li>url classes can now support single-value parameters (a parameter with just a value, not a key/value pair). if turned on, then at least one single-value parameter is required to match the url, and multiple are permitted. a checkbox in the dialog turns this on and a string match lets you determine if the url class matches the received single value params</li>
					<li>added unit tests to test the new single-value parameter matching</li>
					<li>fixed an issue where StringMatch buttons were not emitting their valueChanged signal, guess how I discovered that bug this week</li>
					<li>fixed the insertion of default parameter values when the URL Class has non-alphabetised params</li>
					<li>refactored and cleaned up some related parsing and string convertion code into new ClientString module</li>
				</ul>
				<li><h3 id="version_455"><a href="#version_455">version 455</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>many of the simple system predicates (width, size, duration, etc..) now support the '≠' (not equal) operator! searches only support one of these at once for now (e.g. you can't say height != 640 AND height != 1080--it'll pick one of these pseudorandomly)</li>
					<li>the watcher page list right-click menu now has 'copy subjects', which copies the selected watchers' 'subject' texts to clipboard</li>
					<li>the advanced file deletion panel now remembers which reason you last used. it remembers if you selected the 'default' value up top versus specific reason text, and if you enter custom text, it remembers that for next time too</li>
					<li>the network job widget now shows the current URL as tooltip over the progress gauge, and under the cog menu, where clicking it copies it to clipboard</li>
					<li>the various menu labels across the program should now show ampersand (&) correctly (e.g. in URLs)</li>
					<li>the way byte sizes (like 21.7KB or 1.24GB) above 1KB are rendered to strings has been overhauled. they now generally show three significant figures. a new EXPERIMENTAL option in 'gui' options panel lets you change this, but only 2 or 3 are really helpful</li>
					<li>if a repository clears the message on your account, you no longer get a popup telling you 'hey, new message from server x: ...'</li>
					<li>the new ≠ system preds should be parseable (but be careful, likely buggy) using the client api's new system predicate parser, with '≠', '!=', 'is not', or 'isn't'</li>
					<li>cleaned up some old data presentation methods and improved how client specific options are patched in to base hydrus string conversion code</li>
					<li>.</li>
					<li>ui freezes:</li>
					<li>session pages can now detect if they have had no saveable changes since a certain time. they use this ability to skip redundant session save CPU time for pages with no changes since the last session save</li>
					<li>for now, since the smallest atom of the session system is a whole page, gallery and watcher pages can only save time if _every_ downloader in the page has had no changes, so in their case this optimisation mostly only applies to completely finished/paused pages. it is still better to have several medium size downloader pages than one gigantic one</li>
					<li>a new database maintenance task ensures that optimisation cannot accidentally lose a page (from something like an unfortunate timing of a session save after many manual session deletes)</li>
					<li>the existing optimisation that skips 'last session' save on no changes now initialises its data as the 'last session' is first loaded (rather than on first save), meaning that if there are no changes while the client is open, no new 'last session's will be saved at all</li>
					<li>misc session save code cleanup</li>
					<li>.</li>
					<li>database repair, mostly boring:</li>
					<li>a client can now boot with client.caches.db missing and will rebuild that file. almost all of its tables are now able to automatically repopulate (issue #975)</li>
					<li>all the new modules I have been working on are now responsible for their own repair. this includes missing indices, missing tables, and table repopulation where possible. modules now know which of their tables are critical to a boot, what version each table and index was added, and now manage both initial and later-created service tables and indices</li>
					<li>essentially, all newer database repair code is now modularised rather than hardcoded. the repair and creation code actually now share the same table and index definitions. the code is more reliable, checkpoints its good work in case of later failure, and will be much easier to maintain and expand in future</li>
					<li>lots of module repair and initialisation code is refactored and generally given a full pass</li>
					<li>the core mappings cache regeneration routine now takes transaction checkpoints throughout its job to save progress and reduce journal size</li>
					<li>master definition critical error detection code is no longer hardcoded!</li>
					<li>mapping storage repair code is no longer hardcoded!</li>
					<li>similar files repair code is no longer hardcoded!</li>
					<li>parent or sibling cache repair repopulation is no longer hardcoded!</li>
					<li>the local hashes cache module can now repopulate itself during repair</li>
					<li>the notes fast search table can now repopulate itself during repair</li>
					<li>the similar files search tree table can now rebuild itself during repair</li>
				</ul>
				<li><h3 id="version_454"><a href="#version_454">version 454</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>when a downloader page fetch gives a 500 Server Error, it is now handled better, status numbers are updated to 'failed' quickly, and I believe the post-500 downloader deadlock issue (downloaders staying as 'pending', not 'working', after several of these 500s) should also be fixed (issue #898 maybe, but many other reports also)</li>
					<li>when finishing a very large archive/delete filter, the UI should not hang so much to commit the changes. the changes may be delayed a second or more, if your client is currently chugging, so if you are a user who hits F5 real quick after committing archive/delete, let me know how you get on. I've tried to mitigate for your situation, but it may not be perfect.(issue #845)</li>
					<li>the Edit URL Class dialog will now refuse to OK if the API Converter fails.</li>
					<li>the Edit URL Class dialog will now put up an 'are you sure?' messagebox if the URL Class matches its own example API URL</li>
					<li>fixed some gallery error handling when a gallery cannot be parsed</li>
					<li>improved 'cannot parse' error reporting text to include more information</li>
					<li>the client api /manage_pages/add_files command should now always preserve the sort of both the file_ids or hashes parameter</li>
					<li>fixed an instance where image bitmaps were being handled incorrectly (issue #876)</li>
					<li>the client will no longer report shutdown work due for a repository when the work is on a currently paused content type</li>
					<li>fixed some logic related to the advanced tag option of 'fetch page even if url recognised and already in db'</li>
					<li>improved the error message when an unlucky duplicate boot causes a locked database error</li>
					<li>I rearranged and clarified a couple of links in the 'advanced' area of the help index page</li>
					<li>added some help texts and tooltips to the edit checker options dialog and fixed some borked layout</li>
					<li>did a quick hack to fix some db repair code that wasn't dealing with some missing module information. I will brush the repair code up in the near future so that modules can repair themselves</li>
					<li>.</li>
					<li>some text colour stuff:</li>
					<li>the green/red/blue duplicate comparison statements on the duplicate filter's right-hand hover window are now coloured by QSS. a new 'HydrusIndeterminate' object name handles the blue.</li>
					<li>the green/red background in the advanced OR input is now governed by HydrusValid and HydrusInvalid</li>
					<li>the various 'help for this panel' blue texts are also now HydrusIndeterminate</li>
					<li>I have added dark or light HydrusIndeterminate and more Valid/Invalid class definitions to all the default qss styles. they may need some updates, so if you wrote any of these QSS files, please fiddle with them and send me any updates to roll in!</li>
					<li>added a new user created QSS style called 'Dark Blue', thank you for the submission!</li>
					<li>all text colours are now dynamically set, either QSS or through (tag colour) options! there are no more hardcoded text colours!</li>
					<li>.</li>
					<li>media viewer's image tile renderer:</li>
					<li>a new option in 'speed and memory' allows you to change the typical square dimensions of tiles in the tile renderer. default is 768 pixels. you can go bigger to improve accuracy, but it'll cost a little memory and CPU inefficiency</li>
					<li>the new 'nice' tile size calculator now tests more potential tile sizes, improving precision and reducing stretch-warping along tile borders for unusual zooms</li>
					<li>the new nice size calculator is now also used when figuring out tile padding, making padding widths that do not cause stretch-warps</li>
					<li>there remain slight stretch-warps in some bottom-most and right-most tiles</li>
					<li>a new canvas tile debug report mode now draws blue lines on tile edges in the media viewer and spams some tile number info to popups</li>
					<li>improved tile coordinate safety checks for extremely small images (e.g. 1x1) when blown up to ridiculous zooms so there are more than one tile per pixel</li>
					<li>this took a bunch of work, and I am happy that I figured out some solutions, but I believe it may be impossible to get perfect answers here. please try out this new version and let me know how it goes, particularly in the duplicate viewer where warping is obvious. I think ultimately I may replace this with a single tile system that goes over the borders of your screen, eliminating the stitching problems entirely, although this will eat more memory and CPU</li>
				</ul>
				<li><h3 id="version_453"><a href="#version_453">version 453</a></h3></li>
				<ul>
					<li>qol and misc:</li>
					<li>the network job status labels around waiting for 'subscription'/'download page'/'watcher' forced wait slots are reworded. now they just say a more plain 'waiting to work' with a time estimate, and if a job does not get a chance to work this check cycle, it says 'a different xxx got the chance to work' for a few seconds.</li>
					<li>if a network job does not get bandwidth on a check cycle, it now says 'a different network job got the bandwidth' for a few seconds</li>
					<li>when waiting on bandwidth or gallery work, network jobs should count down more smoothly, one second at a time, not skip a second so often</li>
					<li>network job widgets are now better about updating the layout of their two text labels. the status text on the left should take all the available pixels much better, sharing with the '64KB/s' speed text as it changes width and disappear</li>
					<li>added a new user-made darkmode QSS stylesheet called 'OledBlack' to default hydrus, try it out under _options->style_</li>
					<li>if the tag domain in a search page is other than 'all known tags', the 'selection tags' box, which limits itself to the current domain's tags, now explicitly labels itself with that domain</li>
					<li>consolidated and optimised the pre-work checks on all importers/downloaders in pages. pages with idling/finished/paused downloaders will consume just a little less CPU and need to talk to fewer important objects</li>
					<li>renamed the shortcut sets for viewer/preview media windows and clarified that they are mouse only for now. the new seek command works with these, but you'd have to map ctrl+right-click or something</li>
					<li>improved the system predicate unit tests to catch datatype problems like with last week's hotfix and system:time imported</li>
					<li>advanced archive/delete stuff: wrote up a neat idea I had about using local parents applied to the PTR to make fast multi-tag processing workflows here: https://hydrusnetwork.github.io/hydrus/help/advanced_parents.html#parent_favourites</li>
					<li>.</li>
					<li>bug fixes:</li>
					<li>an important tag search bug is fixed. for some users, files that were imported before a service was added were not appearing in some of that service's search results, or their tag counts were not added in certain tag autocomplete results. this file miscount is fixed, and holes will be filled on database update. it should not take too long to fix, although different users will have different situations</li>
					<li>this bug was leading to artificially fast PTR processing speeds on some clients as their older files were being skipped. if you have used the client for a long time but only added the PTR recently, sorry if you notice it slow down! it is now working correct!</li>
					<li>fixed an important bug in the image rendering system that was causing tile artifacts (little lines of double-pixel jank along tile borders) at a variety of regular zoom levels. the way ideal tile size was being calculated was often incorrect, so I have replaced it with a better calculation</li>
					<li>the system predicate parser can now parse 'system:is not the best quality file of its duplicate group' (only 'isn't' was working, previously) (issue #954)</li>
					<li>if the collect-by dropdown is fed garbage namespace data from the namespace sort options, it now recovers with a nicer error message (issue #904)</li>
					<li>misc db code cleanup and minor refactoring</li>
					<li>.</li>
					<li>client api:</li>
					<li>OR predicates are now supported in the client api! Just nest within the tag list, and it'll bundle the nested list into an OR. there's an example in the client api help</li>
					<li>some permissions testing in file search is tightened up--now we have OR and system predicates, if you do not submit any regular positive tags, the search permissions have to be 'allow anything'</li>
					<li>fixed an issue where the client api would let you ask about sha256 hashes of incorrect length (and would ultimately make a master database id for these borked hashes, even the empty string!!). now the client api throws a 400</li>
					<li>fixed a bug in /manage_pages/get_pages where all pages were marked as 'selected'=true (issue #841)</li>
					<li>in the client api, if you use missing file_id(s) on a request for a file, thumbnail, metadata about a file, or when trying to add a files to a page, it now gives 404 correctly (rather than 500) (issue #961)</li>
					<li>added a section to the client api help on variable encoding, including an example of how to convert a python tag list to JSON+URL encoded string</li>
					<li>added new unit tests for OR pred parsing and the hash length check</li>
					<li>client api version is now 20</li>
				</ul>
				<li><h3 id="version_452"><a href="#version_452">version 452</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>my 'simple' shortcut commands can now store additional variables. to start things off, I have finally added 'seek video' shortcut commands that have back/forwards and second+millisecond values. these should work on the native video viewer and mpv, audio and video. existing users will have to add their own (do it to the 'media viewers - all' set), but new users will get ctrl+left/right for 2.5s back and 5s forwards as the new defaults. let me know if you have any trouble!</li>
					<li>the maximum number tracked by 'tag as number' system predicate is expanded from -99999999->99999999 to -2^63 -> 2^63 - 1. tag caches will be regenerated on update to store these, it will take a few minutes. the input ui for the system predicate is temporarily limited to -/+2^31, but I'll expand it</li>
					<li>subscriptions now have a checkbox for 'do not worry about subscription gaps'. if you have a subscription that gets files randomly, or gets an intentionally small sample, this will disable the 'hey, there was a gap, click here to fill it in' popup messages</li>
					<li>you can now set negative values for the duplicate score weights in options->duplicates</li>
					<li>also added a weight for the 'nice ratio' duplicate comparison</li>
					<li>vastly improved the cancel speed for searches in the realm of 'get the files that have any xxx tag', be that all tags or a namespace wildcard, and also some important search setup for various 'all known files' search pages. if you have ever tried to search the PTR raw and run into a three minute uncancellable initial setup lag, it should be gone now!</li>
					<li>when you right-click on files in a specific local file domain (e.g. trash or my files), the 'view this file's dupes' number check is now run on 'all local files' as well, and if the numbers differ, a second menu is shown for all local files. this should make it easier to chase dupes of trashed files that are still untrashed while also allowing a trash-only search</li>
					<li>fixed a critical bug in repository mapping processing that was not adding mappings to certain caches for files imported before the repo was added, and/or the new repository 'per content type' processing reset. this mostly manifested as these files not showing up in search results despite the tag being there. there is more work to do here, so it is top priority next week, and likely some maintenance to regen the bad caches</li>
					<li>.</li>
					<li>boring rewrites for multiple local file services:</li>
					<li>many users have asked for the ability, when multiple local file domains are available, to search multiple file domains at once. I spent time this week doing background work to support this, and a related concept of searching 'deleted' files, which is a current gap in the program and not always covered by 'all known files'. nothing significant changes, but almost all the file search code now works on n file domains rather than 1, but for now n=1 lmao</li>
					<li>made a new 'database search context' object to handle a virtualised but still simple and fast file 'location view' at the database level</li>
					<li>the primary file search call is converted to use this object. references to a single file service are replaced with the view or its components</li>
					<li>all duplicate file search code is moved to the new location search context</li>
					<li>searching by 'system:import time' now works over multiple domains, although it is a little muddled. in future, import time predicate will have an optional specific file service and do 'import time' vs 'deleted time'</li>
					<li>'system:local' and 'system:not local' is adapted so it can still work fast with multiple file domains, sped up worst case 'local' time, and a new optimisation lets it run fast for 'deleted from local files' too</li>
					<li>sorting search files by import time is now only supported if the search domain is just one domain</li>
				</ul>
				<li><h3 id="version_451"><a href="#version_451">version 451</a></h3></li>
				<ul>
					<li>stupid anti-virus thing:</li>
					<li>we have had several more anti-virus false positives just recently. we discovered that at least one testbed used by these companies was testing the 'open html help' checkbox in the installer, which then launched Edge on the testbed, and then launched the Windows Update process for Edge and Skype, which was somehow interacting with UAC and thus considered suspicious activity owned by the hydrus installer process, lmao. thereafter, it seems the installer exe's DNS requests were somehow being cross-connected with the client.exe scan as that was identified as connected with the installer. taking that checkbox out as a test produced a much cleaner scan. there is a limit to how much of this nonsense I will accomodate, but this week we are trying a release without that 'open help' link in the installer, let's see how it goes</li>
					<li>semi-related, I brushed up the install path message in the installer and clarified help->help will open the help in the first-start welcome popup message</li>
					<li>.</li>
					<li>misc:</li>
					<li>I fixed a critical bug in tag sibling storage when a 'bad' tag's mapping is removed (e.g. 'delete A->B') and added ('add A->C') in the same transaction, and in a heap of fun other situations besides, that mostly resulted in the newly added sibling being forgotten. the bug was worse when this was on a local tag service via the manage siblings dialog. this problem is likely the cause of some of our weird sibling issues on clients that processed certain repository updates extremely quickly. I will keep investigating here for more issues and trigger another sibling reset for everyone in the future</li>
					<li>the 'show some random pairs' button on the duplicates page is nicer--the 'did not find any pairs' notification is a popup rather than an annoying error dialog, and when there is nothing found, it also clears the page of thumbs. it also tries to guess if you are at the end of the current search, and if so, it will not do an auto re-fetch and will clear the page without producing the popup message</li>
					<li>fixed a bug that meant file order was not being saved correctly in sessions! sorry for the trouble!</li>
					<li>import of videos is now a little faster as the ffmpeg call to check resolution and duration is now retained to check for presence of an audio channel</li>
					<li>when files are imported, the status messages are now much more granular. large and CPU-heavy files should move noticeably from hash generation to filetype calculation to metadata to actual file copying</li>
					<li>fixed a database query bug in the new processing progress tracking code that was affecting some (perhaps older) versions of sqlite</li>
					<li>when you trash/untrash/etc... a file in the media viewer, the top hover text now updates to show the file location change</li>
					<li>fixed a typo bug in the new content type tracking that broke ipfs pinning yet again, sorry for the trouble! (issue #955)</li>
					<li>I fleshed out my database pending and num_pending tests significantly. now all uploadable content types are tested, so ipfs should not break at the _db_ level again</li>
					<li>the page tab menu now clumps the 'close x pages' into a dynamic submenu when there are several options and excludes duplicates (e.g. 'close others' and 'close to the left' when you right-click the rightmost page)</li>
					<li>the page tab menu also puts the 'move' actions under a submenu</li>
					<li>the page tab menu now has 'select' submenu for navigating home/left/right/end like the shortcuts</li>
					<li>fixed some repository content type checking problems: showing petition pages when the user has moderation privileges on a repository, permission check when fetching number of petitions, and permissions check when uploading files</li>
					<li>fixed a typo in the 'running in wine' html that made the whole document big and bold</li>
					<li>across the program, a 'year' for most date calculations like 'system:time imported: more than a year ago' is now 365 days (up from 12 x 30-day months). these will likely be calendar calculated correctly in future, but for now we'll just stick with simple but just a bit more accurate</li>
					<li>fixed a bug in mpv loop-seek when the system lags for a moment just when the user closes the media viewer and the video loops back to start</li>
					<li>.</li>
					<li>client api:</li>
					<li>expanded my testing system to handle more 'read' database parameter testing, and added some unit tests for the new client api file search code</li>
					<li>fixed the 'file_sort_asc' in the new client api file search call. it was a stupid untested typo, thank you for the reports (issue #959)</li>
					<li>fixed 'file_service_name' and 'tag_service_name' when they are GET parameters in the client api</li>
					<li>I fleshed out the file search sort help to say what ascending/descending means for each file sort type</li>
					<li>.</li>
					<li>boring database cleanup:</li>
					<li>to cut down on redundant spam, the new query planner profile mode only plans each unique query text once per run of the mode</li>
					<li>also fixed an issue in the query planner with multiple-row queries with an empty list argument</li>
					<li>refactored the tag sibling and parent database storage and lookup code out to separate db modules</li>
					<li>untangled and optimised a couple of sibling/parent lookup chain regeneration calls</li>
					<li>moved more sibling and parent responsibility to the new modules, clearing some inline hardcoding out of the main class</li>
					<li>cleaned up a bunch of sibling, parent, and display code generally, and improved communication between these modules, particularly in regards to update interactions and display sync</li>
					<li>the similar files data tables are migrated to more appropriate locations. previously, they were all in client.caches.db, now the phash definition and file mapping tables are in master, and the similar files search record is now in main</li>
				</ul>
				<li><h3 id="version_450"><a href="#version_450">version 450</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>when exporting files from the file export window, a cancellable popup job with progress updates is also created. if you close the window, you can still cancel the job from the popup</li>
					<li>fixed a crash bug in file export window</li>
					<li>system:num file relationships (duplicates) now correctly only returns files in the current file search domain (previously, it returned all files, including those previously deleted etc...)</li>
					<li>I rearranged some of the thumbnail menu file relationships actions menu. I'm not really happy with this, but a shuffle is easier than a full rework</li>
					<li>fixed the '4k' resolution label replacer, which was looking at 2060 height not 2160 by mistake</li>
					<li>the phash generation routine (part of the duplicates system, happens on image imports) now uses less memory and CPU for images with an alpha channel (pngs and still gifs), and if those images are taller or wider than 1:30 or 30:1, the phashes are also better quality</li>
					<li>the 'fill in subscription gap' popup button now correctly boots its created downloader when the action also opens a new downloader page. previously, due to overactive safety code, it would hang on 'pending' until a client restart. related similar 'start downloader after creating page' actions off drag and drop or client api should also be more reliable</li>
					<li>.</li>
					<li>repositories (also the various improvements in 449-experimental are folded in):</li>
					<li>fixed an issue with some 'force repository account refresh' code not kicking in immediately</li>
					<li>when a client sees repository update period change, it now recalculates the metadata next check time</li>
					<li>fixed a bug with the new repo sync where updates just added from additive sync were not being processed until client restart. related long-term buggy 'do we have this hash in updates?' and 'how many updates are there?' tests for update metadata are also fixed</li>
					<li>the experimental by-content-type repository reset from last week now leaves pending content in place</li>
					<li>the reset also now clears cached service info counts for files, tags, and mappings</li>
					<li>.</li>
					<li>client api:</li>
					<li>the /get_files/search_files command now takes six new parameters for file/tag domain selection and file sort type and order</li>
					<li>I wrote out some simple help and added some hacky unit tests for these new parameters. it needs another pass for potential bug fixes and readability/specificity (e.g. what does 'asc' for 'sort by ratio' mean?), but let me know how you get on anyway</li>
					<li>fixed the new system predicate parsing for system:hash with only one hash</li>
					<li>improved the url system predicate examples in client api documentation</li>
					<li>client api version is now 19</li>
					<li>.</li>
					<li>mr bones:</li>
					<li>mr bones now reports the correct numbers for your 'my files' again (and will continue to do so as multiple local file services are added)</li>
					<li>mr bones now reports total files deleted and their total size</li>
					<li>mr bones now reports your earliest recorded file import time</li>
					<li>mr bones now has separate tabs for different stats types. this neatly ditches the giant stack of numbers this was becoming, but I may revisit it. some people who take mr bones screens will prefer all the info in one easy shot, while I others I know would rather the 'viewing habits' stuff were not immediately there. maybe expanding boxes?</li>
					<li>fixed some mr bones layout</li>
					<li>.</li>
					<li>boring code cleanup:</li>
					<li>made a new base class for the different database modules to hold cursor and collect common administrative functions</li>
					<li>all database queries (about 1,200 of them) now go through a single location in the new class</li>
					<li>a new profile mode, 'query planner' mode, now prints query text and EXPLAIN QUERY PLAN lines to a new profile log. this is a new experimental thing, extremely spammy, but will help with diagnosing very unusually slow queries on individual clients (it'll most likely show up odd sqlite versions, weird data distributions, or un-analysed tables)</li>
					<li>updated a core function in 'all known files' mappings change autocomplete count adjustment. this seemed to have extremely bad worst case time, and I think it might have been giving some bad counts in unusual situations</li>
				</ul>
				<li><h3 id="version_449"><a href="#version_449">version 449</a></h3></li>
				<ul>
					<li>this is an experimental release! please do not use this unless you are an advanced user who has a good backup, syncs with a repository (e.g. the PTR), and would like to help me out. if this is you, I don't need you to do anything too special, just please use the client and repo as normal, downloading and uploading, and let me know if anything messes up during normal operation</li>
					<li>repository processing split:</li>
					<li>tl;dr: nothing has changed, you don't have to do anything. with luck, your PTR service is going to fix some bad siblings and parents over the next couple of days</li>
					<li>repositories now track what they have processed on a per-content basis. this gives some extra maintenance tools to, for instance, quickly reset and reprocess your ~150k tag siblings on the PTR without having to clear and reprocess all 1.3 billion mappings too</li>
					<li>in review services, you now see definition updates and all a repository's content types processing progress independently (just files for a file repo, but mappings, siblings, and parents for a tag repo). most of the time they will all be the same, but each can be paused separately. it is now possible (though not yet super efficient, since definitions still run 100%) to sync with the PTR and only grab siblings and parents by simply pausing mappings in review services</li>
					<li>I have also split the 'network' and 'processing' sync progress gauges and their buttons into separate boxes for clarity</li>
					<li>the 'fill in content gaps' maintenance job now lets you choose which content types to do it for</li>
					<li>also, a new 'reset content' maintenance job lets you choose to delete and reprocess by content type. the nuclear 'complete' reset is now really just for critical situations where definitions or database tables are irrevocably messed up</li>
					<li>all users have their siblings and parents processing reset this week. next time you have update processing, they'll come back in over about fifteen minutes, and with luck we'll wipe out some years-old legacy bugs and hopefully discover some info about the remaining bugs. most importantly, we can re-trigger this reprocess in just a few seconds to quickly test future fixes</li>
					<li>a variety of tests such as 'service is mostly caught up' are now careful just to test for the currently unpaused content types</li>
					<li>if you try to commit some content that is currently processing-paused, the client now says 'hey, sorry this is paused, I won't upload that stuff right now' but still upload everything else that isn't paused. this is a ' service is caught up' issue</li>
					<li>tag display sync, which does background work to make sure siblings and parents appear as they should, will now not run for a service if any of the services it relies on for siblings or parents is not process synced. when this happens, it is also shown on the tag display sync review panel. this stops big changes like the new sibling/parent reset from causing display sync to do a whole bunch of work before the service is ready and happy with what it has. with luck it will also smooth out new users' first PTR sync too</li>
					<li>clients now process the sub-updates of a repository update step in the order they were generated on the server, which _may_ fix some non-determinant update bugs we are trying to pin down</li>
					<li>all update processing tracking is overhauled. all related code and database access techniques have been brushed up and should use less CPU and fail more gracefully</li>
				</ul>
				<li><h3 id="version_448"><a href="#version_448">version 448</a></h3></li>
				<ul>
					<li>client api:</li>
					<li>/get_files/search_files now supports most system predicates! simply submit normal system predicate text in your taglist (check the expanded api help for a list of what is supported now) and they should be converted to proper system preds automatically. anything that doesn't parse will give 400 response. this is thanks to a user that submitted a system predicate parser a long time ago and which I did not catch up on until now. with this framework established, in future I will be able to add more predicate types and allow this parsing in normal autocomplete typing (issue #351)</li>
					<li>this is a complicated system with many possible inputs and outputs! I have tried to convert all the object types over and fill out unit tests, but there are likely some typos or bad error handling for some unusual predicates. let me know what problems you run into, and I'll fix it up!</li>
					<li>the old system_inbox and system_archive parameters on /get_files/search_files are now obselete. they still work, but I recommend you just use tags now. I'll deprecate them fully in future</li>
					<li>/get_files/search_files now disables the implicit system limit that most clients apply to all searches (by default, 10,000), so if you ask for a million files, you'll (eventually) get it</li>
					<li>a new call /manage_pages/add_files now allows you to add files to any media page, just like a file drag and drop</li>
					<li>in the /get_files/file_metadata call, the tag lists in the different 'statuses' Objects are now human-sorted</li>
					<li>added a link to https://github.com/floogulinc/hyextract to the client api help. this lets you extract from imported archives and reimport with tags and URLs</li>
					<li>the client api is now ok if you POST with a utf-8 charset content-type "application/json;charset=utf-8"</li>
					<li>the client api now tests the types of items within list parameters (e.g. file_ids should be a list of _integers_), raising an appropriate exception if they are incorrect</li>
					<li>client api version is now 18</li>
					<li>.</li>
					<li>misc:</li>
					<li>hydrus now supports wave (.wav) audio files! they play in mpv fine too</li>
					<li>simple psd files now have thumbnails! complicated ones will get a stretched version of the old default psd filetype thumbnail, much like how flash works. all your psd files are queued up for thumbnail regen on update, so they should figure themselves out in the background. this is thanks to ffmpeg, which it turns out can handle simple psds!</li>
					<li>vacuum returns as a manual operation. there's some new gui under _database->db maintenance->review vacuum data_. it talks about vacuum, shows current free space for each file, gives an estimate of how long vacuum will take, and allows you to launch vacuum on particular files</li>
					<li>the 'maintenance and processing' option that checks CPU usage for 'system busy' status now lets you choose how many CPU cores must exceed the % value (previously, one core exceeding the value would cause 'busy'). maybe 4 > 25% is more useful than 1 > 50% in some situations?</li>
					<li>removed the warning when updating from v411-v436. user reports and more study suggest this range was most likely ok in the end!</li>
					<li>double-clicking the autocomplete tag list, or the current/pending/etc.. buttons, should now restore keyboard focus back to the text input afterwards, in float mode or not</li>
					<li>the thumbnail 'remote services' menu, if you have file repositories or ipfs services, now appears on the top level, just below 'manage'</li>
					<li>the file maintenance menu is shuffled up the 'database' menubar menu</li>
					<li>fixed mr bones! I knew I was going to make a file status typo in 447, and he got it</li>
					<li>in the downloader system, if a download object has any hashes, it now no longer consults urls for pre-import predictions. this saves a little time looking up urls and ensures that the logically stronger hashes take precedence over urls in all cases (previously, they only took precedence when a non-'looks new' status was found)</li>
					<li>fixed an ugly bug in manage tag siblings/parents where tags imported from clipboard or .txt were not being cleaned, so all sorts of garbage with capital letters or leading spaces could be entered. all pairs are now cleaned, and anything invalid skipped over</li>
					<li>the manage tag filter dialog now cleans all imported tag rules when using the 'import' button (issue #768)</li>
					<li>the manage tag filter dialog now allows you to export the current tag filter with the export button</li>
					<li>fixed the 'edit json parse rule' dialog layout so if you transition from a short display to a string match that has complicated controls, it should now expand properly to show them all</li>
					<li>I think I fixed an odd bug where when uploading pending mappings while more mappings were being added, the x/y progress could accurately but unhelpfully continually reset to 0/y, with an ever-decreasing y until it was equal to the value it had at start. y should now always grow</li>
					<li>hydrus servers now put their server header on a second header 'Hydrus-Server', which should allow them to be properly detectable through a proxy that overrides 'Server'</li>
					<li>optimised a critical call in the tag mappings update database routine. for a service with many siblings and parents, I estimate repository processing is 2-7% faster</li>
					<li>optimised the 'add/delete file' database routines in multiple ways, particularly when the file(s) have many deleted tags, and for the local file services, and when the client has multiple tag services</li>
					<li>brushed up a couple of system predicate texts--things like num_pixels to 'number of pixels'</li>
					<li>.</li>
					<li>boring database refactoring:</li>
					<li>repository update file tracking and service id normalisation is now pulled out to a new 'repositories' database module</li>
					<li>file maintenance tracking and database-level file info updates is now pulled out to a new 'files maintenance' database module</li>
					<li>analyse and vacuum tracking and information generation is now pulled out to a new 'db maintenance' database module</li>
					<li>moved more commands to the 'similar files' module</li>
					<li>the 'metadata regeneration' file maintenance job is now a little faster to save back to the database</li>
					<li>cleared out some defunct/bad database code related to these two modules</li>
					<li>misc code cleanup, particularly around the stuff I optimised this week</li>
				</ul>
				<li><h3 id="version_447"><a href="#version_447">version 447</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>fixed drag and dropping multiple newline separated urls onto the client when those urls come from a generic text source</li>
					<li>pages now cache their 'ordered' file id list. this speeds up several little jobs, but most importantly should reduce session save time for sessions with tens of thousands of files</li>
					<li>common file resolutions such as 1920x1080 are now replaced in labels with '1080p' strings as already used in the duplicate system. also added 'vertical' variants of 720p, 1080p, and 4k</li>
					<li>when a page preview viewer gets a call to clear its current media when it is not currently the page in view, it now recognises that properly. this was happening (a 'sticky' preview) on drag and drops that navigated and terminated on other pages</li>
					<li>the various 'retry ignored' commands on downloaders now give an interstitial dialog where you can choose to retry 'all', '404s', or 'blacklisted' files only</li>
					<li>manage tag siblings/parents now disables its import button until its data is loaded. imports that were clicked through before loading were being forgotten due to tangled logic, so for now I'll just disable the button!</li>
					<li>reduced some more spiky database I/O overhead from the UI's perspective (now savepoints are performed after a result is returned, just like I recently did with transaction commit)</li>
					<li>duplicate potentials search will now update the y in its x/y progress display if many files have been imported since the search was started and x becomes larger than y (due to y secretly growing)</li>
					<li>fixed the default 'gelbooru md5' file lookup script. if you have a lookup script with this name, it will be updated to my new default automatically. I don't really like fixing this old system, but I am not sure when I will fit in my big rewrite that will merge it with the normal downloader system, so this is a quick fix for the meantime</li>
					<li>if you are one of the users who had weird unfixable 404 update file problems with the PTR, please try unpausing and doing a metadata resync one more time this week. fingers crossed, this is fixed. please let me know how you get on too, fixed or not, and also if you have had 'malformed' database problems in the past</li>
					<li>.</li>
					<li>multi column lists:</li>
					<li>improved the precision of longer text pixel_width->text and text->pixel_width calculations, which are particularly used in the multi-column list state saving system. another multi-column size calculation bug, where lists could grow by 1 character's width on >~60 character width columns on every dialog reopen, is now fixed</li>
					<li>multi-column lists should now calculate last column width more precisely and accurately regardless of vertical scrollbar presence or recent show/hide</li>
					<li>the snapping system that locks last column size to 5-character multiples can now snap up or down, increasing error tolerance</li>
					<li>I added a hack to stop the bug some people had of multi-column lists suddenly growing wide, up to screen width, in a resize loop. I think it works, but as I cannot reproduce this error, please let me know how you get on. resizing the options->external programs panel seems to initiate it reliably for those users affected</li>
					<li>.</li>
					<li>profile mode:</li>
					<li>all debug profile modes (callto, db, server, menu, pubsub, and ui) are now merged into one mode under help->debug</li>
					<li>this new mode no longer spams popups, and it only prints 'slow' jobs to the profile log</li>
					<li>it also makes a new profile log every time it is turned on, using mode start timestamp rather than client boot timestamp, and when profile mode is turned off, there is a popup summary of how many fast and slow jobs passed through during the log time</li>
					<li>touched up profile code, timing thresholds, summary statements, and the help</li>
					<li>.</li>
					<li>special update rule this week:</li>
					<li>due to the big file storage rework this week, there's some bit rot in older update routines. 447 cannot update databases older than 411, and it _may_ have trouble updating before 436. if this applies to you, the client will error out or warn you before continuing. I'd like to know what happens to you if you are v411-435 so I can refine these messages</li>
					<li>.</li>
					<li>boring database refactoring:</li>
					<li>the primary current, deleted, pending, and petitioned files tables are now split according to service, much as I have done with mapping tables in the past. this saves a little space and accelerates many file calculations on large clients. if you have a client database script or patch that inspects 'current_files' or 'deleted_files', you'll now be looking at client_files_x etc.., where x is the service_id, and they obviously no longer have a service_id column</li>
					<li>a new file storage database module manages these tables, and also some misc file deletion metadata</li>
					<li>refactored all raw file storage updates, filters, and searches to the new module</li>
					<li>the mappings and new file storage database modules are now responsible for various 'num files/mappings' metadata calculations</li>
					<li>most file operations on smaller domains, typically trash or repository update files, will be significantly faster (since the much larger 'my files' table data isn't fattening the relevant indices, and worst case query planning is so much better)</li>
					<li>cleaned up a ton of file domain filtering code as a result of all this</li>
					<li>physical file deletion is now much faster when the client has many pending file uploads to a file repository or IPFS service</li>
					<li>complicated duplicate file operations of many sorts should be a _little_ faster now, particularly on large clients</li>
					<li>searching files with 'file import time' sort should be a little faster in many situations</li>
					<li>tag repositories no longer bother going down to the database level to to see if they have any thumbnails to sync with</li>
					<li>everyone also gets a local file id cache regen this week, it may take a few seconds on update</li>
				</ul>
				<li><h3 id="version_446"><a href="#version_446">version 446</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>fixed a typo bug in the latest pending upload routine when it was cancelled/errors out early</li>
					<li>fixed a problem with the new subscription gap downloader, where when the page opens with the first query, it could sometimes assign 'already in db' to items in that query that were actually 'successful'. some other downloaders may have been rarely hit by this, but it was mostly the gap downloader</li>
					<li>the client _should_ now support a service host that has path components (e.g. one hosted on a proxy), like myserver.com/hydrus_repo. the port will now be correctly inserted in the address before all requests. hydrus and ipfs both should work, fingers crossed</li>
					<li>when an admin modifies the account types, the server now only prints the 'updated account type' log record if there were actual changes</li>
					<li>.</li>
					<li>downloader UI:</li>
					<li>the confusingly named 'file import status' and 'gallery search log' in the downloader system are now renamed 'file log'/'search log'/'check log' for the file import queue, gallery downloader, and watcher respectively. the 'table' bitmap buttons are also replaced with simple easy (and easy to refer to!) label buttons.</li>
					<li>when you open the file/search/check logs from the downloader page list right-click menu, they now spawn properly inside regular windows, not modal dialogs (which were inhibiting interaction with the rest of the program while open)</li>
					<li>relabelled the awkward 'even if url/hash recognised' checkboxes in file import options. 'do not skip if' becomes 'force download even if', and the text matches that in tag import options for page content. also improved the tooltip on these checkboxes</li>
					<li>all of the downloader layout boxes have also been renamed and harmonised with each other. gone are overly technical 'import queue' and 'gallery parsing'. now it is generally 'imports' up top and 'search' or 'checker' etc... below</li>
					<li>layouts have also been harmonised a little. the url downloader page now has boxes for file vs search URLs, the hard drive import pause button is moved up as other pages have, and several off-by-a-pixel sizer layouts have been fixed</li>
					<li>.</li>
					<li>null account:</li>
					<li>to further improve server privacy, particularly after the PTR's multiple account switch, all repositories now forget which accounts uploaded which content after a certain age. by default it is 90 days, but you can check in _review services_ once a server updates. this defends against a variety of hypothetical attacks where someone very clever gains access to the raw server database files, maybe years from now, and tries to crawl its anonymous account history for derivable information--now there is no history!</li>
					<li>it will take some time to retroactively scrub a huge server like the PTR. for the PTR, it is mostly a relative no-op of moving account ids from the old public shared account to a new 'null' account, but it'll still be about 1.2 billion rows! this happens in the background, so the server will still be useable most of the time, but it will have spikes of 'busy' for about one hour every four (i.e. one hour of mostly busy, three hours of free), probably for several days. it may be a pain to try uploading a bunch of stuff in that time, so if you have a million pending mappings, you might like to just give the PTR a break for a few days. once it has fully caught up, the anonymisation should only be 20-60 seconds of 'busy' a day</li>
					<li>the way the anonymisation works is all serverside services now have a single non-useable 'null account' that will take possession of all content after the delay. the original uploader is lost, and the whole historical record is merged together.</li>
					<li>the privacy help doc has been updated to talk about the new anonymising system. overall, I think the null account pretty much eliminates the speculative account cross-referencing worries we had, and I am happy</li>
					<li>.</li>
					<li>admin/janny info:</li>
					<li>for admins, all repositories now have an 'anonymisation period' option that you can edit in the service admin menu, defaulting to 90 days (min 1, max 360). you'll also see summary statements in the server logs as updates are anonymised. anonymisation will kick in two minutes after boot, so if you want to change this value immediately on update, get ready and be quick about it!</li>
					<li>for jannies who can see accounts, you will see the null account pop up in reference to older content (moreso in future when I expand janny UI and permissions). it being special is highlighted, and various account modifying UI shows it cannot be edited</li>
					<li>also for jannies/admins, I had to do some wickity woo to get the null account to work without a network update for everyone. if you try to look at the null account on 445 you may get an error. normal users won't run into this, but there's a kind of 'soft' network version update for you today</li>
				</ul>
				<li><h3 id="version_445"><a href="#version_445">version 445</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>fixed some weird bugs on the pathname tagging dialog related to removal and re-adding of tags with its 'tags just for selected files' list. previously, in some circumstances, all selected paths could accidentally share the same list of tags, so further edits on a subset selection could affect the entire former selection</li>
					<li>furthermore, removing a tag from that list when the current path selection has differing tags should now successfully just remove that tag and not accidentally add anything</li>
					<li>if your client has a pending menu with 'sticky' small tag count that does not seem to clear, the client now tries to recognise a specific miscount cause for this situation and gives you a little popup with instructions on the correct maintenance routine to fix it</li>
					<li>when pending upload ends, it is now more careful about when it clears the pending count. this is a safety routine, but it not always needed</li>
					<li>when pending count is recalculated from source, it now uses the older method of counting table rows again. the new 'optimised' count, which works great for current mappings, was working relatively very slow for pending count for large services like the PTR</li>
					<li>fixed rendering images at >76800% zoom (usually 1x1 pixels in the media viewer), which had broke with the tile renderer</li>
					<li>improved the serialised png load fix from last week--it now covers more situations</li>
					<li>added a link, https://github.com/GoAwayNow/Iwara-Hydrus, to Iwara-Hydrus, a userscript to simplify sending Iwara videos to Hydrus Network, to the client api help</li>
					<li>it should now again be possible to run the client on Windows when the exe is in a network location. it was a build issue related to modern versions of pyinstaller and shiboken2</li>
					<li>thanks to a user's help, the UPnPc executable discoverer now searches your PATH, and also searches for 'upnpc' executable name as a possible alternative on linux and macOS</li>
					<li>also thanks to a user, the test script process now exits with code 1 if the test is not OK</li>
					<li>.</li>
					<li>optimisations:</li>
					<li>when a db job is reading data, if that db job happens to fall on a transaction boundary, the result is now returned before the transaction is committed. this should reduce random job lag when the client is busy</li>
					<li>greatly reduced the amount of database time it takes to check if a file is 'already in db'. the db lookup here is pretty much always less than a millisecond, but the program double-checks against your actual file store (so it can neatly and silently fill in missing files with regular imports), however on an HDD with a couple million files, this could often be a 20ms request! (some user profiles I saw were 200ms!!! I presume this was high latency drives, and/or NAS storage, that was also very busy at the time). since many download queues will have bursts of a page or more of 'already in db' results (from url or hash lookups), this is why they typically only run 30-50 import items a second these days, and until this week, why this situation was blatting the db so hard. the path existence disk request is pulled out of precious db time, allowing other jobs to do other db work while the importer can wait for disk I/O on its thread. I suspect the key to getting the 20ms down to 8ms will be future granulation of the file store (more than 256 folders when you have more than x files per folder, etc...), which I have plans for. I know this change will de-clunk db access when a lot of importers are working, but we'll see this week if the queues actually process a little faster since they can now do file presence checks in parallel and with luck the OS/disk will order their I/O requests cleverly. it may or may not relieve the UI hangs some people have seen, but if these checks are causing trouble it should expose the next bottleneck</li>
					<li>optimised a small test that checks if a single tag is in the parent/sibling system, typically before adding tags to a file (and hence sometimes spammed when downloaders were working). there was a now-unneeded safety check in here that I believe was throwing off the query planner in some situations</li>
					<li>the 'review threads' debug UI now has two new tabs for the job schedulers. I will be working with UI-lag-experiencing users in future to see where the biggest problems are here. I suspect part of it will overhead from downloader thread spam, which I have more plans for</li>
					<li>all jobs that threads schedule on main UI time are now profiled in 'callto' profile mode</li>
					<li>.</li>
					<li>site encoding fixes:</li>
					<li>fixed a problem with webpages that report an encoding for which there is no available decoder. This error is now caught properly, and if 'chardet' is available to provide a supported encoding, it now steps in fixes things automatically. for most users, this fixes japanese sites that report their encoding as "Windows-31J", which seems to be a synonym for Shift-JIS. the 'non-failing unicode decode' function here is also now better at not failing, ha ha, and it delivers richer error descriptions when all attempts to decode are non-successful</li>
					<li>fixed a problem detecting and decoding webpages with no specified encoding (which defaults to windows-1252 and/or ISO-8859-1 in some weird internet standards thing) using chardet</li>
					<li>if chardet is not available and all else fails, windows-1252 is now attempted as a last resort</li>
					<li>added chardet presence to help->about. requests needs it atm so you likely definitely have it, but I'll make it specific in requirements.txt and expand info about it in future</li>
					<li>.</li>
					<li>boring code cleanup:</li>
					<li>refactored the base file import job to its own file</li>
					<li>client import options are moved to a new submodule, and file, tag, and the future note import options are refactored to their own files</li>
					<li>wrote a new object to handle current import file status in a better way than the old 'toss a tuple around' method</li>
					<li>implemented this file import status across most of the import pipeline and cleaned up a heap of import status, hash, mime, and note handling. rarely do downloaders now inspect raw file import status directly--they just ask the import and status object what they think should happen next based on current file import options etc...</li>
					<li>a url file import's pre-import status urls are now tested main url first, file url second, then associable urls (previously it was pseudorandom)</li>
					<li>a file import's pre-import status hashes are now tested sha256 first if that is available (previously it was pseudorandom). this probably doesn't matter 99.998% of the time, but maybe hitting 'try again' on a watcher import that failed on a previous boot and also had a dodgy hash parser, it might</li>
					<li>misc pre-import status prediction logic cleanup, particularly when multiple urls disagree on status and 'exclude previously deleted' is _unchecked_</li>
					<li>when a hash gives a file pre-import status, the import note now records which hash type it was</li>
					<li>pulled the 'already in db but doesn't actually exist on disk' pre-import status check out of the db, fixing a long-time ugly file manager call and reducing db lock load significantly</li>
					<li>updated a host of hacky file import unit tests to less hacky versions with the new status object</li>
					<li>all scheduled jobs now print better information about themselves in debug code</li>
				</ul>
				<li><h3 id="version_444"><a href="#version_444">version 444</a></h3></li>
				<ul>
					<li>gave the 'access keys' and 'privacy' help pages a complete pass. the access keys section talks about the read-only shared key, and how to generate you own account, and the privacy section now compiles, as comprehensively as I could, our various discussions about multiple accounts, what you shouldn't upload to the PTR (basically your own name lol), self-signed https certificates, and what information is actually stored on an account</li>
					<li>expanded the 'getting started - installing' help page with a 'how to run the client' section, including bundling the excellent Linux virtual memory guide written by a user</li>
					<li>fixed the new 'fill in subscription with gap downloader' button, which was initialising with the wrong downloader at times (usually on the first gap downloader opened, when it opened a new page with it)</li>
					<li>you can now set 'all known files' for the tag autocomplete in 'write' contexts (e.g. manage tags dialog) when not in advanced mode</li>
					<li>cleaned up how a variety of delayed UI calls are registered and present information about themselves. every UI job now has a nice human name for debug purposes. this should improve program stability and clear some odd rare errors when closing some dialogs (this mostly affected certain linux users)</li>
					<li>when an asynchronous UI job fails with a dead window, or if fails to publish to its window for a non-dead reason and then the window dies before that failure returns, the error handling code now catches and silences the error. an example of this would be clicking 'refresh account' on review services, then closing the window before the lagging job raises 'connection failure'</li>
					<li>when windows are rescued from off screen, their frame key is now stated in the popup note</li>
					<li>if your version of OpenCV is unable to load PNG files, your client should now be able to load serialised object PNGs (like those in the downloader system) correctly (the same PIL fallback for regular media files now works for deserialisation too)</li>
					<li>the hydrus log path is finally month-zero-padded, ha ha ha</li>
					<li>misc cleanup and label fixes</li>
				</ul>
				<li><h3 id="version_443"><a href="#version_443">version 443</a></h3></li>
				<ul>
					<li>quality of life:</li>
					<li>when subscriptions hit their 'periodic file limit', which has always been an overly technical term, the popup message now explains the situation in better language. it also now provides a button to automatically fill in the gap via a new gallery downloader page called 'subscription gap downloaders' that gets the query with a file limit five times the size of the sub's periodic download limit</li>
					<li>I rewrote the logic behind the 'small initial sync, larger periodic sync' detection in subscription sync, improving url counting and reliability through the third, fourth, fifth etc... sync, and then generalised the test to also work without fixed file limits and for large-gallery sites like pixiv, and any site that has URLs that often produce multiple files per URL. essentially, subs now have a nice test for appropriate times to stop url-adding part way through a page (typically, a sub will otherwise always add everything up to the end of a page, in order to catch late-tagged files that have appeared out of order, but if this is done too eagerly, some types of subs perform inefficiently)</li>
					<li>this matters for PTR accounts: if your repository account does not have permissions to upload something you have pending, the popup message talking about this now hangs around for longer (120 seconds), explains the issue better, and has a button that will take you directly to the _manage services_ panel for the service and will hit up 'check for auto-account creation'</li>
					<li>in _manage services_, whenever you change the credentials (host, port, or access key) on a restricted service, that service now resets its account to unknown and flags for a swift account re-fetch. this should solve some annoying 'sorry, please hit refresh account in _review services_ to fix that manually' problems</li>
					<li>a new option in maintenance and processing allows you to disable idle mode if the client api has had a request in the past x minutes. it defaults disabled</li>
					<li>an important improvement to the main JobScheduler object, which farms out a variety of small fast jobs, now massively reduces Add-Job latency when the queue is very busy. when you have a bunch of downloaders working in the background, the UI should have much less lag now</li>
					<li>the _options->speed and memory_ page has a full pass. the thumbnail, image, and image tile caches now have their own sections, there is some more help text, and the new but previously hardcoded 10%/25% cache and prefetch limits are now settable and have dynamic guidance text that says 'about a 7,245x4,075 image' as image cache options change</li>
					<li>all the cache options on this page now apply instantly on dialog ok. no more client restart required!</li>
					<li>.</li>
					<li>other stuff, mostly specific niche work:</li>
					<li>last week's v441->442 update now has a pre-run check for free disk space. users with large sessions may need 10GB or more of free space to do the conversion, and this was not being checked. I will now try to integrate similar checks into all future large updates</li>
					<li>fixed last week's yandere post parser link update--the post url class should move from legacy moebooru to the new yandere parser correctly</li>
					<li>the big maintenance tasks of duplicate file potentials search and repository processing will now take longer breaks if the database is busy or their work is otherwise taking a long time. if the client is cluttered with work, they shouldn't accidentally lag out other areas of the program so much</li>
					<li>label update on ipfs service management panel: the server now reports 'nocopy is available' rather than 'nocopy is enabled'</li>
					<li>label update on shortcut: 'open a new page: search page' is now '...: choose a page'</li>
					<li>fixed the little info message dialog when clicking on the page weight label menu item on the 'pages' menu</li>
					<li>'database is complicated' menu label is updated to 'database is stored in multiple locations'</li>
					<li>_options->gui pages->controls_ now has a little explanatory text about autocomplete dropdowns and some tooltips</li>
					<li>migrate database dialog has some red warning text up top and a small layout and label text pass. the 'portable?' is now 'beneath db?'</li>
					<li>the repository hash_id and tag_id normalisation routines have two improvements: the error now shows specific service_ids that failed to lookup, and the mass-service_hash_id lookup now handles the situation where a hash_id is mapped by more than one service_id</li>
					<li>repository definition reprocessing now corrects bad service_id rows, which will better heal clients that previously processed bad data</li>
					<li>the client api and server in general should be better about giving 404s on certain sorts of missing files (it could dump out with 500 in some cases before)</li>
					<li>it isn't perfect by any means, but the autocomplete dropdown should be a _little_ better about hiding itself in float mode if the parent text input box is scrolled off screen</li>
					<li>reduced some lag in image neighbour precache when the client is very busy</li>
					<li>.</li>
					<li>boring code cleanup:</li>
					<li>removed old job status 'begin' handling, as it was never really used. jobs now start at creation</li>
					<li>job titles, tracebacks, and network jobs are now get/set in a nicer way</li>
					<li>jobs can now store arbitrary labelled callable commands, which in a popup message becomes a labelled button</li>
					<li>added some user callable button tests to the 'make some popups' debug job</li>
					<li>file import queues now have the ability to discern 'master' Post URLs from those that were created in multi-file parsing</li>
					<li>wrote the behind the scenes guts to create a new downloader page programmatically and start a subscription 'gap' query download</li>
					<li>cleaned up how different timestamps are tracked in the main controller</li>
				</ul>
				<li><h3 id="version_442"><a href="#version_442">version 442</a></h3></li>
				<ul>
					<li>gui sessions:</li>
					<li>gui sessions are no longer a monolithic object! now, each page is stored in the database separately, and when a session saves, only those pages that have had changes since the last save are written to db. this will massively reduce long-term HDD writes for clients with large sessions and generally reduce lag during session save intervals</li>
					<li>the new gui sessions are resilient against database damage--if a page fails to load, or is missing from the new store, its information will be recorded and saved, but the rest of the session will load</li>
					<li>the new page storage can now be shared across sessions. multiple backups of a session that use the same page now point to the same record, which massively reduces the size of client.db for large-sessioned clients</li>
					<li>your existing sessions and their backups will obviously be converted to the new system on update. if any fail to load or convert, a backup of the original object will be written to your database directory. the conversion shouldn't take more than a minute or two</li>
					<li>the old max-object limit at which a session would fail to save was around 10M files and/or 500k urls total. it equated to a saved object of larger than 1Gb, which hit an internal SQLite limit. sessions overall now have no storage limit, but individual pages now inherit the old limit. Please do not hurry to try to test this out with giganto pages. if you want to make do a heap of large long-term downloaders, please spread the job across several pages</li>
					<li>it seems URLs were the real killer here, so I am rebalancing it so URLs now count for 20 weight each. the weight limit at which point a _page_ will now fail to save, and the client will start generally moaning at you for the whole session (which can be turned off in the options), is therefore raised to 10M. most of the checks are still session-wide for now, but I will do more work here in future</li>
					<li>if you are in advanced mode, then each page now gives its weight (including combined weight for 'page of pages') from its tab right-click menu. with the new URL weight, let's get a new sense of where the memory is actually hanging around IRL</li>
					<li>the page and session objects are now more healthily plugged into my serialisation system, so it should be much easier to update them in future (e.g. adding memory for tag sort or current file selection)</li>
					<li>.</li>
					<li>the rest:</li>
					<li>when subscriptions die, the little reporting popup now includes the death file velocity ('it found fewer than 1 files in the last 90 days' etc...)		</li>
					<li>the client no longer does vacuums automatically in idle time, and the soft/full maintenance action is removed. as average database size has grown, this old maintenance function has increasingly proved more trouble than it is worth. it will return in future as a per-file thing, with better information to the user on past vacuums and empty pages and estimates on duration to completion, and perhaps some database interrupt tech so it can be cancelled. if you really want to do a vacuum for now, do it outside the program through a SQLite intepreter on the files separately</li>
					<li>thanks to a user submission, a yande.re post parser is added that should grab tags correct if you are logged in. the existing moebooru post parser default has its yande.re example url removed, so the url_class-parser link should move over on update</li>
					<li>for file repositories, the client will not try to sync thumbnails until the repository store counts as 'caught up' (on a busy repo, it was trying to pull thumbs that had been deleted 'in the future'). furthermore, a 404 error due a thumb being pulled out of sync will no longer print a load of error info to the log. more work will be needed here in future</li>
					<li>I fixed another stupid IPFS pin-commit bug, sorry for the trouble! (issue #894)</li>
					<li>some maintenance-triggered file delete actions are now better about saving a good attached file delition reason</li>
					<li>when the file maintenance manager does a popup with a lot of thumbnail or file integrity checks, the 'num thumbs regenned/files missing or invalid' number is now preserved through the batches of 256 jobs</li>
					<li>thoroughly tested and brushed up the 'check for missing/invalid files' maintenance code, particularly in relation to its automatic triggering after a repository processing problem, but I still could not figure out specifically why it is not working for some users. we will have to investigate and try some more things</li>
					<li>fixed a typo in client api help regarding the 'service_names_to_statuses_to_display_tags' variable name (I had 'displayed' before, which is incorrect)</li>
					<li>.</li>
					<li>build fixes:</li>
					<li>fixed the new Linux and Windows extract builds being tucked into a little 'ubuntu'/'windows' subfolder, sorry for the trouble! They should both now have the same (note Caps) 'Hydrus Network' as their first directory</li>
					<li>fixed the new Linux build having borked permissions on the executables, sorry for the trouble!</li>
					<li>since I fixed the urllib3 problem we had with serialised sessions and Retry objects, I removed it from the requirements.txts. now 'requests' can pull what it likes</li>
					<li>after testing it with the new build, it looks like I was mistaken years ago that anyone could run hydrus from source when inside a 'built' release (due to dll conflicts in CWD vs your python install). maybe this is now only true in py3 where dll loading is a little different, but it was likely always true and my old tests only ever worked because I was in the same/so-similar environment so the dlls were not conflicting. in any case the builds no longer include the .py/.pyw files and the 'hydrus' source folder, since it just doesn't seem to work. if you want to run from source, grab the actual source release in a fresh, non-conflicting directory. I've updated the help regarding this, sorry for any trouble or confusion you have ever run into here</li>
					<li>updated the running from source document to talk more about actually getting the source and fleshed out the info about running the scripts</li>
					<li>.</li>
					<li>misc boring refactoring and db updates:</li>
					<li>created a new 'pages' gui module and moved Pages, Thumbs, Sort/Collect widgets, Management panel, and the new split Session code into it</li>
					<li>wrote new container objects for sessions, notebook pages, and media pages, and wrote a new hash-based data object for a media page's management info and file list</li>
					<li>added a table to the database for storing serialised objects by their hash, and updated the load/save code to work with the new session objects and manage shared page data in the hashed storage</li>
					<li>a new maintenance routine checks which hashed serialisables are still needed by master containers and deletes the orphans. it can be manually fired from the _database->maintenance_ menu. this routine otherwise runs just after boot and then every 24 hours or every 512MB of new hashed serialisables added, whichever comes first</li>
					<li>management controllers now discard the random per-session 'page key' from their serialised key lookup, meaning they serialise the same across sessions (making the above hash-page stuff work better!)</li>
					<li>improved a bunch of access and error code around serialised object load/save</li>
					<li>improved a heap of session code all over</li>
					<li>improved serialised object hashing code</li>
				</ul>
				<li><h3 id="version_441"><a href="#version_441">version 441</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>after successful testing, all the master builds are now made on github rather than my home dev situation. the clients now work off python 3.8, and several security libraries (e.g. OpenSSL) are now always going to be latest, so there should be several quiet performance and reliability improvements across the program. there are no special install instructions--normal update seems to go fine--but let me know if you do have any trouble. big thanks to the user who did the leg work on developing the workflow build scripts here</li>
					<li>if you are in advanced mode, namespace file sorting now allows you to set the 'tag display context' on which it will sort. this appears as a new menu button or a button list selection dialog wherever you edit namespace file sorts. if you are not in advanced mode, the default is the 'display tags' I switched to last week (i.e. before any tags are hidden by your tag display options)</li>
					<li>namespace sort has some related code cleanup. the 'defaults' object is updated and moved to the newer options object</li>
					<li>the new tiled renderer now checks for rounding errors in zoom calc, which in some cases was giving a single extra (non-existing) native pixel row or column on rightmost or bottommost tile samples</li>
					<li>the new tiled renderer now double-checks clip regions for validity before attempting to crop</li>
					<li>improved the reported error information when a tile fails to render</li>
					<li>when pasting an uneven number of tags into manage siblings/parents, the error is now a nicer popup dialog. I'm pursuing a related error here--if you get this a bunch, please let me know what more info you discover</li>
					<li>when repositories fail to fetch the update hashes to process, they now force a metadata resync. any processing error should force a metadata resync now</li>
					<li>added a default url class for the new pixiv _artist_ page format</li>
					<li>fixed a recent typo bug with ipfs pinning</li>
					<li>.</li>
					<li>client api additions:</li>
					<li>the client api has a new /manage_headers/set_user_agent call, which is a simple hack for now for external programs to set the 'Global' User-Agent. it should allow for some CloudFlare solutions when just copying cookies is not enough</li>
					<li>the client api has a new /get_services call, which talks about more services and also exposes service_keys for the first time, which are likely to be useful in future. check out the help for an example. the old /add_tags/get_tag_services call is now deprecated, please move to the new call</li>
					<li>the client api /version call now responds with 'hydrus_version' as well, which this week will be 441</li>
					<li>the client api now has a semi-experimental /manage_database/lock system, just like the server's. a new 'manage database' permission is added for this. don't play around with this system idly.</li>
					<li>the client api should now support sha256 hash parameters if they start with a type prefix like 'sha256:0123789abcdef...'</li>
					<li>the client and server's database lock commands now wait up to five seconds for the database to finish disconnecting to respond</li>
					<li>expanded client api unit tests to cover the above</li>
					<li>the client api version is now 17</li>
					<li>.</li>
					<li>boring multiple local file services work:</li>
					<li>the main search object now stores the file domain using a new 'location context' object that will in future hold multiple file services and can say whether we should search files currently in a domain, or those once deleted from it. a variety of back-end search code has been updated to deal with this more flexible situation</li>
					<li>removed more static references to the single 'my files' domain in db and related code. in a couple places, like mr. bones, it now fetches 'all local files', but this will likely be updated in future to a new umbrella 'all non-trash, non-repo-update-files local files' service</li>
				</ul>
				<li><h3 id="version_440"><a href="#version_440">version 440</a></h3></li>
				<ul>
					<li>tiled renderer:</li>
					<li>the tiled renderer now has an additional error catching layer for tile rendering and coordinate calculation and _should_ be immune to to the crashes we have seen from unhandled errors inside Qt paint events</li>
					<li>when a tile fails to render, a full black square will be used instead. additional error information is quickly printed to the log</li>
					<li>fixed a tile coordinate bug related to viewer initialisation and shutdown. when the coordinate space is currently bugnuts, now nothing is drawn</li>
					<li>if the image renderer encounters a file that appears to have a different resolution to that stored in the db, it now gives you a popup and automatically schedules a metadata regen job for that file. this should catch legacy files with EXIF rotation that were imported before hydrus understood that info</li>
					<li>when a file completes a metadata regen, if the resolution changed it now schedules a force-regen of the thumbnail too</li>
					<li>.</li>
					<li>the rest:</li>
					<li>added a prototype 'delete lock' for archived files to _options->files and trash_ (issue #846). this will be expanded in future when the metadata conditional object is made to lock various other file states, and there will be some better UI feedback, a padlock icon or similar, and some improved dialog texts. if you use this, let me know how you get on!</li>
					<li>you can now set a custom namespace sort in the file sort menu. you have to type it manually, like when setting defaults in the options, but it will save with the page and should load up again nicely in the dialog if you edit it. this is an experiment in prep for better namespace sort edit UI</li>
					<li>fixed an issue sorting by namespaces when one of those namespaces was hidden in the 'single media' tag context. now all 'display' tags are used for sort comparison groups. if users desire the old behaviour, we'll have to add an option, so let me know</li>
					<li>the various service-level processing errors when update files are missing or janked out now report the actual hash of the bad update file. I am chasing down one of these errors with a couple of users and cannot quite figure out why the repair code is not auto-fixing things</li>
					<li>fixed a problem when the system tray gets an activate event at unlucky moments</li>
					<li>the default media viewer zoom centerpoint is now the mouse</li>
					<li>fixed a typo in the client api with wildcard/namespace tag search--sorry for the trouble!</li>
					<li>.</li>
					<li>some boring multiple local file services cleanup:</li>
					<li>if you have a mixture of trash and normal thumbnails selected, the right-click menu now has separate choices for 'delete trash' and 'delete selected' 'physically now'</li>
					<li>if you have a mixture of trash and normal thumbnails selected, the advanced delete dialog now similarly provides separate 'physical delete' options for the trashed vs all</li>
					<li>media viewer, preview viewer, and thumbnail view delete menu service actions are now populated dynamically. it should say 'delete from my files' instead of just 'delete'</li>
					<li>in some file selection contexts, the 'remote' filter is renamed to 'not local'</li>
				</ul>
				<li><h3 id="version_439"><a href="#version_439">version 439</a></h3></li>
				<ul>
					<li>tiled image renderer improvements:</li>
					<li>I believe I fixed the 'non c-contiguous' crash issue with the new tile renderer. I had encountered this while developing, but it was still happening in rare situations--I _think_ in an unlucky edge case where a zoomed tile had the same resolution as the full image rotated by ninety degrees! there is now an additional catch for this situation, as well, to catch any future logical holes.</li>
					<li>fixed a bug in the new renderer when copying an image to clipboard</li>
					<li>I greatly mitigated the tiling artifacts with two changes:</li>
					<li>- zoomed in tiles are now resized with a padding area of up to 4 pixels, with the actual tile cropped afterwards, which allows bilinear and lancsoz interpolation to get accurate neighbour data and have gradient math line up with neighbouring tiles more accurately</li>
					<li>- on resize and zoom, media canvases now dynamically change tile size to 'neater' float/integer conversion dimensions to reduce sub-pixel panning alignment artifacts (e.g. if your zoom is 300%, the tile is now going to have a dimension that is a multiple of 3)</li>
					<li>I hacked in a 'rescue offscreen media' calculation after any zoom event. now, if the window is completely out of view after a zoom, it'll snap to the nearest borders, lining against them or overlapping into a buffer zone depending on the zoom. let me know what you think!</li>
					<li>I fixed a PyQt5 specific object tracking bug, I think the new renderer now works ok for PyQt5!</li>
					<li>cleaned up some ugly code in the resize section that may have been resulting in incorrect interpolation algorithm choice in some situations</li>
					<li>fixed a divide by zero issue when zooming out tiny images hugely (e.g. 32x32 at 1%)</li>
					<li>media windows now try to have at least 1x1 size, just to catch some other weird error situations</li>
					<li>similarly, tile and native sample sizes will have a minimum of size 1x1, which should fix issues during a delayed startup (issue #872)</li>
					<li>cleaned up some misc media viewer and tile renderer code</li>
					<li>.</li>
					<li>the rest:</li>
					<li>I started the next round of database optimisation tech, mostly testing out a pipeline upgrade. autocomplete fetching and wildcard file searching for very large queries should be a little faster to cancel now, and in some situations they should be a little faster. they may be slower for very small jobs, but I expect it to be unnoticeable. if you feel autocomplete is suddenly slow and laggy, let me know!</li>
					<li>I optimised the basic 'ideal sibling normalisation' database query. this is used in a lot of places, so the little saving here should improve a bunch of work</li>
					<li>I greatly optimised autocomplete sibling population, particularly for searches with a lot of tag results</li>
					<li>I brushed up the tag import options UI: changed the 'use defaults' checkbox to a dropdown with clear labels for both modes; renamed the 'fetch tags even if' tag import options to 'force page fetch', which is a better description, and added tooltips to describe their ideal use; added tooltips to blacklist and whitelist; and hid the 'load from defaults' button if not set to view specific options</li>
					<li>added a 'imgur single media file url' File URL Class, which points to direct file links without a referral header, which should fix some situations where these urls were pointed to by other site parsers</li>
					<li>collections now store the _most recent_ import timestamp of their contents as the aggregate for time imported. previously they had no value, so would sort randomly with each other. collections therefore now sort by time imported reliably with each other, even if there is no 'correct' answer here</li>
					<li>these new timestamps and service presence generally, and aggregated archive/inbox status, (all of which can update thumbnail display) is now recalculated when files are removed from the collection. so, hitting _right-click->remove->inbox_ will now update collections with a mix of archived and inboxed to remove the inbox icon immediately</li>
					<li>as the "Retry has no attribute..." network errors have appeared in new forms, I gave the core of the problem another look. we could never really figure this out, but it seemed to be a network version thread safety issue. I think I have ruled this out, and I now believe these may have been occuring during faulty pickling during network session save/load. I fixed the problem here, so with luck this issue will not reappear--if you have had this a lot, let me know how you get on!</li>
					<li>I broke the requirements.txt into several variants based on platform. we are going to try to pin down good fixed versions of python-mpv and requests/urllib3 for each platform</li>
					<li>I also updated the 'running from source' help significantly, moving everything to the requirements.txt and making sections for things like FFMPEG and libmpv</li>
					<li>Also updated the source and contact help around my work style and contact preferences</li>
					<li>the test.py file now only does the final input() confirmation if there is an interactive stdin to respond</li>
				</ul>
				<li><h3 id="version_438"><a href="#version_438">version 438</a></h3></li>
				<ul>
					<li>media viewer:</li>
					<li>I have hacked in tile-based image rendering for the media viewer. this has always been planned as a larger, longer-term job, but the problem of large images is only getting worse, so I decided to just slam out a prototype in a week. if you have a steam-powered GPU or 4GB ram, you might like to wait until next week to update so I can iron out any surprise bugs or performance problems</li>
					<li>images are now cut into tiles that are rendered on demand, so whenever the image is zoomed larger than the media viewer window, only those tiles currently in view have CPU and memory spent on resizing and storage. as you pan around, new tiles are rendered as needed, and old discarded. this makes zooming in super fast and low memory, even for large images!</li>
					<li>although I am happy with this, and overall we are talking a huge improvement on previous performance, it is ugly fast code. it may fail for some unusual files. it slices and blits bitmaps around your video memory much faster than before, so some odd GPUs may also have problems. I haven't seen any alignment artifacts (1-pixel thick missing columns or rows), but some images may produce them. more apparent are some pretty ugly tile artifacts that show up between 200% and 500% zoom (interpolation algorithms, which rely on neighbour pixels, are missing border data with my simple system). I will consider how best to implement more complicated but stitch-correct overlapping tiles in future</li>
					<li>futhermore, a new 'image tile' cache is added. you can customise size and timeout under _options->speed and memory_ like for images and thumbnails. this is a dedicated cache for remembering image resize computation across images and zooms. once you have seen both situations once, flicking back and forth between two images or zoom levels is now generally always instant! this new cache starts at a healthy default of 256MB. let's see how that amount works out IRL--I think it will be plenty</li>
					<li>I tuned the image renderer cache--it no longer caches huge images that eat more than 25% its total size--meaning these images only hang around as long as you are looking at them--and the prefetch call that pre-renders several files previous/next to the current image no longer occurs on images that would eat more than 10% the cache size. this should greatly reduce weird flicker and other lag when browsing through a series of mega-images (which before would stomp through the cache in quick succession, barging each other out of the way and wasting a bunch of CPU). in real world terms, this basically means that with an image cache of 200MB, you should have slower individual image performance but much better overall performance looking at images with more than about 5k resolution. the dreaded 14,000x12,000 png will still bonk you on the head to do the first render, but it won't try to uselessly prefetch or flush the whole cache any more</li>
					<li>if you are currently looking at a static image, neighbour prefetch now only starts once the image is rendered, giving the task in front of you a bit more CPU time</li>
					<li>new options for prefetch delay and previous/next distance are added to 'speed and memory'</li>
					<li>note this does not yet apply to the old hydrus animation renderer. that still sucks at high zoom!</li>
					<li>another future step here is to expand prefetch to tiles so the first view of the 'next' media is instant, but let's let all this breathe for a bit. if you get bugs, let me know!</li>
					<li>due to a Qt issue, I am stopping zoom-in events that would make the 'virtual' size of the image greater than 32,000x32,000</li>
					<li>.</li>
					<li>account permission improvements:</li>
					<li>to group sibling and parent petitions by uploader (and thus help janitor workflow), the PTR is moving to a system where the public account is download-only and accounts that can upload content are auto-generated in manage services. this code has not been tested much before, and it revealed some very bad reporting and handling of current permissions. I move this forward this week:</li>
					<li>if your repository account is currently unsynced from a serious previous error, any attempt to upload pending data will result in a little popup and the upload being abandoned</li>
					<li>manage tag siblings and parents will now show service tabs even if the account for those services does not seem currently able to upload tags or siblngs</li>
					<li>if your repository account is currently unsynced from a serious previous error, this is now noted in red text in manage siblings and manage parents</li>
					<li>if your repository account does not have sibling/parent upload permission, this is now noted in red text in manage siblings and manage parents. you will be able to pend and petition siblings and parents ok</li>
					<li>if your repository account does not have mapping/sibling/parent upload permission of the right kind, your client will no longer attempt to upload these content types, and if there is pending count for one of these types, a popup will note this on an upload attempt</li>
					<li>.</li>
					<li>the rest:</li>
					<li>added https://github.com/NO-ob/LoliSnatcher_Droid to the Client API help!</li>
					<li>improved some error handling, reporting, and recovery when importing serialised pngs. specific error info is now written to the log as well</li>
					<li>fixed a secondary error when dropping non-list, non-downloader pngs on Lain's easy downloader import window, and fixed a 'no interesting objects' reporting test when dropping multiple pngs</li>
					<li>added a 'cache report mode' to help debug image and thumb caching issues</li>
					<li>refactored the media viewer code to a new 'canvas' submodule</li>
					<li>improved the error reporting when a thumbnail cannot be generated for a file being imported</li>
					<li>fixed an error in zoom center calculation when a change zoom event was sent in the split-second during media viewer initialisation</li>
					<li>I think I fixed an issue where pages could sometimes not automatically move on from 'loading initial files' statusbar text when initialising the session</li>
					<li>the requirements.txt now specifies 'requests' 2.23.0 exactly, as newer versions seemed to be giving odd urllib3 attribute binding errors (seems maybe a session thread safety thing) when recovering from connection failures. this should update the macOS build as well as anyone running from source who wants to re-run the requirements.txt. I hacked in a catch for this error case anyway, just a manual retry like a normal connection error, we'll see how it goes (issue #665)</li>
					<li>patched an unusual file import bug for a flash file with an inverted bounding box that resulted in negative reported resolution. flash now takes absolute values for width and height</li>
				</ul>
				<li><h3 id="version_437"><a href="#version_437">version 437</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>hydrus now keeps a track of when files were deleted! this information has never been recorded clientside, and it is sadly not retroactively recoverable, but it is stored for all deletes from now on. on occasion, when hydrus says 'this was deleted from xxx', it will now have 'at an unknown time' or a nice '3 days ago' string attached. it will take a few seconds to update this week as the new table data is created</li>
					<li>the 'trash' panel on review services now has an 'undelete all' button</li>
					<li>fixed a typo error in manage services when auto-creating a service account when more than one type of account can be created</li>
					<li>the thread watcher page now sorts the status column secondarily by next check time (previously, equal status would sort alphabetically by subject as a fallback secondary sort)</li>
					<li>I have renamed some network concepts across the program. before we had access keys, account keys, and registration keys--now we have access keys (secret password for account), account ids (identifier for account that jannies may need), and registration tokens (one-time token used to create a new account). I hope this reduces some confusion</li>
					<li>reduced some overhead when fetching media results for a search, and when refreshing their tags on major content updates</li>
					<li>fixed a 'no such table: mem.temp_int_hash_id_1'-style database error state that could persist for 30 seconds or more after certain rare rollbacks</li>
					<li>fixed the FlipFlip link html in the client api help</li>
					<li>fingers crossed, I fixed that bad Applications shortcut in the new macOS release</li>
					<li>fixed a couple more instances of 'pulsing' progress gauges. now they should be blank</li>
					<li>.</li>
					<li>more efficient updates in sessions with collected media:</li>
					<li>several updates this week should reduce client UI lag when the session contains any pages with a lot of collected media, particularly when you are also running several downloaders (which spam all sorts of content updates across the client):</li>
					<li>the content update pipeline now tests collections for their files before content processing, and now filters down to process just the updates in a group that apply</li>
					<li>collections' post-content-update internal data regeneration routine now has more options for fine regen (e.g. no need for tags recalc if the update was 'archive file'), ignores updates for urls and notes (for which it maintains no summary), and only falls back to 'just regen everything' on file location changes</li>
					<li>the 'selection tags' taglist now retains intelligent memory of its previous selection through collect/uncollect events, which reduces collect/uncollect lag on well-tagged files significantly</li>
					<li>.</li>
					<li>boring multiple local file services stuff:</li>
					<li>I cleaned a bunch of old hardcoded references to 'my files' and related code. it is not very interesting, but there are a few hundred references to clean up and convert to a system that supports 1-to-n local services, and this week I started hacking away, mostly presentation stuff, labels on menus and so on</li>
					<li>your 'my files' now has a separate deletion record to the 'all local files' domain. its count shows in 'review services', and for the moment will just be 'all local files' plus the count in trash, but this will become more important when you can have multiple 'my files'</li>
					<li>behind the scenes re-jiggering means that the deletion record now records deletion time and original import time. delete and undelete transitions are neater as a result</li>
					<li>logically, files are now generally no longer moved to the trash nor undeleted from there, they instead fall there when they are in 'all local files' but no longer in any local domain, and are undeleted back to a specific service. a bunch of awkwardness is cleaned up, and import/delete/undelete content updates are regeared and ready for multiple local file services</li>
					<li>a whole bunch of little things have been fixed and changed behind the scenes. I cleaned file service code in general as I went. examples of little things fixed:</li>
					<li>- a 'delete and do not keep a deletion record' action now correctly does not change the cached number of deleted files as reported in review services</li>
					<li>- the 'clear deletion record and try again' 'remove from trash' component now uses a unified and improved and UI-updating 'untrash' database action, with correct service count changes and UI-side status changes</li>
					<li>- the 'clear deletion record and try again' action on downloader import queues now handles mixes of actually deleted files and files just in trash more neatly</li>
					<li>- in the very odd situation that you are looking at a non-local file on 'all known files' and it is then imported using 'archive on import', its thumbnail and metadata now fade in correctly as archived</li>
					<li>added some unit tests to test the new file delete/undelete transitions</li>
					<li>cleaned up a bunch of hacky old db SELECT code</li>
				</ul>
				<li><h3 id="version_436"><a href="#version_436">version 436</a></h3></li>
				<ul>
					<li>macOS:</li>
					<li>I fixed an issue with last week's Big Sur compatible release where it wasn't finding your old database correctly--it was defaulting to a different location, so without a specific launch command otherwise, it started a fresh db and said 'hey, looks like first time you ran the program'. if you are a long-time user of hydrus, please install and run 436 as usual, it should figure out your old db location correctly as ~/Library/Hydrus without any launch command override needed</li>
					<li>If you never ran any of the old macOS builds, and you started using hydrus for the first time on macOS last week with the experimental Big Sur compatible build, your brand new database is in a funky location! don't update yet, or you will delete it! You will want to copy your .db files and the client_files folder from inside_the_435_app/Contents/MacOS/db to ~/Library/Hydrus, which should for most people be /Users/(YOU)/Library/Hydrus. feel free to ask for help if you can't figure this out</li>
					<li>fixed a 'this is macOS' platform check for newer macOS releases, which ensures the 'userpath' fallback is correctly initialised to ~/Library/Hydrus</li>
					<li>fixed the new macOS github workflow build script to tell hydrus that it is running from inside an App, so it knows to default to the userpath fallback correctly</li>
					<li>the macOS build now has the old filename</li>
					<li>it also has the ReadMeFirst.rtf file and Applications shortcut</li>
					<li>collected the new build-related files in static/build_files, which will likely see more files in future</li>
					<li>.</li>
					<li>pending tag cache regen:</li>
					<li>two new maintenance tasks are added to the database->regenerate menu--one that forces a recalc of your total 'pending' count as used in the pending menu, and one that recalculates the cached pending tag mappings for storage tags (just like the display one added some time ago, but one layer deeper). the menu entries are relabelled appropriately</li>
					<li>these routines will be run on database update, and should correct the bad pending menu counts many users discovered last week (the new efficient way that the pending count is calculated exposed some legacy bad cached pending storage mappings entries. we'll see if they come back, or if this is just clearing up bad counts hanging around from ages ago)</li>
					<li>the quick pending mapping cache regen routines take a little longer to initialise now, but they now clear out surplus tag data, rather than just regenerating the 'correct' tags</li>
					<li>.</li>
					<li>misc:</li>
					<li>added an experimental setting to _options->tag presentation_ to replace all underscores in tags with spaces. this is just a render rule, so it will only apply in front-facing 'display' contexts (a bit like how siblings work in search pages, but you see the truth in _manage tags_), will consume a little more CPU with big lists, and may result in some duplicate rows, but let's see how it goes. this is basically a quick hardcoded hack until there is a more beautiful solution here</li>
					<li>in the two 'Duck' dark QSS styles, removed fixed font size on button labels that wasn't scaling on high DPI screens</li>
					<li>the filename tagging panel now shows parents and siblings correctly on the 'tags for all' and 'tags for selected' taglists. I'd like to show siblings and parents in the file list above in future, but it'll be a bit more tricky to do neatly and without megalag</li>
					<li>GUGs and NGUGs now report their reasons for not being functional in the downloader selector list and subscription errors. typically this will be a missing url class or an url class missing a matching parser, but more complicated example-url-parsing errors will also be outlined</li>
					<li>fixed a bug in the client api in the set-cookies call when no cookies are set, and ensured all cookies added this way are saved permanently (before, some could be lost if that domain was not used in network traffic before the next client shutdown)</li>
					<li>the 'refresh account' button in _review services_ now works on the new async system. it presents errors nicely</li>
					<li>a repository's current update period is now stated in its review services panel</li>
					<li>review services now says 'checking for updates in...' rather than 'next update due...', which is more accurate and will matter more with small update times</li>
					<li>fixed some false positive instances of 'this server was not a tag repo' error in the network engine.</li>
					<li>the hydrus server now also outputs hydrus specific 'Server' header (rather than some twisted default) on 'unsupported request' 404s and any other unusual 'infrastructure' 4XX or 5XX</li>
					<li>if the repository updates in the filesystem are lacking some required file information when calculating what to process, the client now queues those files for a metadata regen maintenance job and raises a cleaner error</li>
					<li>just as a safety measure, if a repository ever happens to deliver a metadata update slice with a 'next update due' time that has already passed, the client now adds a buffer and checks tomorrow instead</li>
					<li>a new program launch argument, db_transaction_commit_time, lets you change how often the database's changes are committed to disk. default is 30 (seconds) for client, 120 for server</li>
					<li>altering the repository update period now prints a summary of the change to the log</li>
					<li>updated the ipfs links in the help</li>
					<li>updated the main help index.html and the github readme.md with the user-run repo and wiki at https://github.com/CuddleBear92/Hydrus-Presets-and-Scripts</li>
				</ul>
				<li><h3 id="version_435"><a href="#version_435">version 435</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>a new macOS build that should run on Big Sur is now ready, it should be attached to this release. it is built on github automatically, and is thanks to hard work from Suika and ReAnzu. I am attaching my old release as well, just in case I messed up somewhere on my end. if you are a macOS user, please try the new App! it will not work on very old macOS like 10.12, but if this works out today for the majority of macOS users, I will be moving to just putting this new build out going forward. I'll add some polish like the readme.rtf and harmonise the filename etc.. too. I'd love to cut the filesize down, but this may not be possible (it is apparently some modern macOS thing where it bundles old and new versions of libraries in the same App so you basically get it twice)</li>
					<li>the bottom-right corner of the regular media viewer canvas now also shows media zoom</li>
					<li>the StringSorter object now has a simple 'reverse' sort type</li>
					<li>the infamous multi-column list 'last column' width calculations are improved: first, dialogs with multi-column lists should no longer judder back and forth a single character's width as you expand the parent window. also, the last column saved size (which is used in dialog relaunch width initialisation) is now snapped to rounded 5-character intervals, which should mitigate various 'fuzzy' reasons for some dialogs to remember a larger or smaller size and grow or shrink one or more characters' width on the next launch</li>
					<li>the _help->debug->gui actions_ menu has a new entry to reset all multi-column list saved widths back to default</li>
					<li>the 'edit OR predicate' panel when you shift+double-click an OR predicate now expands horizontally and vertically with the window</li>
					<li>the 'edit search predicates' list in the 'edit favourite search' panel now expands vertically with the window</li>
					<li>the client now detects some invalid tag mapping states on tag upload--when a mapping is both current & pending or when it is both deleted and petitioned. these pair-states are mutually exclusive, normally impossible to get to, but one user who nonetheless ended up in this situation encountered an infinite uploading loop to a tag repository (since the tag was already current/deleted, the pending/petitioned status was not clearing correctly on upload commit). now, the upload will be abandoned and an info message put up with the fix</li>
					<li>added a new maintenance routine to _database->check and repair_ that fixes logically inconsistent mappings. it has a popup dialog when it works and forces a pending count refresh and shows a summary afterwards</li>
					<li>the routine that counts up total current or pending mappings on a service when the cached number has been reset is now massively faster (from a 30-60s down to less than a second in my dev tests). it now sums the tag autocomplete cache, rather than counting raw tables</li>
					<li>fixed the BUGFIX option in 'connections' that allows you to disable ssl verification. this will also be extended at a later date to be domain-specific</li>
					<li>.</li>
					<li>new server stuff:</li>
					<li>a new permission is added to hydrus service accounts--'manage options'. any account with 'manage account types' will get this by default on update</li>
					<li>any account on a repository with 'manage options' permission will now see 'change update period' in the admin services menu! it launches a time delta control with the current update period and will send the new one up to the server. the client will resync account, options, and metadata immediately, and the server will generate any now-due updates immediately, so you should be able to watch changes occur in 'review services' and the server terminal live. other users will catch up to the new time when they next hit an update. various hardcoded check periods (like how often due updates are checked for and delay-buffered clientside and serverside) are shrunk significantly. the whole system should react to changes better</li>
					<li>the minimum settable update time is now 10 minutes (the default value remains 100,000 seconds), but I recommend you try larger, say an hour minimum, at least to start. the network generally works more efficiently with higher numbers, and be warned, if you are adding 144 updates a day, there may be bloat problems after a year</li>
					<li>let me know how this goes, whether you are running a server on a LAN or just a regular user running on one who gets a new update time!</li>
					<li>the new 'full metadata resync' routine now triggers an immediate metadata update sync and wakes the daemon involved, so it should now happen as you watch</li>
					<li>fixed the new pause/play buttons on review services to use neutral pause/play icons, not the downloader pause/play</li>
					<li>brushed up metadata sync status string on review services</li>
					<li>cleaned misc server and network code</li>
					<li>cleaned up some old clientside service code</li>
					<li>the client api now supports wildcard and namespace tags in the file search call</li>
					<li>client api version is now 16</li>
					<li>added https://ififfy.github.io/flipflip/#/ , a slideshow engine that now supports hydrus as a source, to the client api page</li>
				</ul>
				<li><h3 id="version_434"><a href="#version_434">version 434</a></h3></li>
				<ul>
					<li>network updates:</li>
					<li>the hydrus network version is now 20. update your clients if you want to keep syncing with the PTR! no rush, but if you try to talk to a new server on an older client, or _vice versa_, you will get a polite error message</li>
					<li>most of the updates this week are for server administrators and jannies. I have reactivated old functions that were broken long ago and added some new features. the rest is mostly code cleanup and refactoring, improved error handling, preparation for the future, and other unexciting (but still important) work that had piled up</li>
					<li>.</li>
					<li>clientside network/repo stuff for regular users:</li>
					<li>repositories now have separate pause/play for account sync, update download, and update processing. the confusing old 'working' button is replaced with separate pause/play bitmap buttons</li>
					<li>admins can now attach a message to individual accounts. if you get a message attached, you will see it as a popup message, and on review services, after the next account sync (within a couple of days)</li>
					<li>a hydrus server may now allow automatic account creation. a button to check for creatable account types and then create a new account is added to 'manage services'. the PTR is likely to move to this sort of system for upload siblings/parents permissions, where getting away from my shared blob mega-account will make it easier to group petitions in the janitor workflow</li>
					<li>a logical bug in repository update processing order is fixed. I believe this was the source of some bad siblings for new users who did a lot of syncing in one go. there is no efficient re-processing fix available atm (you'll want 'reprocess content' atm), but I plan to split processing into more pause/play for mappings/siblings/parents, which should add more 'reprocessing' tools</li>
					<li>I cleaned a bunch of the UI code related to networking--in manage services and elsewhere, so there should be fewer bugs, confusion, and UI lag when using these controls. a whole load is still a mess though!</li>
					<li>fixed the 'see special permissions' button in review services</li>
					<li>repositories have a new maintenance function, accessed through the new 'reset downloading' button on review services, that force-resyncs all update hashes. this _should_ fix the unusual issue a handful of users had with an extra (invalid/404ing) update hash on the PTR. this function will also auto-trigger on various error states. the reason some users had an extra update hash in storage is still under investigation</li>
					<li>.</li>
					<li>other stuff, mostly boring:</li>
					<li>fixed an issue with the new file sort asc/desc button where a transition from 'random' to another sort type using a favourite search would always reset the sort order to the top value</li>
					<li>my asynchronous job object now has a default errback to catch errors more gracefully by default and with special handling in future. clicking an async button in a dialog will now show you the error there and then, rather than just the hidden error popup on the main window</li>
					<li>added convenience links to the latest build on github to the help menu and html help</li>
					<li>fixed another place in local file importing where a file that did not pass file import options checks would set 'skipped' status. it now sets 'ignored' like everything else</li>
					<li>fixed a bug when an 'undelete' call is sent to the media viewer when no media is set (usually during startup/shutdown)</li>
					<li>I disabled progress gauge 'pulsing' across the program. the way this was first implemented applied too often--I will bring it back to only apply when a job is both indeterminate and currently working</li>
					<li>my custom button class can now launch its own yes/no confirmation dialogs on click</li>
					<li>removed a subtag regen routine in the 425->426 update step that was bugging out due to bitrot--it now makes a popup message on boot asking for the routine to be run manually</li>
					<li>fixed a typo bug in the 'subscription snapshot' debug command</li>
					<li>misc ancient python 2-to-3 code cleanup</li>
					<li>updated cloudscraper to 1.2.58</li>
					<li>.</li>
					<li>admin stuff:</li>
					<li>.</li>
					<li>account modification:</li>
					<li>after a very very long delay, account modification is back. if you have permission to manage accounts, you can directly modify accounts using an account key from the services->admin menu, or for tag repositories you can do it from 'manage tags' from the cog menu on a selection of tags, or for file repositories you can do it from the file right-click menu on an uploaded file, or any petition processing page if you have modify accounts permission</li>
					<li>the available account modification routines are: change account type, set/extend/clear expiration, ban, unban, set message (new!)</li>
					<li>the modification routines now print summaries to the server log when they fire, including janny and subject account key</li>
					<li>the server admin menu now lets you see a list of all the accounts on the service, and also launch the new modification window from it for a selection of accounts</li>
					<li>the account modification window is also no longer a dialog, but a normal panel that lets you interact with the rest of the program while open</li>
					<li>the modify UI is now completely async. it loads account information in the background, and all server modification commands and subsequent account refreshing are the same</li>
					<li>the modify UI now lists separate row summaries, including account type and banned info, for all the accounts it is loaded with. accounts can be checked to apply actions only to a subset. you can also copy the checked account keys</li>
					<li>the modify UI also highlights if you are one of the accounts being modified, kek</li>
					<li>the modify UI now shows ban, expiration, and message info, and the 'account info' dict (which is still not great, but can be extended in future), for any listed account when it is clicked</li>
					<li>I have dropped 'superban' (which deleted all the account's previous content contributions along with the ban) for now. it'll likely return in one form or another in a future account permissions overhaul</li>
					<li>fixed some dedupe and de-surplus bugs in the 'modify accounts' logic</li>
					<li>fixed some account ban status presentation logic</li>
					<li>the UI code has been cleaned up generally</li>
					<li>retired the old 'get an account's info' admin menu item, since modify accounts dialog now fetches this better</li>
					<li>hydrus accounts now synchronise twice as fast, every 250,000 seconds</li>
					<li>.</li>
					<li>account types:</li>
					<li>account types now support optional automatic account creation, default off. it works like a subscription file velocity--'x new accounts per y time delta'.</li>
					<li>modifying account types now prints summaries, with janny account key, to the log</li>
					<li>account types now use a newer data serialisation format. the way they are tracked behind the scenes is neater</li>
					<li>.</li>
					<li>petitions:</li>
					<li>I did not have time to do the petition overhaul. however, I have prepared the network for it, and I have a plan, so I hope to be able in the coming weeks to improve fetch time for petition counts, make a summary list of all petitions, and implement background petition fetching to improve turnaround time</li>
					<li>the petition UI now has a button to copy the petitioner's account key (e.g if the janny wants to send it to an admin with account modification permission)</li>
					<li>.</li>
					<li>service options:</li>
					<li>hydrus services now have a separate 'options' object that is synced to all clients alongside account sync. this will be expandable in future without network version hassle</li>
					<li>the options object now contains stub values for 'server message', 'update period', and 'tag filter'. these values are not yet editable, but I will add them and plug them in in the coming weeks</li>
					<li>.</li>
					<li>boring network/repo update stuff:</li>
					<li>services now print to log when they host on a port. this applies to the server and the client (for client api and local booru)</li>
					<li>the repository update routine is now careful to process updates in index order--previously they were unintentionally processed in pseudorandom order, meaning if the processing backlog was long enough, certain add/delete updates of bad content could occur in reverse order. I believe this was the source of some odd persistent bad siblings some users saw after doing a lot of first-time 'catch-up' processing when first syncing with the client</li>
					<li>the server tracks account_type_keys and account_type_ids in a more careful, service-specific way. all access and modification of account type is cleaned up</li>
					<li>the AccountType object is graduated to the new serialisation format. the server db stores them in a new table and will convert all legacy objects on update</li>
					<li>deleted the double-ancient YAML AccountType</li>
					<li>critical network errors during repository download are now handled a little cleaner and trigger a metadata full resync</li>
					<li>the server is better about exiting cleanly--last-minute repository metadata changes and very recent session keys are saved</li>
					<li>wrote a new account account type change routine for the server. it prints a summary, including janny account key, to the log</li>
					<li>wrote a new account expiration set/extend modification routines for the server. they prints a summary, including janny account key, to the log</li>
					<li>wrote a new ban routine for the server. it prints a summary, including janny account key, to the log</li>
					<li>wrote a new unban routine for the server. it prints a summary, including janny account key, to the log</li>
					<li>wrote a message-set routine for the server. it prints a summary, including janny account key, to the log</li>
					<li>restored and expanded old server db tests for service creation, account initialisation, account type addition and deletion, registration key/access key/account generation, basic mappings addition, account identification by mapping content, and account modifications: account type, ban, unban, set expires, set message</li>
					<li>fleshed out and fixed old server unit tests</li>
					<li>refactored a bunch of server and network code, including to new 'networking' modules, and added a heap of type hints</li>
					<li>refactored all the server-client variable de/serialisation code, and a bunch of network object code</li>
					<li>refactored clientside service ui to a new file</li>
					<li>refactored client network and service panel gui code to new modules</li>
					<li>refactored the client manage services edit panels to their own, less confusing and coupled, classes</li>
					<li>refactored the client review services panels to their own, less confusing and coupled, classes</li>
					<li>cleaned up the clientside service ui, added and migrated to nicer new async functions for server calls</li>
					<li>cleaned a ton of server and network code in general</li>
					<li>cleaned up some json/POST variable parsing</li>
					<li>cleaned admin service menu code</li>
				</ul>
				<li><h3 id="version_433"><a href="#version_433">version 433</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>thanks to the effort of a user, this week reintroduces a native twitter downloader! it now gets video! (and 'gifs', which on twitter are just mp4s) please experiment with it and move your nitter subs back to this as you find success. it is called 'twitter syndication' and uses a different access method to get tweet info. it should get the highest resolution videos and images. the search has limited lookup distance, perhaps 500 tweets, but should work for most subscription purposes. this is a first version and may have future updates</li>
					<li>on the main gui, middle-clicking and left-double-clicking to open the 'new page' dialog, and right-clicking to open the page menu, should now only work on the page tabs or page greyspace. middle-clicking on some random downloader page greyspace should no longer spawn these commands. also, tiny change--middle-clicking now activates here on click _release_ rather than _press_</li>
					<li>on the file sort widget, the asc/desc sort dropdown is now a 'scrollable' menu button. since sorts are just one of two values, you can now scroll either direction to flip it</li>
					<li>the 'collect/leave unmatched' in the collect control is also now a scrollable menu button</li>
					<li>the new tag sort dropdowns are now all scrollable menu buttons. go ham with them</li>
					<li>middle-clicking the collect-by dropdown now clears it</li>
					<li>namespace file sort now supports a-z and z-a sorting. files with none of the matching namespaces still count as 'less than a' in a-z terms, but since I am updating all this code, perhaps this could get more attention. I don't use this much, so if you do, let me know what you would like</li>
					<li>network job controls now show their jobs' current bandwidth limits on their cog menu, split up by network context. you can edit the bandwidth rules directly from this menu, and if it is using defaults, set a specific ruleset</li>
					<li>userpath generation routines used for database location fallback and default export directory determination now recover from failure in the case of undefined user directory. the client will now not boot if the userpath is needed but undefined</li>
					<li>the client api no longer prints empty lists for any tag statuses on file metadata calls, nor service entries that have no tags at all</li>
					<li>fixed the new subscription 'caught up to small initial sync' calculation, which last week was only firing properly after one page of results</li>
					<li>subscriptions are now better about saving interesting status notes on their gallery logs, rather than overwriting with boring 'no new urls found' messages</li>
					<li>fixed a typo bug in the new range header implementation for unended ranges</li>
					<li>.</li>
					<li>boring cleanup:</li>
					<li>refactored ClientGUICommon and ClientGUIControls to a new 'widgets' module</li>
					<li>refactored the menu buttons from ClientGUICommon to a new ClientGUIMenuButtons</li>
					<li>wrote a mixin for the basic menu button behaviour and simplified the classes</li>
					<li>wrote a new 'choice' menu button that has a dropdown checkbox menu and allows mouse scrolling to navigate the list, with wrapping at boundaries</li>
					<li>refactored the updated network job control to its own file ClientGUINetworkJobControl</li>
					<li>misc db code cleanup and refactoring</li>
					<li>misc tag logic cleanup</li>
				</ul>
				<li><h3 id="version_432"><a href="#version_432">version 432</a></h3></li>
				<ul>
					<li>tag sorting:</li>
					<li>the tag sort dropdown has been replaced with a dynamic control. rather than one big list with all possible permutations, you now work on each variable (sort type, asc/desc, group by) separately. what you are actually sorting is easier to understand and select</li>
					<li>my stupid "lexicographic/incidence" labelling is replaced with the simpler and neater 'tag', 'subtag', and 'count'</li>
					<li>when in the manage tags dialog and sorting by tag or subtag, you can now turn off the 'use sibling' sort.</li>
					<li>I'd like to further neaten the workflow here, making the individual dropdowns flip back and forth with a mouse scroll in either directior rather than being just up/down allowed. let me know overall how you find this new control</li>
					<li>the 'tag sort' object is updated behind the scenes as well. your old value should be converted automatically</li>
					<li>fixed an issue with count tag sorting where deleted tag counts were being counted even when not displayed</li>
					<li>if you try to search tags on a page of thumbnails that holds an invalid tag, this is now caught gracefully and you get a little popup saying 'please run the repair invalid tags routine'</li>
					<li>.</li>
					<li>misc:</li>
					<li>the client now gives a once-per-boot warning popup if your session size exceeds 500k. for those who cannot reduce session size conveniently, this popup can be turned off under _options->gui pages_</li>
					<li>when the file import options prohibit a file due to filesize or resolution etc.., it should now always record that as an 'ignored' result rather than an 'error'</li>
					<li>fixed an unusual error popup in thread watcher display that could occur during session load. this problem seems to have been around for a long time, but it required a watcher in a previously saved and still valid 'wait a bit' error state and was only vulnerable for a few milliseconds, so it hadn't come up before. in any case, it is fixed</li>
					<li>subscriptions with small 'first run' file limits now work better: if you create a subscription with a fairly small 'first run' file limit (this typically matters when the number is smaller than one of the site's gallery page's worth of results), subsequent normal checks with larger file limits will be more aggressive about noticing that they 'caught up' to that small initial sync (previously, they would sometimes incorrectly think the site just got some files tagged out of order and bump right past that initial 'already in db' batch and keep going until they hit their own file limit)</li>
					<li>.</li>
					<li>advanced string processing:</li>
					<li>added a String Selector/Slicer object to the parsing system. this object allows you to select the nth item in a list of parsed strings or the mth to nth items. m can be 'start' and n can be 'end', and negative indices are allowed for both. pair it with the new Sorter for some neat new tricks!</li>
					<li>the string processing edit UI is now _more_ multi-string-aware. the test panel has had a code cleanup pass and now has a list of all the starting strings in the test data (e.g. all the urls parsed by the formula that launched the UI) rather than just the first, and a list of all results from that list. selecting any of the starting strings populates the 'single string' area, so you can now zoom in on one particular string to see what is happening to it</li>
					<li>the String Sorter edit UI now gets all the strings at that stage of processing, so you can review the sort properly</li>
					<li>the new String Slicer edit UI similarly gets all the strings at that stage of processing</li>
					<li>future updates will expand multi-string presentation and testing. I'd like to show the whole list at each stage</li>
					<li>.</li>
					<li>server/client api core improvements:</li>
					<li>I had a go at supporting the Range header for file (basically this means anything non-html/json) requests. I added tests and it seems to work. as I understand this mostly applies to browsers pulling video from the Client API. to start, I am supporting single range requests. if it is needed, I'll try to get Multi Range requests right, but for now they'll 416</li>
					<li>the client now understands 416 ("can't do that requested range m8") errors</li>
					<li>I reworked the serverside error handling chain. this has been borked for a long time due to my own lack of understanding of twisted's deferred system, and certain late-stage errors were just not being handled right. the server should no longer hang on these and now should print error info correctly, including a rough 500 in true late emergencies, and terminate the connection correctly</li>
					<li>.</li>
					<li>boring:</li>
					<li>fixed up a handful of typo-borked unit tests</li>
					<li>fixed my ordinal (xst, xnd, xrd, xth) text generator to deal with 11, 12, and 13 correctly lmao</li>
					<li>started some db maintenance routines and logistics to recover definitions and remove orphans in future, I feel great about it so far, but it'll have to wait for more of my db 'modules' refactoring to be more useful</li>
					<li>updated the mpv dll on the Windows release to 2021-02-28, it may improve some video support/performance</li>
					<li>updated sqlite dll on the Windows release to 3.34.1</li>
				</ul>
				<li><h3 id="version_431"><a href="#version_431">version 431</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>when parents are hidden in the edit/write taglists (e.g. in manage tags), there is now a '(n parents)' suffix</li>
					<li>thread watchers that are DEAD or 404 but still have files downloading now report 'working' status until that is done</li>
					<li>search terms with ';' like 'steins;gate' should now work in downloaders. sorry for the trouble!</li>
					<li>fixed an issue where un-ideal tags were sometimes becoming non-searchable when they were entirely replaced in manage tags with their 'ideal' siblings (i.e. their autocomplete count went to 0). this was due to overzealous deletion in the new tag definitions cache not filtering out sibling/parent chain members. a small routine will run on update to resynchronise affected tags</li>
					<li>fixed an issue when loading up files in the main 'import files' dialog where a critical error (as opposed to a nice 'couldn't figure it out, sorry') in mime detection would cause the whole job to hang</li>
					<li>that main 'import files' dialog now counts 'missing' files separately in the error count</li>
					<li>fixed tags not updating on the filename tagging dialog when double-clicking to remove from the simple taglists</li>
					<li>fixed the sort on the manage tags dialog's suggestion taglists--they now preserve their original sort, rather than alphabetising once sibling/parent data is populated</li>
					<li>the manage parser test panel now catches all network errors. error data back from the server is presented better, and the traceback is now viewable in a special new button on the network job control</li>
					<li>the edit shortcut set dialog now gives a veto text popup if you try to ok with a shortcut set twice (previously, it would ok and merge down to one command randomly). support for multiple commands per shortcut will come in future</li>
					<li>entering alt+number in the shortcut entry dialog on windows will no longer spam some errors about 'null character'</li>
					<li>fixed a 'this object is too huge' check in the database, which mostly affects gui sessions with millions of objects, to check against 1 billion bytes max size rather than 1GB, as here https://sqlite.org/limits.html (issue #816)</li>
					<li>fixed the 8chan.moe parser, which was pulling hash incorrectly. it should now save more bandwidth</li>
					<li>updated the e621 parser to pull their (new?) 'lore' tags, which all end in _(lore) and refer to canonical gender and some spice. they come with the 'lore' namespace for now, we'll see how it works out. a user reports these are useful for blacklists</li>
					<li>.</li>
					<li>new string processing sort step (for advanced users):</li>
					<li>string processing objects have a new processing step: String Sorter</li>
					<li>this sorter can sort the whole list of strings, either strict lexicographic or 'human sort' that does numbers properly, asc/desc</li>
					<li>it can also take a regex for the sort 'key', so you can sample just the number or name you want for sort purposes</li>
					<li>content parsers no longer have the 'sort formulae results' controls. any content parser with existing sort has been converted so its string processing object has a String Sort step appended</li>
					<li>the string processing UI is still built around single string processing, so the test UI here is essentially non-functional, but you can see the sort happen in the formula test parse panel</li>
					<li>I will add a String Slicer in future to sample the list of strings, so you'll be able to grab the top item etc...</li>
					<li>.</li>
					<li>boring code cleanup:</li>
					<li>refactored the refresh call in filename tagging dialog to nicer Qt signals</li>
					<li>the add/remove taglists on the simple panel are also moved to Qt signals</li>
					<li>and so are 'filter' taglists</li>
					<li>fixed some typos in new help text</li>
					<li>removed a 'needs restart' string in 'gui pages' options that no longer does</li>
					<li>.</li>
					<li>here is a hieroglyph falcon:</li>
					<li>𓅃</li>
				</ul>
				<li><h3 id="version_430"><a href="#version_430">version 430</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>fixed 'unusual character' collapse logic for short text inputs in tag autocomplete lookups. in human, this means typing 'a' now correctly gives you the tag '/a/' and _vice versa_ (issue #799)</li>
					<li>to make this work, an old database subtag map cache is revived this week in a more efficient form. if you sync with the PTR, it will take a couple minutes to update. the regen routine is also added to the database->regen menu, in case it ever desynchronises in future</li>
					<li>absent an override referral url, api-linked url fetches now use the original url as referrer. previously they were sending no referrer. this fixes watching spicy boards on 8chan.moe</li>
					<li>updated a 'get all this stuff' database routine to report more info, and a handful of supermassive jobs (mostly db maintenance regen) now report x/y progress with y, rather than just a nebulous increasing x</li>
					<li>fixed an odd bug in a common UI text-clearing call that was causing real text not to show up for a while after the clear. this was most apparent in the downloader highlight panels, where status text on file/gallery/network status could sometimes stay blank until a change</li>
					<li>the manage tags dialog's "there are several things you can do" button box when you enter tags in complicated situations is now clearer. there are several sorts of intro text on the dialog, the button labels are clearer, and button tooltips have more action information</li>
					<li>fixed the tumblr downloader! sorry for the trouble here, I hadn't realised the situation from some reports. if you have tumblr subs, please go into them and set to 'try again' any recent urls that say 'Found 0 new URLs.'</li>
					<li>.</li>
					<li>taglists:</li>
					<li>you can now right-click any edit/write taglist (like those across the manage tags dialog) and choose to hide/show the implied parents that now hang underneath tags</li>
					<li>you can set whether this defaults to hide or show, separately for the regular taglists and the autocomplete results dropdown, under options->tags</li>
					<li>the taglist now sorts lexicographically using sibling tag data where available. I had expected to make options here to use storage or ideal tag, but once I tried it out, using the ideal all the time felt proper to me, so let's see how it goes</li>
					<li>fixed the routine that removes mutually exclusive predicates (e.g. system:inbox/archive) when adding to the active search predicates taglist. this fixes the 'exclude xxx from search' menu action and other add/swap actions (issue #815)</li>
					<li>gave the taglist right-click menu another quick pass. since there are all sorts of actions that may or not appear, and menu items can get pretty wide with tag text, I am trying out an intentionally short and thin top-level menu of 'verbs' that is quick to navigate with your mouse, and then tuck longer and taller stuff in secondary menus</li>
					<li>.</li>
					<li>boring code cleanup:</li>
					<li>cleaned and unified a bunch of the new taglist sibling and parents display logic and other legacy variables. it now basically all derives from one storage/display state, so behaviour across the program should be more unified. this may cause confusion in some more advanced dialogs, so let me know anywhere it looks weird</li>
					<li>the 'favourites' autocomplete tab in 'edit/write' a/c dropdowns now show siblings and parents for the current display service</li>
					<li>the tag suggestions favourites dropdowns and taglists in the options now show siblings/parents according to the current service</li>
					<li>the 'url class precedence' routine, which tests more 'specific' url classes first when trying to match an url, has a subtle logic change--now, url classes are first considered more 'specific' according to number of path components and parameters that have no default. this stops an url class with multiple optional parameters overriding another with a single fixed parameter (this is what affected the tumblr downloader above). the specific (descending) sort key is now (required components, total components, required parameters, total parameters, len normalised example url)</li>
					<li>refactored client object serialisation access routines to a new db module</li>
					<li>refactored database transaction code and status tracking to a separate object</li>
					<li>refactored some more tag definition routines to the master tag module</li>
				</ul>
				<li><h3 id="version_429"><a href="#version_429">version 429</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>fixed a bug in the new taglist backend that would sometimes error out in a paint event(!) on display initialisation or data changes for some clients</li>
					<li>improved the taglist 'tag' vs 'copyable string' copy/select/action menu logic. e.g. 'namespace:*' is copyable, but it is not a tag</li>
					<li>thread watchers now skip/clean up unactioned check log entries (this usually happens when a check is due during network traffic paused, queueing the job, and then the client shuts down). if you noticed some odd perpetually 'pending' checkers in last week's status overhaul, this was the issue, and they should clean up. this was always harmless, just revealed with new status code</li>
					<li>thread watchers now record serious network error detail in the check log</li>
					<li>thread watchers are quicker about notifying UI on checker log changes</li>
					<li>thread watchers now report 'time delta' as their simple status when waiting to check, rather that 'checking in (time delta)'. let's see if that fits better in the columns</li>
					<li>fixed an issue where several dialogs with multi-column lists would reset their 'last column' size to the minimum three characters on the next load if they did not receive certain size events while they were open. you should just have to fix any broken dialogs once and you'll be good again</li>
					<li>I believe I also improved/fixed the issue of dialogs with multi-column lists sometimes shrinking by a few pixels every open/close</li>
					<li>the 'we just woke from sleep' detection is now more aggressive. it should now detect a wake after sleeps as short as 60 seconds (down from 5 mins). let's see if we get any false positives during maintenance or other busy periods</li>
					<li>if you have a complicated database (one stored across multiple locations), the 'database' menu now has a label in place of the simple database's 'backup/restore' commands</li>
					<li>improved the 'directory is writeable-to' check used in the program. on windows, due to some python tempfile weirdness, this was actually hanging on Program Files.</li>
					<li>improved the related 'is db dir writeable-to' test in the boot script. if you try to run the program on a custom non-writeable db directory, the crash error should now be nicer, and running a straight client.exe installed to 'Program Files' should now auto-place your db in your user folder, no complaints, like the macOS App</li>
					<li>corrected 'writable' typo to 'writeable' across the program lmao</li>
					<li>fixed the new header links in the FAQ file, which I accidentally messed up</li>
					<li>started work on updating neighbouring .txt tag sidecar export. it isn't ready yet, but it will add tag filters and tag display type to sidecar export with easier expansions in future, and fold it nicely into Export Folders</li>
					<li>improved some log-off detection + clean shutdown code, but I do not yet have nice multiplatform support</li>
					<li>.</li>
					<li>filetypes:</li>
					<li>the stacked expand/collapse checkbox widget that lets you select filetypes now always starts collapsed. also, some 'partially clicked' logic is improved when you click through filetype group</li>
					<li>application/clip (clip studio paint) files are now supported! thanks to a user for helping out here</li>
					<li>just a side note: I looked into animated webp support this week, but it turns out decoding support is rarer than encoding. my normal and fairly new FFMPEG can't reliably render subsequent frames or figure out duration, nor can PIL or OpenCV. I think we will simply have to wait for an update on one of their ends</li>
					<li>.</li>
					<li>boring db cleanup:</li>
					<li>wrote a local hashes cache to store hashes for all the files on your disk, much like the tag one. this should speed up all normal searches and other common file lookups in the db</li>
					<li>the raw storage mapping tables are spun off to their own module</li>
					<li>basic file info and inbox is spun off to its own module</li>
					<li>improved and sped up some inboxing file count calculations</li>
					<li>cleaned up some more misc file metadata and inbox code</li>
					<li>improved logic in local tags cache</li>
				</ul>
				<li><h3 id="version_428"><a href="#version_428">version 428</a></h3></li>
				<ul>
					<li>interesting taglist changes:</li>
					<li>taglists work way better behind the scenes</li>
					<li>when siblings display with the '(will display as xxx)' suffix, this text is now coloured by the correct namespace!</li>
					<li>parents now show in 'manage tags dialog' taglists! they show up just like in a write/edit tag autocomplete results list</li>
					<li>the tag right-click menu has had a pass. 'copy' is now at the top, the 'siblings and parents' menu is split into 'siblings' and 'parents' with counts on the top menu label and the submenus for each merged, and the 'open in new page' commands are tucked into an 'open' submenu. the menu is typically much tighter than before</li>
					<li>when you hit 'select files with these tags' from a taglist, the thumbgrid now takes keyboard focus if you want to hit F7 or whatever</li>
					<li>custom tag presentation (_options->tag presentation_, when you set to always hide namespaces or use custom namespace separator in read/search views) is more reliable across the program. it isn't perfect yet, but I'll keep working</li>
					<li>a heap of taglist code has been cleaned up. some weird logical issues should be better</li>
					<li>now the code is nicer to work with, I am interested in feedback on how to further improve display and workflows here</li>
					<li>.</li>
					<li>the rest:</li>
					<li>added two mirrors for nitter, whose main site is failing due to load. I added them randomly from the page here: https://github.com/zedeus/nitter/wiki/Instances . if you have nitter subs, please move their download source to one of the mirrors or set up your own url classes to other mirror addresses. thanks to a user for providing other parser fixes here</li>
					<li>gallery download pages now show the 'stop' character in the small file column when the files are done</li>
					<li>gallery download pages now report their 'working' status without flicker, and they report 'pending' when waiting for a download slot (this situation is a legacy hardcoded bottleneck that has been confusing)</li>
					<li>thread watchers also now have the concept of 'pending', and also report when they are next checking</li>
					<li>improved the new grouped status sort on gallery downloader and watcher pages. the ascending order is now DONE, working, pending, checking later (for watchers), paused</li>
					<li>the network request delay after a system resume is now editable under the new options->system panel. default is 15 seconds</li>
					<li>the 'wait on files too' option is moved from 'files and trash' to this panel</li>
					<li>when the 'just woke' status is active, you now get a little popup with a cancel button to override it</li>
					<li>'open similar-looking files' thumbnail menu entry is moved up from file relationships to the 'open' menu</li>
					<li>the duplicate filter right-hand hover window no longer has both 'previous' and 'next' buttons, since they both act as 'flip', and the merged button is moved down, made bigger, and has a new icon</li>
					<li>added 'view next' to the duplicate filter shortcut set, so you can set a custom 'flip between pair' mapping just for that filter</li>
					<li>thanks to a user helping me out, I was able to figure out a set of lookups in the sibling/parent system that were performing unacceptably slow for some users. this was due to common older versions of sqlite that could not optimise a join with a multi-index OR expression. these queries are now simpler and should perform well for all clients. if your autocomplete results from a search page with thumbs were achingly slow, let me know how they work now!</li>
					<li>the hydrus url normalisation code now treats '+' more carefully. search queries like 6+girls should now work correctly on their own on sites where '+' is used as a tag separator. they no longer have to be mixed with other tags to work</li>
					<li>.</li>
					<li>small/specific stuff:</li>
					<li>the similar files maintenance search on shutdown now reports file progress every 10 files and initialises on 0. it also has faster startup time in all cases</li>
					<li>when a service is deleted, all currently open file pages will check their current file and tag domains and update to nicer defaults if they were pointed at the now-missing services</li>
					<li>improved missing service error handling for file searches in general--this can still hit an export folder pointed at a missing service</li>
					<li>improved missing service error handling for tag autocomplete searches, just in case there are still some holes here</li>
					<li>fixed a couple small things in the running from source help and added a bit about Visual Studio Build Tools on Windows</li>
					<li>PyOpenSSL is now optional. it is only needed to generate the crt/key files for https hosting. if you try to boot the server or run the client api in https without the files and without the module available to generate new ones, you now get a nice error. the availability of this library is now in the client's about window</li>
					<li>the mpv player will no longer throw ugly errors when you try to seek on a file that its API interface cannot support</li>
					<li>loading a file in the media viewer no longer waits on the file system lock on the main thread (it was, very briefly), so the UI won't hang if you click a thumb just after waking up or while a big file job is going on</li>
					<li>the 'just woke' code is a little cleaner all around</li>
					<li>the user-made downloader repository link is now more obvious on Lain's import dialog</li>
					<li>an old hardcoded url class sorting preference that meant gallery urls would be matched against urls before post, and post before file, is now eliminated. url classes are now just preferenced by number of path components, then how many parameters, then by example url length, with higher numbers matching first (the aim is that the more 'specific' and complicated a url class, the earlier it should attempt to match)</li>
					<li>updated some of the labelling in manage tag siblings and parents</li>
					<li>when you search autocomplete tags with short inputs, they do not currently give all 'collapsed' matching results, so an input of 'a' or '/a/' does not give the '/a/' tag. this is an artifact of the new search cache. after looking at the new code, there is no way I can currently provide these results efficiently. I tested the best I could figure out, but it would have added 20-200ms lag on all PTR searches, so instead I have made a plan to resurrect an old cache in a more efficient way. please bear with me on this problem</li>
					<li>tag searches that only include unusual characters like ? or & are now supported without having to lead the query with an asterisk. they will be slower than normal text search</li>
					<li>fixed a bug in the 'add tags before import' dialog for local imports where deleting a 'quick namespace' was not updating the tag list above</li>
					<li>.</li>
					<li>windows clean install:</li>
					<li>I moved to a new windows dev machine this week and a bunch of libraries were updated. I do not believe the update on Windows _needs_ a clean install this week, as a new dll conflict actually hits the coincidentally now-optional PyOpenSSL, but it is worth doing if you want to start using the Client API soon, and it has been a while, so let's be nice and clean. if you extract the release on Windows, please check out this guide: https://hydrusnetwork.github.io/hydrus/help/getting_started_installing.html#clean_installs</li>
					<li>the Windows installer has been updated to remove many old files. it should now do clever clean installs every week, you have nothing to worry about!™</li>
					<li>.</li>
					<li>boring db breakup:</li>
					<li>the local tags cache, which caches tags for your commonly-accessed hard drive files, is now spun off to its own module</li>
					<li>on invalid tag repair, the new master tags module and local tags cache are now better about forgetting broken tags</li>
					<li>the main service store is spun off to its own module. several instances of service creation, deletion, update and basic fetching are merged and cleaned here. should improve a couple of logical edge cases with update and reset</li>
					<li>.</li>
					<li>boring taglist changes:</li>
					<li>taglists no longer manage text and predicates, but a generalised item class that now handles all text/tag/predicate generation</li>
					<li>taglist items can occupy more than one row. all position index calculations are now separate from logical index calculations in selection, sizing, sorting, display, and navigation</li>
					<li>all taglist items can present multiple colours per row, like OR predicates</li>
					<li>items are responsible for sibling and parent presentation, decoupling a heap of list responsibility mess</li>
					<li>tag filter and tag colour lists are now a separate type handled by their own item types</li>
					<li>subordinate parent predicates (as previously shown just in write/edit autocomplete result lists) are now part of multi-row items. previously they were 'quiet' rows with special rules that hung beneath the real result. some related selection/publish logic is a bit cleaner now</li>
					<li>string tag items are now aware of their parents and so can present them just like autocomplete results in write/edit contexts</li>
					<li>the main taglist content update routines have significantly reduced overhead. the various expansions this week add some, so we'll see how this all shakes out</li>
					<li>the asynchronous sibling/parent update routine that populates sibling and parent data for certain lists is smarter and saves more work when data is cached</li>
					<li>old borked out selection/hitting-skipping code that jumped over labels and parents is now removed</li>
					<li>'show siblings and parents' behaviour is more unified now. basically they don't show in read/search, but do in write/edit</li>
					<li>a heap of bad old taglist code has been deleted or cleaned up</li>
				</ul>
				<li><h3 id="version_427"><a href="#version_427">version 427</a></h3></li>
				<ul>
					<li>ghost pending tags:</li>
					<li>fixed another ghost pending tags bug. this may have been new or there since the display cache started, I am not sure, but it shouldn't happen again. it was occuring when a pending tag was being committed to 'current' and another tag in its sibling group already existed as a current tag for that file. the pending tag and its count would not clear for non-'all known files' domains, causing ghosts to appear in search pages but not typically manage tags. you may have noticed ghost tags hanging around after a pending commit--this was it. the true problem here was in the 'rescind pending' action that occurs just before an add/commit. a new unit test tests for this situation both for two non-ideal tags being pend-merged, and a non-ideal tag being pend-merged into the existing ideal</li>
					<li>wrote a routine to regenerate _pending_ tag storage and autocomplete counts from scratch for the combined and specific display tag caches. this job is special in that it regens tags instantly without having to reset sibling/parent sync. you can run the job from the database->regen menu. this is the start of 'fix just this tag' maintenance ability</li>
					<li>the pending regen routines will occur on update. it shouldn't take long at all, unless you have five million tags pending, where it could be a couple minutes</li>
					<li>.</li>
					<li>autocomplete shortcuts:</li>
					<li>there is a new shortcut set under _file->shortcuts_ just for tag autocomplete shortcuts. any 'switch searching immediately' shortcut previously on 'main gui' will be migrated over</li>
					<li>the tag autocomplete input text box is now plugged into the new shortcut system and uses this set</li>
					<li>migrated previously hardcoded autocomplete shortcuts to the shortcut system (defaults):</li>
					<li>- force search now, for when you have automatic searching turned off (ctrl+space)</li>
					<li>- enable IME-friendly mode (insert)</li>
					<li>- if input empty, move left/right a tab (left/right arrow)</li>
					<li>- if input empty, move left/right a service page (up/down arrow)</li>
					<li>- if input empty and on media viewer, move to previous/next media (page up/down)</li>
					<li>misc improvements to my shortcut handler</li>
					<li>misc shortcut code cleanup</li>
					<li>.</li>
					<li>the rest:</li>
					<li>I fixed a bad example url in the new gelbooru file page parser that was sometimes leading to a link to the gallery url class. this was an artifact of an old experiment with md5-search parsing, now fixed with newer redirection tech. the updated parser is folded into update, and if you ended up with the incorrect link, it should be detected, dissolved, and re-linked with the file page parser</li>
					<li>thanks to a user report, wrote a new url class for 420chan's newer thread url format</li>
					<li>sorting a gallery downloader or thread watcher multi-column list by 'status' should now group 'done' and 'paused' items separately</li>
					<li>fixed a bug in the /add_tags/add_tags Client API call when checking some petitioned tags data types. cleaned all that code, it was ugly (issue #788)</li>
					<li>added unit tests for /add_tags/add_tags to test the service_names_to_actions_to_tags parameter better and repository actions, including petitioning with and without specified reason</li>
					<li>.</li>
					<li>code refactoring:</li>
					<li>finally addressing the near-1MB ClientDB file, I have started a framework to break the db into separate modules with their own creation/repair/work responsibilities. this will make the file easier to work on, maintain, update, and test. this week starts off simple, with the master definitions being peeled off into hashes, tags, urls, and texts submodules</li>
					<li>cleaned some misc code around here, including a bunch of related decoupling</li>
					<li>ClientDB.py is now in its own 'db' module as well. the db will further fracture and this module will gain more files in future</li>
					<li>the boot code in the launch scripts is now migrated to the 'hydrus' directory, with the actual launch scripts now doing nicer __main__ checks to not launch the program if you want to play around with importing hydrus. more work to come here</li>
					<li>finished the help's header linking job--all headers across the help are now #fragment links</li>
					<li>misc help cleanup</li>
				</ul>
				<li><h3 id="version_426"><a href="#version_426">version 426</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>thanks to help from Codexx at 8chan.moe, the old 8kun board is completely migrated and archived at 8chan.moe /hydrus/. going forward I will be maintaining a Hydrus Network General there on /t/ for merged release posts, Q&A, and Bug Reports. the plan is that whenever it fills up, it will be moved to the /hydrus/ archive. the links across the program and help are updated, please let me know if I missed any. Endchan /hydrus/ remains as a bunker</li>
					<li>fixed a bug where subtag entries in the new tag fast search cache were being deleted for all namespaces when a single namespaced version was went to count 0. it meant some autocomplete results were not appearing, often after some sibling changes. a new 'repopulate' job has been added to the database regenerate menu to fix this efficiently if something like it happens again. this routine will be run on update to fix all users, it shouldn't take long (issue #785)</li>
					<li>fixed a bug where the new network objects would throw an error on save when a 'dirty' object was quickly deleted. I think this was typically sessions that only have ephemeral session cookies being created in the final five minutes of the program and then being cleared during program exit</li>
					<li>when an archive/delete filter finishes, it now fires off all its changes in one go. previously they would go in ~64-file chunks over the next few hundred milliseconds. this will add a small amount of 'refresh lag', delaying page refreshes etc..., on bigger filter jobs for some clients, but it will guarantee that if you hit F5 real quick after finishing filtering on a processing page with non-random sort, you won't see the same files again at the top, only for them to be swiftly archived/deleted as you watch. trash file performance is much better these days, let me know how this goes for you if you do megafilters</li>
					<li>the tag import options whitelist now checks subtags of parsed tags. if you add 'samus aran' to the whitelist, but the site delivers 'character:samus aran', this now passes the whitelist</li>
					<li>thanks to a user's submission, the gelbooru 0.2.5 post parser is updated and should get tags again, for those users who stopped getting them last week--however, I never experienced this myself, so please let me know if you still have trouble. there could be something more complicated going on here</li>
					<li>updated the gelbooru 0.2.x gallery parser to handle an alternate form of gelbooru pools--we did not figure out why different users are being given different markup, it wasn't as simple as being logged in or not, but there is a difference for some. this parser is folded in on update, so the gelb pool downloader should be fixed for users who had trouble with it</li>
					<li>also updated the gelbooru pool gallery url class to infer next page url, as in the alternate form the next page is difficult to parse</li>
					<li>the 'clear all closed pages' command under the 'undo' menu now asks for yes/no confirmation</li>
					<li>added a 'callto' profile mode, which will be very useful in diagnosing GPU lag in future. the 'callto' jobs are little off-main-thread things like image rendering and async panel preparation. should help us figure out where big download pages etc... are eating up CPU</li>
					<li>the different profile modes in the debug menu now all show popup messages, but only when their job exceeds the particular profile's interesting time, usually 3-20ms. this should reduce spam</li>
					<li>the 'this session' bandwidth tracker on the status bar is now a special tracker that only includes data from boot. previously, it was using the 'global' tracker, which after certain time intervals (four minutes, three hours, three days), will compress bandwidth history into larger time windows to save space. if one of these windows covered time before the client started, it could spookily report a little bandwidth used on a client started with network traffic paused</li>
					<li>bandwidth data usage in times shorter than the last ten seconds (which are smoothed out to avoid bumps) now also get the 'don't get bandwidth from the future on motherboards that had a briefly crazy system clock' fix from last week</li>
					<li>fixed some disengaged database tuning that was leading to worse cancel times on certain jobs</li>
					<li>updated a whole bunch of the help so section headings are links with nice #fragment/anchor ids, making it easy to link other users to a particular section. I will continue this work, and future help will follow this new format</li>
					<li>fixed some bad character encodings in the changelog document, siblings help, and tagging schema help. these should now be utf-8 valid</li>
					<li>.</li>
					<li>object load improvements:</li>
					<li>the client now detects serialisable (saveable) objects that were generated in a future version format your client does not yet support. this mostly affects downloader objects like parsers, where you might import an object a user in a much newer version of the client made. for instance, this week some users imported a fixed gelbooru parser in an older client, which was then saved and double-updated later on, and that caused other problems down the line. downloader imports deal with this situation cleanly, but otherwise it mostly makes a popup notifying you of the problem and asking to contact me. there are about 170 places in the program where objects are deserialised and I am not ready to make this a fullblown error until I know more about people's IRL situations. let's hope this is not widespread. if you run into this, please let me know!</li>
					<li>if you were running an older client and manually imported the updated gelbooru parser that was going around, and then you got errors about 'md5', hex' or 'additional_info' something, it _should_ be automatically fixed on update. you should be able to update from previous to ~422, see it in network->downloader components->manage parsers, and it should just work. many users will have the entry overwritten anyway in the above gelb update I am rolling in. if any of this does still give you trouble, please delete and re-import the affected object(s)</li>
					<li>importing one of these future-versioned serialised objects using the import/export buttons on a multi-column list, either clipboard, json, or png, will cleanly discard future objects with a non-spammy notification</li>
					<li>the Lain drag-and-drop easy downloader import does the same</li>
					<li>the parser 'show what this can parse in nice text' routine now fails gracefully</li>
					<li>multi-column lists now handle a situation where either the display or sort data for a row cannot be generated. a single error popup per list will be generated so as not to spam, bad sorts will be put at the top, and 'unable to render' will occupy all display cells</li>
					<li>.</li>
					<li>network server stuff:</li>
					<li>fixed being able to delete an account type in the server admin menu</li>
					<li>the way accounts are checked for permissions serverside now works how the client api does it, unified into a neater system that checks before the job starts</li>
					<li>did some misc server code cleanup, and clientside, prepped for restoring account modification and future improvements</li>
				</ul>
				<li><h3 id="version_425"><a href="#version_425">version 425</a></h3></li>
				<ul>
					<li>optimisations:</li>
					<li>I fixed the new tag cache's slow tag autocomplete when in 'all known files' domain (which is usually in the manage tags dialog). what was taking about 2.5 seconds in 424 should now take about 58ms!!! for technical details, I was foolishly performing the pre-search exact match lookup (where exactly what you type appears before the full results fetch) on the new quick-text search tables, but it turns out this is unoptimised and was wasting a ton of CPU once the table got big. sorry for the trouble here--this was driving me nuts IRL. I have now fleshed out my dev machine's test client with many more millions of tag mappings so I can test these scales better in future before they go live</li>
					<li>internal autocomplete count fetches for single tags now have less overhead, which should add up for various rapid small checks across the program, mostly for tag processing, where the client frequently consults current counts on single tags for pre-processing analysis</li>
					<li>autocomplete count fetch requests for zero tags (lol) are also dealt with more efficiently</li>
					<li>thanks to the new tag definition cache, the 'num tags' service info cache is now updated and regenerated more efficiently. this speeds up all tag processing a couple percent</li>
					<li>tag update now quickly filters out redundant data before the main processing job. it is now significantly faster to process tag mappings that already exist--e.g. when a downloaded file pends tags that already exist, or repo processing gives you tags you already have, or you are filling in content gaps in reprocessing</li>
					<li>tag processing is now more efficient when checking against membership in the display cache, which greatly speeds up processing on services with many siblings and parents. thank you to the users who have contributed profiles and other feedback regarding slower processing speeds since the display cache was added</li>
					<li>various tag filtering and display membership tests are now shunted to the top of the mappings update routine, reducing much other overhead, especially when the mappings being added are redundant</li>
					<li>.</li>
					<li>tag logic fixes:</li>
					<li>I explored the 'ghost tag' issue, where sometimes committing a pending tag still leaves a pending record. this has been happening in the new display system when two pending tags that imply the same tag through siblings or parents are committed at the same time. I fixed a previous instance of this, but more remained. I replicated the problem through a unit test, rewrote several update loops to remain in sync when needed, and have fixed potential ghost tag instances in the specific and 'all known files' domains, for 'add', 'pend', 'delete', and 'rescind pend' actions</li>
					<li>also tested and fixed are possible instances where both a tag and its implication tag are pend-committed at the same time, not just two that imply a shared other</li>
					<li>furthermore, in a complex counting issue, storage autocomplete count updates are no longer deferred when updating mappings--they are 'interleaved' into mappings updates so counts are always synchronised to tables. this unfortunately adds some processing overhead back in, but as a number of newer cache calculations rely on autocomplete numbers, this change improves counting and pre-processing logic</li>
					<li>fixed a 'commit pending to current' counting bug in the new autocomplete update routine for 'all known files' domain</li>
					<li>while display tag logic is working increasingly ok and fast, most clients will have some miscounts and ghost tags here and there. I have yet to write efficient correction maintenance routines for particular files or tags, but this is planned and will come. at the moment, you just have the nuclear 'regen' maintenance calls, which are no good for little problems</li>
					<li>.</li>
					<li>network object breakup:</li>
					<li>the network session and bandwidth managers, which store your cookies and bandwidth history for all the different network contexts, are no longer monolithic objects. on updates to individual network contexts (which happens all the time during network activity), only the particular updated session or bandwidth tracker now needs to be saved to the database. this reduces CPU and UI lag on heavy clients. basically the same thing as the subscriptions breakup last year, but all behind the scenes</li>
					<li>your existing managers will be converted on update. all existing login and bandwidth log data should be preserved</li>
					<li>sessions will now keep delayed cookie changes that occured in the final network request before client exit</li>
					<li>we won't go too crazy yet, but session and bandwidth data is now synced to the database every 5 minutes, instead of 10, so if the client crashes, you only lose 5 mins of login/bandwidth data</li>
					<li>some session clearing logic is improved</li>
					<li>the bandwidth manager no longer considers future bandwidth in tests. if your computer clock goes haywire and your client records bandwidth in the future, it shouldn't bosh you _so much_ now</li>
					<li>.</li>
					<li>the rest:</li>
					<li>the 'system:number of tags' query now has greatly improved cancelability, even on gigantic result domains</li>
					<li>fixed a bad example in the client api help that mislabeled 'request_new_permissions' as 'request_access_permissions' (issue #780)</li>
					<li>the 'check and repair db' boot routine now runs _after_ version checks, so if you accidentally install a version behind, you now get the 'weird version m8' warning before the db goes bananas about missing tables or similar</li>
					<li>added some methods and optimised some access in Hydrus Tag Archives</li>
					<li>if you delete all the rules from a default bandwidth ruleset, it no longer disappears momentarily in the edit UI</li>
					<li>updated the python mpv bindings to 0.5.2 on windows, although the underlying dll is the same. this seems to fix at least one set of dll load problems. also updated is macOS, but not Linux (yet), because it broke there, hooray</li>
					<li>updated cloudscraper to 1.2.52 for all platforms</li>
				</ul>
				<li><h3 id="version_424"><a href="#version_424">version 424</a></h3></li>
				<ul>
					<li>new tag caches:</li>
					<li>as 2020 ended, I attempted but failed to tune fast search for all kinds of clients, big and small and simple and complex. unable to guarantee decent speeds with just code, I have redesigned the tag text search cache. rather than checking the gigantic master table for all namespace and subtag lookups, the client can now zoom in on a small fast cache limited to the current search context, so doing a clever lookup on 'my tags' will no longer be hampered by having PTR beside it, and doing a solid lookup on the PTR or 'all known tags' will no longer be accidentally hampered by an optimisation for another situation</li>
					<li>the 424 update will take some time to generate the new caches for your existing data. if you don't sync with the PTR, it should be a few seconds. if you do sync, it will be about ten minutes on an SSD (seems about 30,000 definitions a second), and somewhat longer on an HDD. it will count up the tags as it goes, and on the PTR there will be a bit of deletion work, then one or two counts up to perhaps a million, and then one big count up to about 16 million.</li>
					<li>in my initial tests, this cache adds about 1-2% additional processing time to mass tag changes, but a wide variety of tag lookups and file searches are now significantly faster, have much nicer worst-case lag spikes, and should cancel quicker. these are best in any specific tag domain, although 'all known tags' should still be much better. a future expansion of the tag cache is planned to finally address clean and accurate 'all known tags' searches</li>
					<li>summary; all these should be faster and cancel faster:</li>
					<li>autocomplete searches for 'subtag*' (most normal searches) are optimised</li>
					<li>autocomplete searches for 'namespace:*' are optimised, including when the namespace itself is a wildcard</li>
					<li>autocomplete searches for wildcards with an asterisk in the middle of the subtag are optimised</li>
					<li>autocomplete searches for wildcards with an asterisk at the beginning of the subtag are optimised (but this is still generally the slowest query)</li>
					<li>autocomplete searches for namespace and subtag wildcard combinations are optimised, with either or both as a wildcard of any type</li>
					<li>autocomplete searches for '*' are optimised</li>
					<li>tag file searches without a namespace (i.e. in file search, with any namespace) are optimised</li>
					<li>namespace file searches are optimised, including when the namespace is a wildcard</li>
					<li>wildcard file searches are optimised, for all the classes of wildcard above</li>
					<li>'tag as number' file searches are optimised</li>
					<li>'has &gt;&lt;= x namespace tags' file searches are optimised for speed, including when the namespace is a wildcard, but still have bad cancelability on large domains. I'll work on this more</li>
					<li>.</li>
					<li>other tag cache info:</li>
					<li>the 'tag text search cache' regeneration routine under the _database->regenerate_ menu is replaced with a service specific routine for the new cache</li>
					<li>on boot, if the client sees any of the new cache tables are missing, it notifies you and regenerates the affected subsection of the cache</li>
					<li>an old method of performing complex wildcard searches was using surplus data and has been eliminated. these searches are now also computationally cheaper beyond the other domain-based optimisations this week</li>
					<li>I have identified the next bottleneck in the tag search pipeline and have a plan to speed all the above up even further, which can all be done in code</li>
					<li>thanks to user feedback, I have also identified other wasteful overhead in tag processing. I'll keep working!</li>
					<li>while the planned 'all known tags' cache will be useful since most file searches are in this domain, it will be a bit of work, so I will first let this new lookup cache breathe for a bit. 'all known tags' will not be nearly as big as the 'all known files/combined file' caches that have hit us with so much CPU recently. I expect it to increase the client.caches.db size by about 5%</li>
					<li>unified all increments or decrements to autocomplete count caches, no matter the service domain, to one location</li>
					<li>unified how autocomplete counts are fetched across different service domains</li>
					<li>optimised specific and combined autocomplete count cache update overhead for new, existing, and deleted tags</li>
					<li>optimised display autocomplete count cache updates for tags with multiple siblings or parents</li>
					<li>optimised the 'local tags cache', which does fast tag text fetching for local files, when new tags or files are added/removed from the 'all local files' domain. this now occurs in the same unified autocomplete count update process. it now also caches pending tags that have no current count</li>
					<li>merged 'exact match' autocomplete tag searching code into generalised wildcard search</li>
					<li>misc autocomplete and other tag code cleanup and harmonisation</li>
					<li>ditched some old mass UNION queries that were not cancelling well</li>
					<li>.</li>
					<li>the rest:</li>
					<li>when you paste queries into a sub, the summary 'these were/were not added' dialog now always appears, and if you paste empty whitespace, it now says so</li>
					<li>the manage siblings/parents dialogs now specify which services apply which siblings, whether they are fully synced, the current display tag sync maintenance settings, and ultimately whether you can expect changes to apply quickly after dialog ok</li>
					<li>when a text entry dialog comes with suggestion buttons, it now focuses the text box by default. sorry for the trouble here! (issue #765)</li>
					<li>updated a couple petition reason suggestions in manage tags and parents</li>
					<li>added a shortcut to 'main window' to refresh _manage tags'_ related tags suggestions with 'thorough' duration. in future, these dialog-specific actions will be moved out of 'main window', these have just been a 'temporary' patch</li>
					<li>updated the 'running from source' and 'install' help with some new numbers and info about mpv, and updated the 'server' help with a document helpfully provided by a user explaining that the server does not do what many new users think</li>
					<li>sped up 'has tags' file searches in certain situations, mostly when there are few if any other search predicates</li>
					<li>the default e621 parser now pulls meta tags, thank you to a user for providing this</li>
					<li>the default nitter timeline url classes are updated, thank you to a user for providing this</li>
					<li>the new little hook that takes 'file:///' off of paths pasted into the filename tagging path text now also normalises the path, so if you are on Windows, the URI's slashes will be Windows-corrected to backlashes. it also now removes wrapping quotes</li>
					<li>the hydrus logger again correctly restores stdout and stderr after it is closed on program exit (this was disabled for some reason, but fingers crossed it seems fine now!)</li>
					<li>an issue where automatically started duplicate potentials file search could not cancel when shutdown 'stop work' button was clicked or where idle maintenance mode turned off should be fixed</li>
					<li>the shutdown maintenance work for the first client shutdown now has a little text saying it is just some quick initialisation work</li>
					<li>for hopefully the last and completely final time, I think I fixed the invalid tag repair function for certain sorts of tags applied to currently local files</li>
					<li>improved the way a job thread was pulling new jobs (issue #750)</li>
				</ul>
				<li><h3 id="version_423"><a href="#version_423">version 423</a></h3></li>
				<ul>
					<li>tag autocomplete searches:</li>
					<li>the 'fetch results as you type' and 'do-not-autocomplete character threshold' options are moved from _options->speed and memory_ to _tags->manage tag display and search_. they are now service specific!</li>
					<li>getting the raw '*' autocomplete is now hugely faster when both file and tag domains are specific (i.e. not 'all known xxx')</li>
					<li>getting the raw '*' autocomplete is now hugely faster in 'all known tags' domain. this is likely still bonkers on any decent sized client that syncs with the PTR, but if you have a small client that once synced with the PTR, this is now snappy</li>
					<li>the cancelability of 'namespace:*' and 'match namespaces from normal search' searches should be improved</li>
					<li>'namespace:*' queries are now much faster in some situations, particularly when searching in a specific tag domain (typically this happens in manage tags dialog) or a small-file client, but is still pretty slow for clients with many files, and I think some scenarios are still bananas. I am not happy here and have started a plan to improve my service domain caches to deal with several ongoing problems with slow namespace and subtag lookup in different situations</li>
					<li>fixed an issue with advanced autocomplete result matching where a previously cached 'character:sam' result could match 'char:sam' search text</li>
					<li>some misc code cleanup and UI label improvements in autocomplete</li>
					<li>.</li>
					<li>the rest:</li>
					<li>the siblings & parents tag menu, which proved a little tall after all, is now compressed to group siblings, parents, and children by the shared services that hold them. it takes less space, and odd exceptions should be easy to spot</li>
					<li>this menu also no longer has the 'this is the ideal tag' line</li>
					<li>added 'sort pages by name a-z/z-a' to page right-click menu and tucked the sorts into a submenu</li>
					<li>the parsing test panel now shows up to 64KB of what you pulled (previously 1KB)</li>
					<li>the parsing test panel now shows json in prettier indented form</li>
					<li>when the parsing test panel is told to fetch a URL that is neither HTML or JSON, this is now caught more safely and tested against permitted file types. if it was really a jpeg, it will now say 'looks like a jpeg' and disable parse testing. if the data type could not be figured out, it tries to throw the mess into view and permits parse testing, in case this is some weird javascript or something that you'll want to pre-parse convert</li>
					<li>the dreaded null-character is now eliminated in all cases when text is decoded from a site, even if the site has invalid unicode or no encoding can be found (e.g. if it is truly a jpeg or something and we just end up wanting to throw a preview of that mess into UI)</li>
					<li>the 'enter example path here' input on import folders' filename tagging options edit panel now uses placeholder text and auto-removes 'file:///' URL prefixes (e.g. if your paste happens to add them)</li>
					<li>the 'fix invalid tags' routine now updates the tag row in the local tags cache, so users who found some broken tags were not updating should now be sorted</li>
					<li>added --db_cache_size launch parameter, and added some text to the launch_parameters help about it. by default, hydrus permits 200MB per file, which means a megaclient under persistent heavy load might want 800MB. users with megamemory but slow drives might want to play with this, let me know what you find</li>
					<li>updated to cloudscraper 1.2.50</li>
				</ul>
				<li><h3 id="version_422"><a href="#version_422">version 422</a></h3></li>
				<ul>
					<li>advanced tags:</li>
					<li>fixed the search code for various 'total' autocomplete searches like '*' and 'namespace:*', which were broken around v419's optimised regular tag lookups. these search types also have a round of their own search optimisations and improved cancel latency. I am sorry for the trouble here</li>
					<li>expanded the database autocomplete fetch unit tests to handle these total lookups so I do not accidentally kill them due to typo/ignorance again</li>
					<li>updated the autocomplete result cache object to consult a search's advanced search options (as under _tags->manage tag display and search_) to test whether a search cache for 'char' or 'character:' is able to serve results for a later 'character:samus' input</li>
					<li>optimised file and tag search code for cases where someone might somehow sneak an unoptimised raw '*:subtag' or 'namespace:*' search text in</li>
					<li>updated and expanded the autocomplete result cache unit tests to handle the new tested options and the various 'total' tests, so they aren't disabled by accident again</li>
					<li>cancelling a autocomplete query with a gigantic number of results should now cancel much quicker when you have a lot of siblings</li>
					<li>the single-tag right-click menu now shows siblings and parents info for every service, and will work on taglists in the 'all known tags' domain. clicking on any item will copy it to clipboard. this might result in megatall submenus, but we'll see. tall seems easier to use than nested per-service for now</li>
					<li>the more primitive 'siblings' submenu on the taglist 'copy' right-click menu is now removed</li>
					<li>right-click should no longer raise an error on esoteric taglists (such as tag filters and namespace colours). you might get some funky copy strings, which is sort of fun too</li>
					<li>the copy string for the special namespace predicate ('namespace:*anything*') is now 'namespace:*', making it easier to copy/paste this across pages</li>
					<li>.</li>
					<li>misc:</li>
					<li>the thumbnail right-click 'copy/open known urls by url class' commands now exclude those urls that match a more specific url class (e.g. /post/123456 vs /post/123456/image.jpg)</li>
					<li>miniupnpc is no longer bundled in the official builds. this executable is only used by a few advanced users and was a regular cause of anti-virus false positives, so I have decided new users will have to install it manually going forward.</li>
					<li>the client now looks for miniupnpc in more places, including the system path. when missing, its error popups have better explanation, pointing users to a new readme in the bin directory</li>
					<li>UPnP errors now have more explanation for 'No IGD UPnP Device' errortext</li>
					<li>the database's boot-repair function now ensures indices are created for: non-sha256 hashes, sibling and parent lookups, storage tag cache, and display tag cache. some users may be missing indices here for unknown update logic or hard drive damage reasons, and this should speed them right back up. the boot-repair function now broadcasts 'checking database for faults' to the splash, which you will see if it needs some time to work</li>
					<li>the duplicates page once again correctly updates the potential pairs count in the 'filter' tab when potential search finishes or filtering finishes</li>
					<li>added the --boot_debug launch switch, which for now prints additional splash screen texts to the log</li>
					<li>the global pixmaps object is no longer initialised in client model boot, but now on first request</li>
					<li>fixed type of --db_synchronous_override launch parameter, which was throwing type errors</li>
					<li>updated the client file readwrite lock logic and brushed up its unit tests</li>
					<li>improved the error when the client database is asked for the id of an invalid tag that collapses to zero characters</li>
					<li>the qss stylesheet directory is now mapped to the static dir in a way that will follow static directory redirects</li>
					<li>.</li>
					<li>downloaders and parsing (advanced):</li>
					<li>started on better network redirection tech. if a post or gallery URL is 3XX redirected, hydrus now recognises this, and if the redirected url is the same type and parseable, the new url and parser are swapped in. if a gallery url is redirected to a non-gallery url, it will create a new file import object for that URL and say so in its gallery log note. this tentatively solves the 'booru redirects one-file gallery pages to post url' problem, but the whole thing is held together by prayer. I now have a plan to rejigger my pipelines to deal with this situation better, ultimately I will likely expose and log all redirects so we can always see better what is going on behind the scenes</li>
					<li>added 'unicode escape characters' and 'html entities' string converter encode/decode types. the former does '\u0394'-to-'Δ"', and the latter does '&amp;'-to-'&'</li>
					<li>improved my string converter unit tests and added the above to them</li>
					<li>in the parsing system, decoding from 'hex' or 'base64' is no longer needed for a 'file hash' content type. these string conversions are now no-ops and can be deleted. they converted to a non-string type, an artifact of the old way python 2 used to handle unicode, and were a sore thumb for a long time in the python 3 parsing system. 'file hash' content types now have a 'hex'/'base64' dropdown, and do decoding to raw bytes at a layer above string parsing. on update, existing file hash content parsers will default to hex and attempt to figure out if they were a base64 (however if the hex fails, base64 will be attempted as well anyway, so it is not critically important here if this update detection is imperfect). the 'hex' and 'base64' _encode_ types remain as they are still used in file lookup script hash initialisation, but they will likely be replaced similarly in future. hex or base64 conversion will return in a purely string-based form as technically needed in future</li>
					<li>updated the make-a-downloader help and some screenshots regarding the new hash decoding</li>
					<li>when the json parsing formula is told to get the 'json' of a parsed node, this no longer encodes unicode with escape characters (\u0394 etc...)</li>
					<li>duplicating or importing nested gallery url generators now refreshes all internal reference ids, which should reduce the liklihood of accidentally linking with related but differently named existing GUGs</li>
					<li>importing GUGs or NGUGs through Lain easy import does the same, ensuring the new objects 'seem' fresh to a client and should not incorrectly link up with renamed versions of related NGUGs or GUGs</li>
					<li>added unit tests for hex and base64 string converter encoding</li>
				</ul>
				<li><h3 id="version_421"><a href="#version_421">version 421</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>thanks to a user's contribution, added the export 'filename pattern' to the discord drag and drop mode, under _options->gui_. this lets you auto-rename files in this export mode. I like how this works, but the overall pattern-based filename creation system really needs updating. let me know how this works for you, and I'll finally start the job to update filename generation</li>
					<li>fixed a bug when importing files with the 'only add tags that already exist' filter active, and added a unit test so this should not fail due to a typo again</li>
					<li>fixed an issue where ctrl-selecting on taglists was weird, where any mouse movement during ctrl+click would deselect. drag select and deselect can now only start when the drag crosses two indices</li>
					<li>prototyped a basic profile mode for the client api. it is insufficient (due to the asynchronous nature of twisted), but a start</li>
					<li>when the client catches an invalid tag with the new error handling code, when it shows you that bad tag in a popup, it now clips that to 24 characters (some PTR invalid tags are just a few hundred null characters in a row, wew lad)</li>
					<li>the client now recovers from a repository giving it a new invalid tag definition. all such tags are, for now, called 'invalid repository tag'. a plan to auto-hide these tags clientside and fully eliminate them serverside will come later</li>
					<li>the clipboard url watcher settings should stick a bit more firmly. those users who had trouble, please let me know how you get on</li>
					<li>fixed an issue editing duplicate action options when they contained tag or rating preferences for services that no longer exist</li>
					<li>I think I fixed some issues getting autocomplete results when you type the whole namespace before moving on to the subtag. when you hit 'namespace:', it should invalidate the old cache and start a new search</li>
					<li>when the database is given content updates for services that no longer exist, those content updates filtered out of UI update broadcast</li>
					<li>fixed an issue where URL status check could fail when the url map contained orphan hash_ids. proper orphan clearance will come later</li>
					<li>reduced overhead of tag filtering, which should improve display speed of taglist for very large pages</li>
					<li>parents should now work through repository processing faster. periods of 2 rows/s at the end up of updates should be up to 100 times faster</li>
					<li>.</li>
					<li>duplicates search improvements:</li>
					<li>potential duplicate search now works in the background! it will not interrupt you and is easily cancellable. duplicate search pages disable their search buttons while it is going</li>
					<li>the search distance in duplicates pages is now synchronised across all pages--when one updates, they all do</li>
					<li>all the updates to potential search maintenance numbers are now routed through one cached manager. updates here are repeated less often</li>
					<li>misc cleanup for duplicates page</li>
					<li>.</li>
					<li>database modes:</li>
					<li>a new 'program launch arguments' help page now talks about all the available command line switches, here: https://hydrusnetwork.github.io/hydrus/help/launch_arguments.html</li>
					<li>added the '--db_journal_mode' launch switch to set the SQLite journal mode. default is WAL, permitted values are also TRUNCATE, PERSIST, and MEMORY</li>
					<li>ensured --db_synchronous_override was hooked up correctly</li>
					<li>the old disk cache options under _speed and memory_ are removed, along with various deprecated disk cache load calls and code</li>
					<li>fixed some shutdown maintenance check logic that was saying 'I think a vacuum is due' when it wasn't actually true</li>
					<li>db_journal_mode, synchronous value, and no_db_temp_files is now shown in _help->about_</li>
					<li>.</li>
					<li>technical database nonsense:</li>
					<li>PERSIST is new to hydrus, and _may_ in future versions of SQLite be boost performance for HDD drives with larger databases (e.g. those that sync to the PTR), although unfortunately in our case (which uses multiple ATTACH databases), it seems  current SQLite must ultimately treat this as DELETE, as here https://sqlite.org/atomiccommit.html#_clean_up_the_rollback_journals. damn</li>
					<li>hydrus now tries to always trim WAL (and PERSIST, if it worked) journal files down to 1GB after commits (which happen every 30 seconds), so giganto WALs should clear up promptly after big work is done</li>
					<li>hydrus no longer refreshes the database connection every thirty minutes, meaning WAL journal files will persist (and hopefully regularly clip back to 1GB when exceeded), which should improve some elements of long-running write performance, but may result in some surprise memory issues, we'll see</li>
					<li>in lieu of the db connection not refreshing, the memory database now reattaches every ten minutes, which _should_ stop it leaking in certain situations</li>
					<li>when in WAL journal mode, the hydrus db now cleans up any lingering checkpointing work every half hour</li>
					<li>after testing and feedback from users, the database is now default SQLite synchronous 1 (down from 2) when in WAL. the db is still consistent, so sudden program stop (crash, power cut) should not result in software-caused corruption, but the database may lose more than just the last 30 seconds of work. this speeds up tag processing in an SSD test environment by approx 33%</li>
					<li>the 'no_wal' (TRUNCATE) and 'db_memory_journaling' (MEMORY) launch switches remain valid but are now deprecated</li>
					<li>improved launch switch code generally</li>
					<li>boosted cache size for each of the four db files to ~200MB-this will likely become a launch argument in future, along with some other specific db values</li>
					<li>the client and server no longer disconnect from the db to check whether it is possible to vacuum databases</li>
				</ul>
				<li><h3 id="version_420"><a href="#version_420">version 420</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>fixed the bad position indexing when drag-selecting taglists that were scrolled down. this also caused some weird selection when scrolled and clicks included a little mouse movement. sorry for the trouble!</li>
					<li>ctrl+drag-select now deselects!</li>
					<li>fetching tag autocomplete results when you have thumbnails and 'searching immediately' on, which has been way too slow recently, now cancels much faster. in some large page situations, it was adding multi-second lag on the first character-press. it also runs faster overall</li>
					<li>hydrus should now deal better with invalid tags that contain the null character (there is one we know about on the PTR, from a decode of botched Shift JIS, which could crash the client from too many errors during critical paint periods). when a tag like this turns up in a taglist, thumbnail, or canvas background, it now renders as an appropriate 'invalid tag' string, and a one-time 'woah, bad tag, run fix tags now' popup appears</li>
					<li>regular tag cleaning now looks for and removes null characters, so all new sources of these bad tags should now be eliminated</li>
					<li>_database->check and repair->fix invalid tags_ now fixes tags with the null character. it also fixes tags so broken that after cleaning they have no subtag left. it also now forces a full media tag reload when it is done for all media</li>
					<li>the 'regen storage mappings', 'regen display mappings', and repopulate from cache' database routines now have an additional step where you can order them only to work on one tag service, so regenning or repopulating local tags, which usually takes a couple seconds, doesn't need to wait two hours for the PTR to go as well</li>
					<li>added some menu help to the 'profile modes' debug menu, and gave 'reducing program lag' help page a pass</li>
					<li>fixed virtual display regeneration on service delete</li>
					<li>.</li>
					<li>parents and siblings:</li>
					<li>fixed situations where some grandparent and sibling relationships would not appear in the virtual system. it was a bug when certain links of a multi-part display 'chain' were updated at different times. when repopulating chain data, the sibling and parent update routines now correctly chase their complete chains both when wiping ideal data and repopulating from raw data, hitting all levels of the chain, ensuring to go back up and down chains when there are multiple grandsiblings/children/parents, and chasing parents where one or both members have better siblings. thank you to the several users who reported and helped figure out this problem, which was not simple to reproduce (issue #725)</li>
					<li>your ideal display data will be regenerated on update, which should not take more than a couple of seconds. it will likely correct some siblings and add some grandparents to be filled in by the siblings/parents sync. my PTR test environment went up from about 189,000 display rows to 192,000</li>
					<li>while sibling and parent lookup is more thorough (and hence more expensive), I also optimised many parts of lookup week. I believe tag display sync and tag processing will be much faster for tags with simple sibling and parent relationships, and slightly slower for tags with complex relationships and many instances to files on your drive. as always, let me know what sort of processing speeds and lag you get, and if you know how to make a db profile, please send them in when it gets bad</li>
					<li>when a 'write' autocomplete results list includes parent expansion rows (as in _manage tags_), parents now show duplicated and properly for all the tags that have them, including siblings and other children/grandchildren (previously, a parent label could only exist once in a list, which meant parents were ending up hanging off the last valid tag for which they applied)</li>
					<li>'write' autocompletes now show results that exactly match the text entry, and all their siblings, when they do not have count but do have sibling or parent data. so, if you type in 'samus aran', and it has a sibling to 'character:samus aran', but 'samus aran' doesn't actually have count, you now get it and all siblings anyway. this may need tuning, but it solves a persistent and annoying lookup and quick-sibling-access problem in _manage tags_</li>
					<li>copying tags and their indented parents now removes the parent indent whitespace</li>
					<li>tag sync display now takes way longer breaks (now 30 seconds, was 2.5) between 'normal' background work periods. this thing was hammering people far harder than needed and could clog up db write/commit time and nobble UI responsitivity when big bumps collided</li>
					<li>the tag display maintenance manager now also tries to detect when many siblings or parents are streaming in (from a migration or a repository process with a heap of data), and pauses work while that continues</li>
					<li>greatly sped up mass imports of sibling and parent data, either from tag migration or big dialog pastes. what was 40 rows/s should now be about 1,000 rows/s</li>
					<li>fixed the database menu's 'regenerate tag parents lookup cache', which wasn't hooked up</li>
					<li>.</li>
					<li>boring changes:</li>
					<li>gave tag parents and siblings update, regen, and chain fetch a full pass, correcting bad queries to fix the above, fixing raw pair chain level navigation and parent-sibling idealisation, and optimised these lookups as well</li>
					<li>fixed some tag_id vs ideal_tag_id nomenclature (and related bugs) in tag parents cache</li>
					<li>optimised 'all known tags' autocomplete count fetching a little. tag autocomplete and search should be a bit faster in this domain</li>
					<li>reduced display sync pre-processing overhead by about 30% with a better random pair sampling routine</li>
					<li>reduced the overhead of my now very commonly used single integer memory table select optimisation. this now recycles tables after use, which reduces overhead about 50% in small number scenarios. all features of the database will enjoy this speed improvement, particularly small repetitive tag lookup jobs (such as the new display sync and repository tag processing)</li>
					<li>reduced overhead on some sibling chain lookup code</li>
					<li>reduced overhead on the sibling lookup used by manage tag dialog taglist</li>
					<li>reduced overhead on some parent chain lookup code</li>
					<li>tiny optimisation on single sibling chain lookup</li>
					<li>sped up the ancient OG single tag->tag-id fetching routine, seems to work about twice as fast now</li>
					<li>more misc optimisations, mostly list/set/dict comprehension rewriting to reduce overhead, across virtual sibling and parent code</li>
					<li>added a full combined siblings and parents unit tests for the main missing parent chain link problem solved this week</li>
					<li>added a full combined siblings and parents unit test for large real world data added in multiple pieces</li>
					<li>'a file identifier was missing!' critical errors now print a stack trace to the log for further debugging info</li>
					<li>updated the 'help my db is broke.txt' document with a couple new comments</li>
				</ul>
				<li><h3 id="version_419"><a href="#version_419">version 419</a></h3></li>
				<ul>
					<li>tag lists and editing predicates:</li>
					<li>you can now set the default value for any editable system predicate. a star button beside each panel lets you set or clear the custom default</li>
					<li>all editable system predicate panels now put 'recent' predicate buttons up top, for the five most entered predicates of the respective types. this is a little jank and grows pretty tall with multi-pred-type panels, but let me know what you think</li>
					<li>all tag lists now support drag-selection!</li>
					<li>taglists now have 'open a new OR page' menu entry when more than one tag is selected</li>
					<li>when taglists can change the current search, they now have an 'add an OR to current search' menu entry when more than one tag is selected</li>
					<li>OR Predicates are now editable! they launch their own little autocomplete input that is a little jank because you can technically make nested ORs, but it works!</li>
					<li>system:rating is now editable! it launches the whole stack every time. the stack alignment is messed up though :/</li>
					<li>invertible predicates (inbox/archive, tag/-tag, etc...) now flip on double-click only if you have one selected. if you have more than one selected, they appear as invertible buttons along with the rest of the edit UI</li>
					<li>the active search predicates taglist now has an 'edit search terms' menu entry, if you find shift+double-click a pain</li>
					<li>when you shift+double-click on more than one tag to add them to the current search, this is now added as an OR</li>
					<li>similarly if you shift+middle-click on more than one tag, the new page is now an OR</li>
					<li>when editing predicates, edited predicates now stay selected</li>
					<li>shift+clicking on an already selected tag no longer adds any new selections (i.e. shift+click filling-in). this should make it nicer to do shift+double-click on selections. furthermore, the 'last clicked' focus ghost (from which a shift+click selection cascade starts) on tag lists is now cleared on edits or removes, which should reduce some other crazy/annoying select behaviour here</li>
					<li>the list of active search predicates now correctly initialises sorted</li>
					<li>entering hex hashes into system:hash or :similar_to now has unified hash parsing, auto-removes 'md5:'-style prefixes, and presents detailed error information when a hash is too long or short</li>
					<li>.</li>
					<li>faster and snappier file and tag searching:</li>
					<li>searching for files by complicated wildcard (i.e. a search phrase that includes an asterisk in a non-rightmost character position) is now greatly optimised when the tag does not start with an asterisk (e.g. 'sm*l' is now much faster, '*all' is still hellmode), and now cancels (due to hitting the stop button or changing the query before results come in) much faster thanks to a new unified results fetching and cancel-checking routine</li>
					<li>rewrote my autocomplete tag search to use the new namespace and subtag lookup code from the virtual siblings and parents system, unifying lookup logic and benefitting from the same new complicated wildcard optimisation and fast-cancel tech</li>
					<li>autocomplete tag count aggregation (a later step, after the initial lookup) benefits from a little faster cancel tech</li>
					<li>all file queries based on tag, wildcard, namespace, tag count, and tag existence now use the new fast-cancel tech. if you put in a 'has >4 tags' query and it is taking ages, changing the query or just hitting the 'stop' button should now free up the db pretty fast</li>
					<li>related tags suggestions also gets the cancel tech and is now more timing precise for tags with either huge or tiny count</li>
					<li>.</li>
					<li>client api:</li>
					<li>the /get_files/file_metadata call now returns a service_names_to_statuses_to_displayed_tags structure, which reflects the sibling-collapsed and parent-added tags, as displayed to the user in UI. the help is updated to reflect this</li>
					<li>the client api version is now 15</li>
					<li>.</li>
					<li>the rest:</li>
					<li>fixed an issue where regenerating the tag definition search cache would not tidy up the 'I am busy' modal dialog once it was done, resulting in a soft lock</li>
					<li>fixed another upnp error handling bug, this time in the upnp daemon</li>
					<li>updated Qt to 5.15.2 on Windows and Linux builds. this should fix the unusual button clicking area problem for some custom styles</li>
					<li>.</li>
					<li>boring specific code changes:</li>
					<li>wrote widgets to edit invertible preds and OR preds</li>
					<li>pulled the messy rating code out of the rating system predicate ui code to their own widgets</li>
					<li>wrote some special predicate ui definitions and initialisation handling for OR preds and grouped 'multiple' preds (for ratings)</li>
					<li>refactored search and predicate ui code to a new 'search' module</li>
					<li>refactored collect and sort widgets away from search code</li>
					<li>misc layout improvements for system pred edit ui</li>
				</ul>
				<li><h3 id="version_418"><a href="#version_418">version 418</a></h3></li>
				<ul>
					<li>almost all system predicates are now editable if you shift+double-click them! you can also edit several at once in the same dialog</li>
					<li>if you double-click on any predicate type that is not editable but does have an inverse version (e.g. archive/inbox, has audio/no audio, and tag/-tag), the inverse version(s) will be swapped in</li>
					<li>all legacy custom system predicate defaults are eliminated this week. the panels now show a fixed default on launch, and will get a flexible favourites system in future, along with 'recently entered' quick buttons</li>
					<li>restored the 'show system:everything' and 'hide archive/inbox' options, which were inadvertantly hidden when file system predicate defaults were hidden, to the new _options->search_ panel</li>
					<li>fixed the borked list height for the file viewing statistics system pred panel checkbox lists</li>
					<li>fixed an issue where namespace:anything predicates would not propagate to new pages on 'open page with these tags' commands</li>
					<li>.</li>
					<li>boring code specifics:</li>
					<li>updated almost all the system predicate panels to take arbitrary initialisation values, and wrote a 'can I edit this' test for all predicate types to help some finnicky which-panel-and-pred-to-use issues</li>
					<li>wrote some new filtering code and a little UI to handle editing of system preds</li>
					<li>cleaned up some of the taglist item activation code</li>
				</ul>
				<li><h3 id="version_417"><a href="#version_417">version 417</a></h3></li>
				<ul>
					<li>the hydrus network version is increased this week from 18 to 19. clients and servers can only talk to each other when they are on the same version, so please update your clients if you wish to keep talking to the PTR, and your own servers if you have a home network setup or similar. if a server and client are on different versions, you will get a polite error when they next try to talk, and sync will be paused</li>
					<li>added 'run all export folders now' shortcut command to 'main window' shortcut set</li>
					<li>added shortcuts to the 'main gui' shortcut set for navigating the currently selected page. you can move left, right, to the leftmost on the current row, or to the rightmost. the left and right will cycle up a page of pages layer when at left/rightmost boundaries, letting you iterate through all pages in a depth-first manner</li>
					<li>updated the default newgrounds parser to deal with artists with more than 60/70 items in one art gallery (essentially, some clever 'next page' fetching now occurs to get older info that in your browser is drawn in as you scroll down). if you have some subscriptions for artists where you know this is true, try doing a full reset on them</li>
					<li>added realbooru to the hydrus defaults. they also apparently just switched away from a gelbooru 0.2.x site, so if you have a gelbooru parser with a realbooru example URL, I remove that example URL</li>
					<li>updated the page initial media load routine to my new async job</li>
					<li>updated the imported file presentation page-publish routine to my new async job</li>
					<li>when drag and drop or import file presentation now wants to add files to a page that is not yet fully loaded (rare, but possible for large sessions), that page now remembers the files it should add and appends them once load is done. these files-to-be-added are also preserved through a session save, if the client is closed before this long-loading page is initialised</li>
					<li>updated windows mpv, the reported api version is now 1.09</li>
					<li>updated windows ffmpeg to 4.3.1</li>
					<li>updated windows release to sqlite 3.33.0</li>
					<li>updated windows opencv to 4.4.0</li>
					<li>just a little thing--I took the source links out of the release post. anyone running from source is probably pulling straight from the github repo anyway</li>
					<li>cleaned up some misc inelegant string code</li>
					<li>misc other cleanup</li>
					<li>.</li>
					<li>macOS shortcuts:</li>
					<li>the client's shortcut system now detects macOS-specific 'scroll start/end' states, and will not spam scrolls or errors when these states are held</li>
					<li>the client's shortcut system now attempts to detect artificial trackpad scroll/wheel events, and adapts the relative speed of scroll event generation according to the respective trackpad velocity. let me know how the hell this works for you in media viewer etc... (issue #710)</li>
					<li>the client's shortcut system now detects Control and Command as separate and reliable modifiers in macOS, with correct shortcut string rendering (issue #717)</li>
					<li>.</li>
					<li>upnp:</li>
					<li>fixed the awful typos in the upnp add-mapping error handling I changed last week. I am sorry for this!</li>
					<li>improved the async mappings and external ip fetch routines in upnp dialog. closing the dialog while a job is going on should now be completely ok</li>
					<li>upnp dialog add, edit, and delete actions are now async (they won't hang the UI while they work)!</li>
					<li>all the upnp async jobs should now disable the main list controls while they work</li>
					<li>fixed the 'edit' action on upnp dialog to correctly remove old and existing mappings depending on what was edited</li>
					<li>when adding a mapping for an (external_port,protocol) that is already mapped, the upnp dialog now asks if you want to overwrite, rather than just failing with a notification</li>
					<li>after an async action in upnp dialog, and a mappings refresh triggered, the cached external IP should now be properly restored to the status area</li>
					<li>pulled parsing code out of upnp code and wrote some proper unit tests for this so stupid typo errors should not happen again</li>
					<li>.</li>
					<li>parsing:</li>
					<li>subsidiary page parser separation formulae that throw an exception will now be ignored, as if they parsed nothing. in the weird case that you might receive json or html, you can now create subsidiary parsers for both types, and the one that fails will do so gracefully and silently</li>
					<li>URL Classes now have a key->value 'header override' value. any time one of these URLs is hit, these headers are added!!! be careful with this, but it may solve some tough problems. also, sorry, the URL Class UI is becoming a hellstack, I need to break it into tabs or similar</li>
					<li>.</li>
					<li>client api:</li>
					<li>added documentation for the new add_files commands, delete_files, undelete_files, archive_files, and unarchive_files</li>
					<li>added unit tests for the new commands</li>
				</ul>
				<li><h3 id="version_416"><a href="#version_416">version 416</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>the new siblings and parents taglist menus now copy just the actual tag when you click, excluding the 'ideal/child/parent:' prefixes</li>
					<li>added a checkbox to _options->files and trash_ that allows you to automatically prefix hashes copied to clipboard with their hash type in a booru-lookup friendly manner, such as "md5:2496dabcbd69e3c56a5d8caabb7acde5"</li>
					<li>the media viewer now remembers if it was previously maximised when you set it to un-fullscreen (before, it would always restore-window-ise)</li>
					<li>fixed the 'test address' button in _manage services_ for hydrus administration services</li>
					<li>improved the 'add upnp mapping' error handling to better catch 'already mapped' error, with separate errors for redundant, already-on-but-wrong-port, and already-on-another-computer</li>
					<li>improved error handling when saving objects to the database, particularly for encoding or giganto-size-session errors</li>
					<li>rewrote my tag sibling lookup unit tests to deal with more situations</li>
					<li>wrote similar fairly comprehensive tag parent lookup unit tests</li>
					<li>.</li>
					<li>new downloaders:</li>
					<li>rolling in a user-created thread watcher for warosu. it may be CloudFlare hampered depending on your situation</li>
					<li>rolling in a prolikewoah thread watcher</li>
					<li>rolling in a smuglo.li thread watcher</li>
					<li>.</li>
					<li>multi-column lists:</li>
					<li>spent a bunch of time cleaning out how I calculate multi-column list preferred initial width/preferred current width/minimum width, and made the final column more flexible in its resizing. instances of dialog suddenly getting gigantic because of a final column that wants to size itself at 1,000px should be completely gone, and lists that are shrunk due to non-last-column resizing will now adapt to this situation and not try to flex back to total initial width.</li>
					<li>multi-column lists now have horizontal scrollbars again for those situations where the parent window is thinner than their (now better calculated) minimum size</li>
					<li>improved the multi-column list num_rows height calculation, it should have less empty space at the bottom for lists that grow as items are entered into them (such as in the download pages)</li>
					<li>.</li>
					<li>manage tags megajob speedup:</li>
					<li>sped up manage tags final application step when entering many tags for many thousands of files at once</li>
					<li>optimised UI-side per-file tag cache (re)generation, reducing overhead and surplus work</li>
					<li>granularised UI-side per-file tag cache (re)generation based on the four current tag display contexts--now, if a system (e.g. manage tags dialog) only needs storage tags, the different display tags do not need to be regenerated</li>
					<li>optimised all tag filtering, which is also used in UI-side tag cache regen</li>
					<li>overall, giganto manage tag dialog jobs should now be faster in several ways. on my dev machine, adding 6 tags to 10k reasonably tagged files went down from 52s to 4.8. even larger jobs will still need a lump of CPU time, but they should scale more efficiently (what was previously O( num_tag_changes x num_total_mappings ) is now O( num_total_mappings ), and better at that)</li>
					<li>when a huge number of tags is added at once in the manage tags dialog, 'recent tags' is now populated more carefully</li>
				</ul>
				<li><h3 id="version_415"><a href="#version_415">version 415</a></h3></li>
				<ul>
					<li>in _options->gui pages_ you can now set the main window's page tab alignment to top/left/right/bottom (previously it was just top/left). this property now updates for all page of pages on options ok, it no longer needs client restart (issue #642)</li>
					<li>the maintenance task that migrates tag display from the current values to the ideal application now works in significantly smaller steps. big lag from adding hundreds of childen to one parent (or similar siblings) should now be radically reduced</li>
					<li>rejiggered some layout in the new tag display dialogs</li>
					<li>added green/red texts to the new tag display dialogs to talk about when sync can work atm and how fast to expect changes to apply</li>
					<li>reordered the new tag 'siblings/parents info' right-click menu so the dynamic 'has x siblings/parents' submenus are on the bottom</li>
					<li>added basic client api calls for /add_files/..., delete_files, undelete_files, archive_files, and unarchive_files. they take 'hash' and 'hashes' parameters. I am throwing these out at the end of the week, so they don't have documentation or proper unit tests, but feel free to play with them (issue #393)</li>
					<li>sped up some UI refresh on content update for very large sessions</li>
					<li>sped up right-click tag/file menu any/all select actions on very large file sessions</li>
				</ul>
				<li><h3 id="version_414"><a href="#version_414">version 414</a></h3></li>
				<ul>
					<li>tl;dr: you don't have to do anything. if you haven't heard of a tag parent before, no worries. the database should work better now</li>
					<li>.</li>
					<li>top level:</li>
					<li>parents are now completely virtual! this means that when you add a tag parent, the tags that 'fill in' to make it show do not really exist in storage, only in a computed cache. if you decide to undo the parent, the implications are recalculated and the virtual tags disappear, with no permanent changes made. also, petitioning a parent will 'preview' the delete, just as siblings now does</li>
					<li>siblings and parents are now unified, and the logic is improved. all parents apply to all siblings, so no more worries about retro-active filling-in. the siblings and parents code is now basically 'nice'. this was a lot of quite complicated work, and it solves a number of lingering issues from the original prototypes I made several years ago. I will still do some smaller work and little fixes I am sure in the near future, but the 'big' siblings and parents work is done!</li>
					<li>like with the recent siblings change, the client no longer needs to do the 'loading parent tags' step when booting--everything is now handled at the db level</li>
					<li>like with the recent siblings change, you can now edit which services apply their parents to which service, now under _services->manage where siblings and parents apply_</li>
					<li>in the _manage tags_ dialog (and some other places), tags with parent implications now show a '(x parents)' after their label, much like the 'will display as' sibling suffix. I do not like this, but I ran out of time. I hope to add a more advanced actual listing of virtual tags with a nice 'ghostly' colour or similar in future</li>
					<li>right-clicking on a tag in a specific tag domain now shows a 'siblings and parents' submenu with detailed info on all known siblings and parents in that domain</li>
					<li>'tag' menu entries are moved from the top 'services' menu to a new 'tags' menu. 'pending', when available, is also moved right</li>
					<li>the process of changing siblings or parents, or which services apply where, is no longer a CPU-laggy process! actual changes, however, may not appear immediately. a maintenance task now tracks what is currently applied and what is 'ideal', and slowly migrates to the ideal in the background in little chunks. in most situations, the changes are very quick, but if you are behind due to big recent changes, they may be delayed. you can manage when this maintenance runs and see the current status under _tags->siblings/parents sync_. this is an entirely new thing, so feedback on IRL work would be appreciated--there may be some kinds of siblings or parents that cause a whole bunch of annoying lag</li>
					<li>the PTR has a lot of non-virtual parents that were hard-added in older versions over the years. most are fine, but some are like the 'shadow'->'shadow the hedgehog' debacle. now the source of the problem is fundamentally solved, this problem will reduce over time. with luck, before the end of the year, no more will be added at all, and thanks to the janitors, the worst offenders should be chipped away</li>
					<li>during all this work, a bug with tag siblings and parents repository processing has been revealed (some users do not 'get' all siblings/parents for some reason). now the system is nice and undoable, this will be more easily addressed in coming weeks, with automatic retroactive fixes rolling out to all clients</li>
					<li>.</li>
					<li>boring details:</li>
					<li>like with siblings, wrote a parents structure object that constructs the parents tree without loops more simply and reliably. it populates a new parents quick-lookup table in the database, for which a full suite of lookup and maintenance methods are written</li>
					<li>parents and siblings virtual tag presentation is now unified into a single 'display' (i.e. vs 'storage') system with a more granular tag implication algebra (essentially 0-n rows of 'if A is in storage, show B in display' for every tag) that can calculate new and updated display tags and counts without having to do the expensive 'clear-and-regen' that 408-413 used</li>
					<li>wrote functions to quickly add or remove a display implication to the 'all known files' or specific file service tag display cache</li>
					<li>migrated all the combined and specific tag display cache update code (add/remove files, add/remove mappings, add/remove sibling/parent, add/remove sibling/parent application, and misc regen maintenance calls) to use the implication system instead of the sibling 'ideal' system (basically moving from 1->1 to 1->n)</li>
					<li>completely rewrote the complicated 'all known files' cache 'with tags' and 'with and without tags' lookup routines to use much less overhead in general and to use a single, albeit complicated, count-based query that carefully chooses whether to select the 'with tags' and 'without tags' portions using tags or files where available as the primary selector based on existing autocomplete count data</li>
					<li>replaced all usage of the old ui-side 'tag parents manager' object. as parents pop in virtually and do not need to be bundled intentionally to various content updates, this was mostly just clearing now-surplus code, but for instance in 'write' autocomplete searches, the parents that appear below search results are now generated at the db level on first search, rather than looked-up live in UI time</li>
					<li>the parents and siblings lookup tables are now split into two views: what the display cache currently holds, and what it ideally should hold. when adding new sibling or parent data, only the fast ideal table is changed</li>
					<li>a new complicated maintenance function now takes actual and ideal data for a particular unsynced tag, hashes out the implication changes needed to effect a migration, and performs it</li>
					<li>a new maintenance manager and accompanying db code now track and manage calls to migrate actual to ideal display presentation, and to update UI afterwards</li>
					<li>as tag display changes are now more frequent, I have made the routine that refreshes tag UI after sibling/parent changes more efficient. tag display now only refreshes for files that have the affected tags in a particular change</li>
					<li>wrote the UI panel and dialog to show and hurry up current sync status, and all the background hooks for that</li>
					<li>added 'tag parents lookup' entry to the database 'regenerate' menu. this routine and the 'siblings' variant are now very quick thanks to the new actual/ideal maintenance system</li>
					<li>updated my sibling unit tests to deal with the new actual->ideal syncing</li>
					<li>improved the speed of mappings cache updates when deleting files</li>
					<li>deleted all the old combined/specific 'regen chain' code and the sibling-based 'get sole/any tagged files' search code</li>
					<li>optimised and generally cleaned a bunch of the new cache code, particularly cutting out overhead for unusual/small situations</li>
					<li>fixed a counting bug with 'all known files' tag counts when rescinding pending tags</li>
					<li>fixed a bug in the siblings display code where deleting or pend-rescinding all of the multiple tags that have the same ideal sibling in the same transaction (e.g. if both A and B sibling to C, and a file has both A and B, and you remove them in one manage tags dialog apply) would not remove the current/pending ideal (issue #571)</li>
					<li>the 'add_siblings_and_parents' parameter on /add_tags/add_tags client api command is now obsolete! the help is updated to reflect this</li>
					<li>cleaned up just a bunch of db/ui/tag code mate</li>
					<li>.</li>
					<li>the rest:</li>
					<li>fixed an issue where long-running 'similar files' search was not cleaning its memory use properly as the job was going on, resulting in out-of-mem errors on very large clients (issue #669)</li>
					<li>thanks to user submission, rolling in a fix for the default pixiv tag search downloader</li>
					<li>cloudscraper updated to 1.2.48</li>
					<li>removed surplus executables from linux and macOS builds (win32 upnpc exe was causing anti-virus false positive on mac lmao)</li>
				</ul>
				<li><h3 id="version_413"><a href="#version_413">version 413</a></h3></li>
				<ul>
					<li>added 'sort by number of files in collection' file sort type. it obviously only does anything interesting if you are collecting by something</li>
					<li>when you enter a tag from a manage tags suggested tags column with a double-click, the tag input box is now immediately focused. entering it with a keyboard action does not move the focus</li>
					<li>wrote a new routine for the 'check and repair' database menu that scans for and fixes invalid tags. this might be some system:tag that snuck in, superfluous unicode whitespace, or some weird website encoding that results in null characters, or any other old tag that has since become invalid. tag translations are written to the log</li>
					<li>added an experimental 'post_index' CONTEXT VARIABLE to subsidiary page parsers--whenever a non-vetoed post has pursuable URLs, this value is incremented by one. this is an attempt to generate a # 0,1,2,3 series. feedback on this would be appreciated, so I can formalise and document it</li>
					<li>added 'no_proxy' option for the options->connection page. it uses comma-separated host/domains, just like for curl or the NO_PROXY environment variable. it defaults to 127.0.0.1. in future, options will be added to auto-inherit proxy info from environment variables</li>
					<li>fixed an error when subscriptions try to publish to a page name when a 'page of pages' already has that name</li>
					<li>activated some old 'clean url' parsing tech I wrote but never plugged in that helps parsing urls from source fields on sites that start with non-url gubbins</li>
					<li>fixed the v411->v412 update step to account for a tags table that has duplicate entries (this shouldn't ever happen, but it seems some legacy bug or storage conversion indicent may have caused this for some users). if a unique constraint error is raised, the update step now gives a little message box and does dedupe work</li>
					<li>fixed an issue where the 'will display as' tag was rendering without namespace when 'hide namespace in normal views' was on</li>
					<li>fixed a recent character encoding routine that was supposed to filter out null characters</li>
					<li>fixed some UPnP error reporting</li>
					<li>_may_ have fixed an odd and seemingly rare 'paintevent' issue when expanding the popup toaster from collapsed state--it may also have been a qt bug, and fixed in the new qt:</li>
					<li>updated qt to 5.15.1 for windows and linux builds. it fixes a couple of odd issues like 'unclicking' to select a menu item (issue #296)</li>
					<li>added session save to holistic ui test suite</li>
					<li>misc code cleanup</li>
					<li>.</li>
					<li>client api:</li>
					<li>wrote a client test for the help menu so I can test some basic functions holistically, hoping to stop some recent typo bugs from happening again</li>
					<li>did a couple of hotfixes for v412 to deal with some client api url pending bugs. the links in the 412 release now point to new fixed builds</li>
					<li>fixed an issue setting additional tags via the client api when the respective service's tag import options are not set to get anything</li>
					<li>fixed a 500 error with /add_tags/add_tags when a tags parameter is an empty list</li>
					<li>fixed the /manage_pages/get_page_info client api help to show the 'page_info' key in the example response</li>
				</ul>
				<li><h3 id="version_412"><a href="#version_412">version 412</a></h3></li>
				<ul>
					<li>client api:</li>
					<li>added Hydrus Web, https://github.com/floogulinc/hydrus-web, to the Client API page. It allows you to access your client from any web browser</li>
					<li>added Anime Boxes, https://www.animebox.es/, to the Client API page. This booru-browsing application can now browse hydrus!</li>
					<li>the /add_urls/add_url command's 'service_names_to_tags' parameter now correctly acts like 'additional' tags, and is no longer filtered by any tag import options that may apply. that old name still works, but the more specific synonym 'service_names_to_additional_tags' is now supported and recommended (issue #456)</li>
					<li>the /add_urls/add_url command now takes a 'filterable_tags' parameter, which will be merged with any parsed tags and will be filtered in the same per-service way according to the current tag import options.</li>
					<li>the client api help is updated to talk about this, and the client api version is now 14</li>
					<li>updated client api help to talk about http/https</li>
					<li>.</li>
					<li>the rest:</li>
					<li>the 407->408 update step now opens a yes/no dialog before it happens to talk about the big amount of CPU and HDD work coming up. it offers the previous 'full' version that takes all the work, and a 'lite' version that applies no siblings and is much cheaper. if you have been waiting on a PTR-syncing HDD client, this should let you update in significantly less time. there is still some copy work in lite mode, but it should not be such a killer</li>
					<li>the 'manage where tag siblings apply' dialog now has big red warning text talking about the current large CPU/HDD involved in very big changes</li>
					<li>a bunch of file-location loading and searching across the program has the opportunity to run very slightly faster, particularly on large systems. update will take a few seconds to make these new indices</li>
					<li>namespace and subtag tag searches and other cross-references now have the opportunity to run faster. update will take another couple of minutes to drop and remake new indices</li>
					<li>gave tag and wildcard search a complete pass, fixing and bettering my recent optimisations, and compressing the core tag search optimisation code to one location. thank you for the feedback everyone, and sorry for the recent trouble as we have migrated to the new sibling and optimisation systems</li>
					<li>gave untagged/has_tags/has_count searches a similar pass, mostly fixing up namespace filtering</li>
					<li>gave the new siblings code a similar pass, ensuring a couple of fetches always run the fast way</li>
					<li>gave url search and fetch code a similar pass, accounting better for domain cross-referencing and file cross-referencing</li>
					<li>fixed a typo bug when approving/denying repository file and mapping petitions</li>
					<li>fixed a bug when right-clicking a selection of multiple tags that shares a single subtag (e.g. 'samus aran' and 'character:samus aran')</li>
					<li>thanks to some nice examples of unusual videos that were reported as 1,000fps, I improved my fallback ffmpeg metadata parsing to deal with weird situations more cleverly. some ~1,000fps files now reparse correctly to sensible values, but some either really produce 1000 updates a second due to malformation or bad creation, or are just handled that way due to a bug in ffmpeg that we will have to wait for a fix for</li>
					<li>the hydrus jpeg mime type is now the correct image/jpeg, not image/jpg, thanks to users for noticing this (issue #646)</li>
					<li>searching for similar files now requires up to 10,000x less sqlite query initiation overhead for large queries. the replacement system has overhead of its own, but it should be faster overall</li>
					<li>improved error handling when a database cannot connect due to file system issues</li>
					<li>the edit subscription(s) panels should be better about disabling the ui while heavy jobs, like large subscription resets, are running</li>
					<li>the edit subscription(s) panels now do not allow an 'apply' if a big job is currently disabling the ui</li>
					<li>cancelling a manage subscriptions call when missing query logs were detected no longer causes a little error</li>
					<li>if a long-running asynchronous subscription job lasts beyond its parent's life, it now handles errors better</li>
					<li>.</li>
					<li>boring details:</li>
					<li>improved a pre-optimisation decision tool for tag search that consults the autocomplete cache for expected end counts in order to make a better decision. it now handles subtag searches and multiple namespace/subtag searches such as for wildcards</li>
					<li>wrote fast tag lookup tools for subtag and multiple namespace/subtag</li>
					<li>fixed some bad simple tag search optimisation code, which was doing things in the wrong order!</li>
					<li>optimised simple tag search optimisations when doing subtag searches</li>
					<li>polished simple tag search code a bit more</li>
					<li>added brief comments to all the new cross joins to reinforce their intention</li>
					<li>greatly simplified the multiple namespace/subtag search used by wildcards</li>
					<li>fixed and extended tag unit tests for blacklist, filterable, additional, service application, overwrite deleted filterable, and overwrite deleted additional</li>
					<li>added a unit test for tag whitelist</li>
					<li>extended the whole 'external tags' pipeline to discriminate between filterable and additional external tags, and cleaned up several parts of the related code</li>
					<li>moved the edit subscription panel asynchronous info fetch code to my new async job object</li>
					<li>cleaned up one last ugly 'fetch query log containers' async call in edit subscriptions panel</li>
					<li>moved the edit subscription(s) panels asynchronous log container code to my new async job object</li>
					<li>misc code cleanup</li>
				</ul>
				<li><h3 id="version_411"><a href="#version_411">version 411</a></h3></li>
				<ul>
					<li>misc:</li>
					<li>fixed the 'system:(like/dislike) rating = x' search predicate string, which was saying 'unknown' rather than 'like/dislike' in several cases</li>
					<li>fixed a 'current_count' error in the new file search optimisation code for tag searches where the tag did not exist for any files in the domain (i.e. autocomplete count=0). thank you to users for helpful reports here</li>
					<li>fixed the recent file search optimisation code to handle 'system:time imported' when it was mixed with tags or search predicates that would pre-populate the query file pool with file domain cross-referenced files. sorry for the trouble!</li>
					<li>the forced delay overhead for table analysis is reduced from 0.1s to 0.02s. whenever many mostly empty tables need to be analyzed (like on first boot shutdown, when it is usually 100+ tables), it now zips by</li>
					<li>.</li>
					<li>siblings/tag improvements:</li>
					<li>typing a shorthand sibling like 'lotr' into an 'all known tags' 'read' autocomplete - like on a default search page - now reliably discovers and matches text entry to ideal sibling results like 'series:lord of the rings'. this was previously buggy and unreliable--it now allows the match using better db knowledge, even when the merged 'all known tags' services involved disagree on siblings</li>
					<li>when typing tags into a 'searching immediately' page that has media, the autocomplete count results that only refer to that media will now match shorthand sibling inputs to the ideal result. media-populated tag search now takes a little bump of extra CPU to fetch results (they are now passed through the db to get nice siblings info), so it is also cached for the duration of your typing (previously, the counts were re-computed on every new keystroke, so this should be significantly smoother to work with on large pages even if that first keystroke takes a moment to give results)</li>
					<li>when typing into a 'write' autocomplete, like in manage tags, the process that promotes the entry text and known siblings to that entry and a potential ideal sibling result to the top of the list is now more sane. it now also only uses results with nonzero count. we'll see how this last change works out IRL</li>
					<li>when typing into a 'read' or 'write' autocomplete, the pre-search tag insert no longer has sibling insertion/swapping. it was unreliable before, with weird sibling-swapping in the short moment before real results returned. if you have slow results and often quick-add tags into search pages or manage tags, let me know how this works for you</li>
					<li>the 'additional tags' tag input dialog off the tag import options edit panel now shows the 'will display as' label</li>
					<li>the 'favourite', 'file lookup', and 'recent' tag suggestion panels now show the 'will display as' label</li>
					<li>the 'related' suggestion panel, which works on a slightly different system, now shows the 'will display as' label</li>
					<li>the 'tag suggestions' options panel's 'favourite tags' edit lookup and list now displays 'will display as' labels and correctly finds service-specific siblings in its results (e.g. you type 'lotr', it also finds 'series:lord of the rings')</li>
					<li>all autocomplete tag filtering should be just that little bit faster as you type</li>
					<li>filtering cached autocomplete results based on subsequent search text is now faster</li>
					<li>autocomplete inputs should no longer return 'ghost' results that have no current/pending count when one of the 'include current/pending' buttons is deactivated</li>
					<li>the new database autocomplete predicate generation routine now checks for 'cancel search' signals, saving CPU time as you type</li>
					<li>the slow 'regen chains' maintenance tasks now process sibling chains in random order, smoothing out the 500/100,000 progress label, which previously took about 80% of time on the first 20% of ids due to IRL tag distribution</li>
					<li>.</li>
					<li>the last UI-side siblings work is cleared:</li>
					<li>the UI-side tag siblings cache is no longer used. the sometimes multi-second 'loading tag siblings' step of boot no longer happens!</li>
					<li>media autocomplete fetches are now asynchronously populated with siblings data via the db</li>
					<li>the exact-match and sibling 'insert' predicates at the top of pre-load and post-load read and write autocompletes now rely exclusively on db data for sibling matching</li>
					<li>taglists now present 'will display as' labels asynchronously and are better about updating those labels when the list's underlying tag service changes</li>
					<li>the taglist right-click menu that shows siblings to copy now fetches that submenu's contents asynchronously from the database</li>
					<li>the test panel on a blacklisting tag filter now asynchronously fetches tag siblings to test against from the database</li>
					<li>the actual blacklist tag filter test now fetches tag siblings to test against from the database</li>
					<li>reworked my custom tag listbox to handle asynchronous text decoration, and unified sibling decoration for media taglists and string taglists</li>
					<li>updated my old async updater class to be more flexible for different job types, and cleaned the code that already used it</li>
					<li>wrote a simple class for one-shot async jobs</li>
					<li>wrote a simple db lookup for UI-side tag sibling chain members</li>
					<li>wrote a simple db lookup for UI-side tag ideal siblings</li>
					<li>bunch of misc sibling, db, and ui work and cleanup to make all this work</li>
				</ul>
				<li><h3 id="version_410"><a href="#version_410">version 410</a></h3></li>
				<ul>
					<li>general work:</li>
					<li>fixed a bug in the new file service filtering code that was stopping file upload commands to file repositories or ipfs services from sticking</li>
					<li>fixed an issue with the export files dialog auto-close-when-done function</li>
					<li>I think I fixed a possible bug in the boot file location repair/recovery dialog sometimes not saving corrected paths on unusual file systems</li>
					<li>file migration cancel button and shut off timer should work a bit more reliably, more to come here</li>
					<li>copying subscription quality csv info to clipboard no longer does nice human numbers (you now get 1234, not csv-breaking 1,234)!</li>
					<li>may have fixed a very rare 'or predicate' error when opening a dialog with a 'read' autocomplete input, like export folder or file maintenance jobs dialogs</li>
					<li>all pages are better about dealing with missing (i.e. recently deleted) services on load, and autocompletes also</li>
					<li>error handling from servers with strange character encodings should be better about dealing with null characters</li>
					<li>cleaned up the combined display regen chain code</li>
					<li>deleted some obselete db code</li>
					<li>.</li>
					<li>optimisation review:</li>
					<li>after more profiling, and thanks to additional input from users, I have done another round of optimisation for the new caches. using a new technique, more than just mappings are sped up this week - a number of queries that were prone to lag spikes should now have much more reliable speed and also be faster when hammered often</li>
					<li>.</li>
					<li>join and analyse db optimisations:</li>
					<li>these are mostly forcing table join orders, which reduces lag spikes, and reducing some related pre-query analysis overhead, which speeds things up more the faster your drive is (up to double processing speed on an ssd). they will affect different clients to different extents, but if your 'related tags' were taking more than a second to load, it should be sorted this week. systems affected:</li>
					<li>archiving files</li>
					<li>fetching 'related' suggested tags</li>
					<li>tag siblings regen/update in about ten places</li>
					<li>all mappings processing</li>
					<li>additional mappings processing for add/delete, pend/rescind_pend</li>
					<li>importing or deleting files that have tags</li>
					<li>loading medias' tags for the first time or on regen</li>
					<li>loading any media for the first time</li>
					<li>num notes searches</li>
					<li>similar files search tree maintenance</li>
					<li>many general file hash lookups</li>
					<li>many general tag lookups</li>
					<li>.</li>
					<li>other optimisations:</li>
					<li>mappings processing</li>
					<li>sibling processing</li>
					<li>wildcard tag searches, with and without namespaces, particularly when mixed with other search terms</li>
					<li>'tag as number' searches, with and without namespaces, particularly when mixed with other search terms</li>
					<li>searching for tags when mixed with other search terms</li>
					<li>has notes/no notes</li>
					<li>searching files on 'all known files' with general file metadata system predicates (like size, filetype)</li>
					<li>url class, url domain, and url regex file searches, particularly when mixed with other search terms</li>
					<li>num tag file searches when mixed with other search terms</li>
					<li>has/not has tags file searches when mixed with other search terms</li>
					<li>sped up specific display chain regen significantly, with similar separate current/pending optimisations as last week's for combined</li>
					<li>converted specific display cache overall regen to use a copy followed by the new chain regen rather than additive file import</li>
					<li>sped up combined display chain regen a little bit</li>
					<li>the splash window now updates itself with less UI overhead, so spammy updates (like the new tag regen code) use a little less CPU and fewer UI context switches</li>
				</ul>
				<li><h3 id="version_409"><a href="#version_409">version 409</a></h3></li>
				<ul>
					<li>siblings:</li>
					<li>the slowest of the new sibling regen & update code has received a full optimisation pass. some sections take 10% less time, some 90%, and one critical query takes 99% less time. overall, several big jobs work much faster, and ptr processing, which slowed significantly for many users, should be back up to a good speed. uploading pending tags (which tend to be for local files) should be much faster in particular. let's do another round of IRL observation and profiling this week, and I'll keep at it</li>
					<li>the various 'display' regeneration routines now provide more progress status text, drilling down to the x/y siblings being collapse-counted, or number of files added to a cache, and generally all tag sibling regen got a status update polish pass</li>
					<li>optimised the way tag sibling application is set--now, only the tag siblings that are changed need to have their counts regenerated. hence, if you just apply (or remove) your own five 'my tags' siblings onto the PTR, the client now only has to do two seconds of work, not ten minutes</li>
					<li>.</li>
					<li>the rest:</li>
					<li>fixed the annoying issue with media viewer mouseovers stealing focus/activation from the manage tags dialog. this can now only happen if current focus is on a hover window. sorry for the delay!</li>
					<li>updated manage tag parents dialog to state the pairs being petitioned on the 'petition reason entry' dialog</li>
					<li>updated manage tag parents and siblings dialogs to have appropriate 'reason' suggestions for petitions (previously, they were inheriting the same suggestions as for add)</li>
					<li>ipfs network jobs now have a minimum 'reply' connection timeout of two hours (so giganto directory pushes won't throw an error). connection timeout remains the same, so if the server is hanging on that, it'll still notice</li>
					<li>fixed the 'test address' button on the IPFS manage services panel</li>
					<li>petitioning an IPFS file when there is no IPFS multihash entry in the db no longer causes an error. now, in this case, the file entry is removed with no change made.</li>
					<li>when pending to or petitioning from a file service, a quick filter is now applied to discard invalid files (i.e. (not) already in the service). any weird logical holes where this might occur should now be fixed</li>
					<li>export folders now catch and report missing file errors more nicely</li>
					<li>export folders now remember the last error they encountered and report that in the edit export folders dialog</li>
					<li>.</li>
					<li>boring tag siblings optimisations:</li>
					<li>optimised the tag manager generation routine to use any common file domains for fast cache lookup for any subset of the files available, rather than falling back to 'all known files' domain when there is no single common file domain</li>
					<li>optimised the new 'all known files' display autocomplete cache to use similar faster specific files cache lookups when available</li>
					<li>optimised how the 'all known files' display cache regenerates tag sibling chains. it now takes a shortcut when given non-sibling tags and tags where all but one sibling member have zero count, and it can count current and pending counts separately according to the most efficient counting method (e.g. most pre-display pending counts are 0 across the board, so even if current count is a million, the pending count can often be assumed without lookup overhead). furthermore, the 'clever' count has better query planning and less non-sqlite data overhead, and with experimental data is now chosen more carefully. what was previously a 22s job on a test database now takes 5s</li>
					<li>deduplicated how new mappings are filtered to all the specific cache domains, significantly reducing overhead</li>
					<li>massively optimised a critical - and the slowest - part of the new 'combined' cache that handles add/pend mappings pre-insert presence testing, speeding up the core query about 100x!</li>
					<li>reduced some overhead when doing file service_id normalisation in repository processing</li>
					<li>split up specific chain regen into groups to reduce memory usage</li>
					<li>optimised specific display tag cache 'add file' updates, and thereby basic cache regeneration, to be just a little faster for files that have multiple sibling tags</li>
					<li>all predicates made in the database are now populated with ideal and chain sibling information, and this is used for '(will display as xxx)' labels and autocomplete tag search filtering (e.g. you type in 'lotr', it matches an autocomplete result of 'lord of the rings'). there are still some ui-made predicates to figure out, so the old system remains as a fallback</li>
					<li>related tags lookup is a tiny bit faster and now populates its predicates with ideal and chain sibling info at the db level</li>
					<li>cleaned up some 'fetch related tags' code, might make it a bit faster for large tag counts</li>
					<li>cleaned up the way some mapping tables are fetched</li>
					<li>unified table/table_name nomenclature in the db code</li>
					<li>updated an old data->ui status presentation method (it typically does stuff like "regenning some stuff: 500/10,000"), to not hog so much UI time and not yield worker threads so often when new statuses are coming in real fast</li>
					<li>several late optimisations based on IRL testing</li>
				</ul>
				<li><h3 id="version_408"><a href="#version_408">version 408</a></h3></li>
				<ul>
					<li>tag siblings cache:</li>
					<li>tl;dr: siblings are faster and better now, you don't have to do anything. some parents will not appear with new downloads - don't worry about it, they will all fill back in nicely soon</li>
					<li>wrote the first version of a 'tag display' cache, which stores not your tags as they are, but how they appear after display rules such as siblings, parents, and filtering are applied, meaning this data need not be calculated every time on thumbnail load. this week marks the first concrete step forward in an improvement of siblings and parents storage, and begins with just siblings. all siblings and front-end tags work should be generally faster and more accurate</li>
					<li>part one is for tag domains cross-referenced with file domains. it maintains virtual sibling-collapsed mappings and autocomplete counts through mappings added, deleted, pended or pend-rescinded, files added/deleted, and siblings added/removed</li>
					<li>part two is for tag domains on the 'all known files' domain (i.e. no file domain). it maintains virtual sibling-collapsed autocomplete counts through mappings added, deleted, pended or pend-rescinded, and siblings added/removed</li>
					<li>both parts also support full table drop/regen (under the new database->regenerate->tag display mappings cache) for when my logic inevitably miscounts something. the existing regen 'tag mappings cache'/'tag siblings lookup' commands also regen the display mappings cache, since it relies on them</li>
					<li>when tag siblings on a repository are petitioned to be deleted, they are now instantly discounted from tag sibling application (previously, they had to be uploaded and committed to count, now both pending and petitioned offer a quick preview of outcome)</li>
					<li>the display cache supports the tag sibling service application rules under the 'services menu', and regen when that changes, so you can now turn siblings on and off, and apply them across services. as a result, the old 'apply all siblings to all services' option is now gone! as parents will undergo a similar change soon, and the siblings changes this week may lead to some undesired parents in the interim, the 'apply all parents to all services' option is also gone</li>
					<li>tag autocomplete counts in the form (x-y) due to siblings are eliminated. it will still do it when combining the same merged tag across different services, or when an unnamespaced tag includes how many potential namespaced will also be found</li>
					<li>the following search types now obey tag sibling application rules accurately: number of tags search, namespace:anything search, wildcard search, tag search (on a per-tag-domain basis, previously it was globally hacked to all siblings), tag-as-number search. for instance, if you search series:anything, a file that has 'metroid' tag-siblinged to 'series:metroid' will now correctly appear.</li>
					<li>the above search types are now exact to how the tag displays. if you have for files that are tagged 'samus' on either tag service A or B, and service B has a sibling for that to 'character:samus aran', searching for 'samus' gets the results in A, 'character:samus aran' gets the results in B. previously it was an expensive logical mish-mash of 'sure, try and get everything behind the scenes'. now it searches what you see</li>
					<li>searching for files in the advanced 'all known files' domain currently has no sibling support for the above search types. autocomplete counts should be good, and the results that come up should have the correct tag display, but the actual results are calculated based on storage tags. getting this to work without doubling the size of the db is tricky, so it will have to be ongoing work</li>
					<li>all tag siblings are now completely virtual. this means that when a tag comes in via a downloader or other means, it will not be automatically coerced to its ideal sibling in the actual db storage tables (the true tags you see in manage tags dialog), but remain as it is. there is no change in sibling appearance in normal operation--it still _displays_ and searches as its ideal sibling. the same will happen to parents in the coming months, and in the interim period, parents no longer apply across siblings. as siblings can come and go from anywhere, they are now divorced from actual stored tag mappings. in a similar way, the manage tags dialog no longer supports the 'hard-replace siblings and parents' command, nor the 'auto-replace with sibling' command. this may be jarring to workflows and preferences, so please bear with me and let me know what feels particularly bad. and please don't worry too much about parents not always being added in the meantime--I hope to do the same transition for them in four of five weeks, and all gaps will be filled in. also, in the coming weeks, I expect to improve manual tagging workflow by indent-grouping edit-view siblings together (ditching the old 'will display as' text) for easier review and selection, a bit like parents. actual 'hard' siblings and parents that do always get irreversibly renamed/added in storage will come in the future as a separate system</li>
					<li>the 'add_siblings_and_parents' client api parameter no longer adds siblings, and soon will be retired completely</li>
					<li>I had wanted to completely eliminate the old UI level siblings manager this week, but there are still some systems, mostly tag autocomplete work, that need it and are tricky to swap. I stripped it down, at least, and reduced its update delay to 2 seconds. therefore, the 'loading tag siblings' step of boot still occurs, albiet a _little_ faster. I hope to have it gone soon</li>
					<li>this is some complicated code affecting core systems. almost everything 'siblings' is now different. there are likely to be laggy parts, awkward new workflow, and possibly some update or miscount bugs as I iron it out. the good news, now they are all virtual, is that problems are undoable. please report any issues, and I will work on it as I keep pushing on this and on parents</li>
					<li>please expect your client.caches.db file to expand in size about 10-30% or so this week. the update itself will take a few minutes as the improved tag lookups and new caches are regenerated from empty</li>
					<li>.</li>
					<li>boring mostly db optimisation list:</li>
					<li>after some thought, moved those new options for tag sibling application down to the db. previously, they were stored in an UI object for convenience, but since everything is going down to the db, it is worth doing it properly down there. thus they reset this week to the default</li>
					<li>I also removed that complicated 'all known tags' page in the tag sibling application options--it wasn't doing enough to justify itself</li>
					<li>tag siblings lookup cache now obeys the tag sibling application rules and regenerates the appropriate cache when the options change</li>
					<li>tightened up the db tag siblings lookup cache and wrote more tools for it. it had a couple of blind spots for getting all siblings in a chain. also optimised the lookup for en-masse tag operations</li>
					<li>tightened up my tag sibling structure builder object, which was not eliminating loops but collapsing them to (generally harmless, but not desireable) (A,A) pairs</li>
					<li>extended mappings and siblings lookup caches to perform various sorts of tag sibling collapse filtering, to determine files that do or do not have another tag mapping on a tag sibling chain</li>
					<li>optimised the existing mappings cache in several ways</li>
					<li>optimised cross-domain file cache mappings filtering, and cleaned the code</li>
					<li>optimised autocomplete count fetching from the mappings cache, particularly for large result sets</li>
					<li>optimised how the combined autocomplete count generates from nothing</li>
					<li>optimised how tags are loaded for search results (thumbnails)</li>
					<li>optimesed basic tag search</li>
					<li>greatly optimised how the mappings caches request cross-domain file cache filtering</li>
					<li>broke up the rescind_pending/add mappings job into simpler separate parts, which was needed for accurate display cache counting. this may end up fixing the other weird pending miscount bug we had</li>
					<li>the cached 'display' tags are now loaded with regular media results, not generated on the fly on first request (unless in the advanced 'all known files' domain, where it is done quickly on first load at the db level)</li>
					<li>converted the db over to using its local sibling lookup cache for all sibling jobs</li>
					<li>all data-level content updates to media result objects now occur in the database loop, reducing lag and eliminating a single UI event loop gap when the objects the UI relies on were desynchronised</li>
					<li>optimised how the tag and hash id-to-definition cache maintains itself</li>
					<li>cleaned up cache code generally</li>
					<li>wrote a ton of unit tests to cover construction, tag, and tag sibling operations on the siblings and display caches</li>
					<li>wrote a second optimised method for regenerating 'all known files' display cache autocomplete counts from nothing, which, when multiple siblings have wildly different counts (e.g. 50, 100, 200000), instead of counting them all, counts the smaller tags sans the largest, and adds this to the already pre-computed largest count</li>
					<li>the old ui level siblings manager has been pared down to some final tools that will be trickier to replace</li>
					<li>.</li>
					<li>the rest:</li>
					<li>fixed the stupid manage tag siblings dialog input/ok bug I introduced last week</li>
					<li>fixed the pair preview label in manage tag siblings dialog when it asks to enter a reason for a remove petition</li>
					<li>I believe I fixed the annoying recent bug where the top-right hover window would sometimes not position itself correctly on a window size/move until the top hover was shown once</li>
					<li>fixed a bug where the 'do you want to do shutdown work?' dialog was not abandoning shutdown if cancelled (rather than yes/no)</li>
					<li>updated the 'has free space to do db transaction?' checker, which needs to test device partitions, to do two sweeps--first only fast local devices, then potentially mega laggy network discovery if the mount point is not found (hydev was wondering why it was suddenly taking nine seconds to close his test client!)</li>
					<li>fixed another issue with double-clicking some addremove/queue listboxes when no edit button is set--now in this case they all delete on a double-click</li>
					<li>fixed a little bad error handling on pending content upload. an error with petitioning certain IPFS uploads is not yet fixed</li>
				</ul>
				<li><h3 id="version_407"><a href="#version_407">version 407</a></h3></li>
				<ul>
					<li>sibling prep:</li>
					<li>I am preparing for a new siblings database cache for v408. this will ultimately make siblings (and parents) faster, more accurate, more powerful, and simple to undo. I have decided, as part of it, to make siblings and parents completely virtual (i.e. the tags won't exist for real, they'll be implied). better tools to manage hard-replace siblings and parents will come later, as trying to support both situations at once has not been excellent</li>
					<li>.</li>
					<li>created options to hold per-service sibling and parent preferences, so you'll be able to set up '"my tags" siblings and then "ptr" siblings apply to "my tags"' or 'no parents apply to this service'</li>
					<li>wrote UI for the sibling options under 'services->manage where tag siblings apply'. you can play with it if you like, and it saves values, but it is not plugged in yet and makes no changes</li>
					<li>siblings logic is a little tighter. the db and gui side of siblings structure calculation is more unified, petitioned siblings are discounted properly on all generation, and the db side now resolves conflict decisions the same on every regen. the gui-side still runs on an older structure, but will be updated to exactly mirror the db</li>
					<li>updated and unified how large numbers of raw tag siblings are fetched in the database. it also supports fast tag slicing, speeding up sibling cache maintenance. the siblings lookup cache now uses this method for regeneration and update calls</li>
					<li>.</li>
					<li>the rest:</li>
					<li>tag right-click menu copying now supports all combinations of selected/all, tags/subtags, and no_count/with_counts where appropriate (issue #325)</li>
					<li>if the media viewer is too thin for the top hover window to fit into its space, the top-right hover now drops down below it. I don't really like how this looks, and will probably instead figure out a flow layout so the toolbar buttons always fit, but at least they are now accessible (issue #388)</li>
					<li>altered the above fix--if the top-right hover window can be shrunk to fit in the available space, it will now squeeze in, only bumping down if it can't</li>
					<li>moving the mouse off an activated (e.g. clicked) hover window now instantly activates the main canvas. this should fix up some fast swallowed clicks and annoying click-to-activate issues with the center-right duplicates hover window, which does not hide (issue #384)</li>
					<li>the duplicates hover window now positions correctly if its min size is too wide to fit in a thin media window</li>
					<li>if you make changes to a parser or content parser, there is now a yes/no confirmation when trying to cancel the dialog</li>
					<li>fixed an issue where 'queue' listboxes with no edit button would throw an error on double-click. now double-click in this case deletes</li>
					<li>fixed a couple of timestamp convertions that were doing YYYY/MM/DD instead of the more ISO-nice YYYY-MM-DD. also, when in UTC, they'll correctly say UTC now instead of GMT (issue #369)</li>
					<li>fixed some borked centered text layout on ratings dialog and import folder dialog</li>
					<li>fixed the manage services dialog's wrong headers for type/name columns</li>
					<li>added links in the official help to the new user-written simple help guide at https://github.com/Zweibach/text/blob/master/Hydrus/Hydrus%20Help%20Docs/00_tableOfContents.md</li>
					<li>moved object tag and ratings code to a new client module, 'metadata', and pulled various ratings gui code into a new separate file</li>
					<li>refactored some more manager code around to generally more sensible locations</li>
					<li>did a bit more work chasing down the highlight-downloader ui deadlock, which unfortunately still exists</li>
					<li>reduced the number of db hits some paged downloaders need, particularly on highlight and init</li>
					<li>updated some test code to support cleverer db testing</li>
					<li>updated mpv for windows build. api version is now 1.109. this fixes at least one weird linux vm audio driver issue</li>
				</ul>
				<li><h3 id="version_406"><a href="#version_406">version 406</a></h3></li>
				<ul>
					<li>subscription management:</li>
					<li>the manage subscriptions dialog now has a 'deduplicate' button. it is enabled whenever your subs of a particular downloader contain duplicate queries. it launches a semi-bananas but thorough 4-step process to ask if you want to do upper/lower-case deduplication, then which downloader, then which queries, then which master sub(s) to retain the queries</li>
					<li>subscription dedupe within the same sub keeps the query with the most files</li>
					<li>the manage subscriptions dialog also now has a 'lowercase' button that coerces all queries of the selected subs to lowercase</li>
					<li>when pasting a list of queries into a subscription, the 'already in sub' test is now caseless. pasting "Samus_Aran" into a sub already with "samus_aran" will not add anything</li>
					<li>.</li>
					<li>misc:</li>
					<li>url classes now have a checkbox to keep fragment data (e.g. "#kwGFb3xhA3k8B") during URL normalisation. this data is not sent to the server and is not useful for almost all sites, but for sites like Mega, it contains useful clientside javascript navigation or access info if you open the URL in your browser</li>
					<li>fixed video resolution parsing for some unusual SAR files. this stretches a video slightly, usually when the vid was created or converted with older analog tech (e.g. NTSC)</li>
					<li>fixed rating system predicate label for 'rated/not rated'</li>
					<li>the issue where miscounts in pending upload data would persist, sometimes leading to an annoying 'pending (13)' style menu that would not clear without debug action, is now fixed in a cheap way. on any upload action, this cached count is reset. a fix for the actual unusual miscount situation will have to come later</li>
					<li>the different in-memory manager objects now save changes at different time intervals--lightweight things like favourite searches still save not long after any change, but column widths, network sessions, and bandwidth use now save only every ten minutes</li>
					<li>I _may_ have fixed an issue with favourite tags not sticking correctly or resetting when added en masse via the tag right-click menu</li>
					<li>I believe I fixed a rare but permanent ui hang on highlighting a gallery or watcher when that same downloader was spamming through a largely 'already in db/previously deleted' list</li>
					<li>copying tags 'with counts' now works correctly for simple tag views (previously, it only worked for 'predicate' views)</li>
					<li>copying tags now preserves the tag order as in the list (previously, it did a human sort)</li>
					<li>to stop status-sorted gallery and watcher list entries bouncing around so much, they now just say 'working' in their status column when they are working. the highlight panel still reports granular file/gallery info. galleries also now say a more solid DONE when complete, to spot them more easily</li>
					<li>the gallery and watcher search/checking column now includes stop status in sort</li>
					<li>fixed the dowloader link in the help to https://github.com/CuddleBear92/Hydrus-Presets-and-Scripts/tree/master/Downloaders</li>
					<li>added that same link to the Lain dowloader import panel's help button</li>
					<li>updated cloudscraper to 1.2.46</li>
					<li>updated cloudscraper interfacing code to adapt for new reCaptcha->Captcha object names</li>
					<li>.</li>
					<li>boring code cleanup:</li>
					<li>refactored downloader gui code to its own file</li>
					<li>refactored network gui code to its own file</li>
					<li>refactored service gui code to its own file</li>
					<li>finished import reordering. now all files import in a cleaner order</li>
					<li>further reworked all hydrus imports to be more breadth-first, loading core modules earlier and catching potential errors in nicer places</li>
					<li>checkbox selection is now wrapped in the 'quick' dialog system, and all checkbox selections now use this single method</li>
					<li>simplified and unified a variety of layout code, and fixing some odd layout expanding bugs</li>
					<li>misc code cleanup</li>
					<li>deleted some old unused ui code</li>
				</ul>
				<li><h3 id="version_405"><a href="#version_405">version 405</a></h3></li>
				<ul>
					<li>tag search:</li>
					<li>system:number of tags now supports namespaces, for example 'find files with two character tags'! (issue #280)</li>
					<li>it also supports wildcard namespaces, as now do regular namespace search predicates. both run faster. "crea*:anything" is now possible</li>
					<li>system:number of tags has been optimised, and in many cases is now ten to a hundred times faster</li>
					<li>system:number of tags still does not support siblings, something I hope to start correcting as of v408</li>
					<li>both tag existence (numtags =0 or greater than 0) and tag count database routines now respond quickly to 'cancel search' commands, so if you do run a slow query (a bare 'has creator tag' search on 'all known files' on the PTR, for instance), you can now back out quickly after the 'stop' button appears</li>
					<li>note that 'system:number of character tags greater than 0' and '= 0' are equivalent to +/-character:anything, which will be swapped in if you enter these. also, +/-unnamespaced:anything can now appear</li>
					<li>the program is a bit better about determining =0 and greater than 0 and less than 1 being 'none' and 'any but none', when it needs to determine optimisations and special labels</li>
					<li>unfortunately, I am taking away the default value for system:num tags in the options page (edit: I am killing the whole panel now). this old ugly mess of stacked predicate edit panels works on ancient, difficult to update code, so I will retire it and replace it with a unified system that is easy to use, supports in-search system predicate editing, and keeps up with changes automatically</li>
					<li>system:number of tags is now comfortable with redundancies--if you add >2 and >4, it now knows that >4 is the true lower bound (previously, the one used was random)</li>
					<li>boring code changes here:</li>
					<li>updated tag existence and tag count searches to take advantage of the tag cache when in a specific file domain (which is pretty much all the time), which should speed them up significantly</li>
					<li>updated tag existence and tag count searches to more carefully plan their queries, speeding them up both in advantageous and difficult situations</li>
					<li>cleaned up tag existence and tag count code significantly</li>
					<li>updated all edit system predicate panels to return full predicate objects, a step towards decoupling them and allowing in-place system predicate editing</li>
					<li>wrote a new number test object to hold and help with number range test values. num tags now uses it, and eventually all range predicates will too</li>
					<li>the namespace existence search code ('anything' queries) is now folded into the new generalised tag existence search code</li>
					<li>streamlined how the search context propagates through all database tag searching--now, most queries do not know or care about domain or current/pending status--they just iterate over n tables as determined by a specialised routine</li>
					<li>added a handful of unit tests for the new namespace num tag searching</li>
					<li>.</li>
					<li>database repair:</li>
					<li>the database menu has a new entry, 'repopulate truncated mappings tables', under the newly renamed 'check and repair' submenu, which will try its best to 'fix' a client.mappings.db file that has been truncated due to hard drive fault by repopulating from the local-file-only tag cache. do not run this unless you know you need to</li>
					<li>the 'help my db is broke.txt' document has a full update pass. the language is clearer, common issues and questions are better addressed, two new recovery routines are added, a section on the stages after boot recovery (like the new repopulate job above) is added, and I added my stock 'now become a backup patrician' nag at the end</li>
					<li>the debug routine to clear cached service info numbers is now moved to the 'regenerate' database menu. this thing fixes hanging incorrect 'pending' counts until I can fix it properly</li>
					<li>.</li>
					<li>the rest:</li>
					<li>fixed an issue where when you pasted queries into a subscription, those that were already in the sub (and got the dialog saying so), were being added anyway! I believe this bug came in the last few weeks, after the data storage rewrite. please check your pasted-into subs for dupes</li>
					<li>fixed tab double middle-click behaviour (so you can spam page close), which I thought I had fixed last week but actually messed up completely right at the end (issue #314)</li>
					<li>cleaned up some more of the page tab event code--it was a mess all around. should all be on Qt now, no wx hacks</li>
					<li>network jobs will no longer wait for and consume bandwidth start tokens while all network traffic is paused. all bandwidth competition now halts. (previously, they would continue to consume tokens according to current rules and then all rush to start as soon as traffic was resumed)</li>
					<li>fixed some client booru/client api requests to correctly 404 on missing file results, rather than 500</li>
					<li>cleaned up some file sort code and fixed the sort string conversion, which was rendering the opposite sort direction (asc/desc) in summary labels (e.g. on manage favourite searches)</li>
					<li>cleaned up some ui layout stretching code, including some borked tag import options expand sizing</li>
					<li>improved some button and padding layout definitions, and improved, slightly, the way the top-right media viewer hover window lays itself out and changes its size on media change</li>
					<li>improved some review services layout. should be fewer weird heights and widths in unusual situations, and the new multi-column list fits better</li>
					<li>the manage subs dialog now saves its changes to db more cleanly and atomically</li>
					<li>updated the default derpibooru parser to pull species tags. ten points if you can guess what that is most of the time</li>
				</ul>
				<li><h3 id="version_404"><a href="#version_404">version 404</a></h3></li>
				<ul>
					<li>column lists:</li>
					<li>all multi-column lists across the program now remember the widths of their columns when they are next recreated</li>
					<li>the last column of any list is now universally the 'stretching' column, which should correctly initialise with its preferred/previous size, but also grows and shrinks with the parent window</li>
					<li>while all lists retain their initial rows height, and those in the gallery and watcher management panels will continue to grow and shrink in a fixed way, all lists in dialog windows can now be shrunk down to four rows</li>
					<li>the minimum size of any column is now much smaller, about three characters</li>
					<li>all column headers now tooltip their name</li>
					<li>lists should be better about sizing in non-100% OS UI scalings</li>
					<li>the lists that are automatically sorted (e.g. the download pages, and manage subs) now remember the last sort you gave them</li>
					<li>future plans, now within reach:</li>
					<li>all lists will sort, sort arrows will appear on the header, and sort will be faster</li>
					<li>columns will be rearrangeable</li>
					<li>columns will be hide/showable, and initially hidden complicated columns will be available</li>
					<li>there will be some, maybe optional, capability to have lists sync live, so if you edit one, the others do the same</li>
					<li>num rows height memory, maybe--we'll see how the above shakes out first</li>
					<li>boring code changes:</li>
					<li>moved list code to a new sub-module</li>
					<li>wrote a status object for column list current columns, widths, and sort, and plugged it into list code</li>
					<li>wrote a manager to handle column statuses, and plugged it into the main controller and db</li>
					<li>wrote definitions for every list (66 or so different lists!) and all their columns, and unified width, name, default sort, and future hideabality and default hide/show status to that one easy to edit and extend location</li>
					<li>rewrote list column and sort initialisation to work off the new status object and added hooks for list sorting and column resizing to save new status back</li>
					<li>rewrote every list column instantiation to use the new system</li>
					<li>numerous misc column list code cleanup</li>
					<li>.</li>
					<li>the rest:</li>
					<li>double middle-clicking on the page tab bar should now correctly close two tabs in a row (rather than opening the rename page dialog on the second)</li>
					<li>entering an odd number of hex characters into system:hash no longer causes an error. this will be changed in future to properly highlight and explain badly pasted or incorrect-length hashes in future</li>
					<li>the new red text for non-functional status texts in review services now properly re-colours itself between normal/red when an error or resolution occurs while the panel is open</li>
					<li>hydrus now knows if it is running in the Haiku operating system and has preliminary platform specificity. if you are interested in helping to get hydrus running properly in Haiku, please join in with github issue #358</li>
					<li>cleaned up a mix of smaller code, unused variables and imports and so on</li>
				</ul>
				<li><h3 id="version_403"><a href="#version_403">version 403</a></h3></li>
				<ul>
					<li>shortcuts:</li>
					<li>shortcuts have a backend update this week. a bunch of hacky stuff is now cleaner behind the scenes, and the related UI has some cleanup as well</li>
					<li>converted all 100-odd simple shortcut commands from hacky text ids to a proper enumerated id system, and across every single instance across the program</li>
					<li>wrote nicer descriptive labels for all simple shortcuts. gone is 'focus_media_viewer', now is 'keyboard focus: to the media viewer'</li>
					<li>if you have no like/dislike or numerical services, the respective application command edit panels now say so and do not allow an ok action</li>
					<li>like/dislike rating sub-panels now start with 'like' checked</li>
					<li>when a like/dislike or numerical rating sub-panel is set to 'remove', the action dropdown is set to 'set' (rather than flip) and is disabled, as is the numerical slider</li>
					<li>application commands now state better "3/5" information about rating actions, rating than the underlying "0.6" float implementation</li>
					<li>all application commands existing in shortcuts or elsewhere are updated to the new enumerated id system</li>
					<li>refactored ApplicationCommand (the side of shortcuts that holds the actual action to be done) and its edit UI to new separate files</li>
					<li>completely refactored the application command edit panel, pulling the simple/tag/rating sub-panels into their own decoupled classes, simplifying the tangle and permitting easier future expansion</li>
					<li>rearranged some application command functions and contant definitions to more appropriate locations</li>
					<li>improved how application commands are interrogated by the objects that process them</li>
					<li>added plenty of type hinting around application command processing code</li>
					<li>cleaned up a bunch of shortcut and application command code, including some wx->Qt updates as well</li>
					<li>.</li>
					<li>menu and UI cleanup:</li>
					<li>removed an old wx hack that prohibited last-second ui updates. the exit splash screen now reports final db shutdown info</li>
					<li>if a service or account is currently non-functional (e.g. all repositories are paused), the appropriate status text is now in red</li>
					<li>if there is work to do the first time a duplicate page is opened or looked at, it now moves to the 'preparation' tab</li>
					<li>doing a 'migrate database' file migration now temp-closes the migrate db dialog and hides the main gui while it goes on</li>
					<li>brushed up the tag filter ui a bit--now only one of the tag_filter/blacklist test phrases only show up, in the appropriate context, and the test text input now supports multiple newline-separated tags (e.g. if you want to paste a bunch)</li>
					<li>every panel on review services now has a refresh button to force an update</li>
					<li>the 'clear trash' button on the trash review services panel is now disabled when there is nothing to clear</li>
					<li>updated edit subscription panel to point to the main html help and brushed up that help to talk about file limits more, also the earlier downloader help has a little section to highlight subscriptions and their use</li>
					<li>reworked the 'restore from db backup' command--it is now integrated into client shutdown proper, and reports its basic restore progress to the exit splash screen</li>
					<li>reorganised the 'network' menu. manage subs is now up top, downloader submenus are now split better into high-level vs component-level, and login stuff is pulled to its own submenu</li>
					<li>put 'network traffic' at the top of the network->pause menu</li>
					<li>rearranged some of the 'gui' and 'gui pages' option pages and tucked everything into box sections for clarity</li>
					<li>the search pause/play button on search page tag autocomplete now has a simpler 'search paused' label when paused. the code has a similar nomenclature change, and eventually this will turn into a simple pause/play icon button or similar</li>
					<li>fixed some weirdness with floating autocomplete dropdowns sometimes not appearing on dialogs on first load</li>
					<li>fixed some focus logic so set-focus calls on downloader pages should work again on the query input text box and elsewhere</li>
					<li>unified all numerical rating->stars and stars->rating calculations across the program. this may have fixed some edge-case bugs</li>
					<li>unified all rating string generation across the program</li>
					<li>.</li>
					<li>the rest:</li>
					<li>the disk cache options under _options->speed and memory_ are now default off and force-set off for all users on update. as more users are on decent ssds where these options are of limited value (and sometimes negative value), I now only recommend them for users on HDDs</li>
					<li>added two options for autocomplete results list height to 'gui pages' option page, under the new 'controls' section</li>
					<li>fixed a critical issue where the client api could duplicate-add tags with url imports to multiple services. the potential service duplicate cascade order was pseudorandom and particular to a client. thanks to a user for figuring this issue out (issue #317)</li>
					<li>added a 'tag whitelist' to downloader tag import options. its edit button is below the blacklist. when there are no tags in the list, it does nothing, but if tags are added, then files that do not have at least one of the given tags at the download source will not be imported. for instance, if you have a username-based downloader (where you can't add more tags to the query to filter serverside), and you only want their metroid content, you can now filter it simply hydrusside (issue #279)</li>
					<li>if you are both in advanced mode and a mad lad, the basic blacklist tag filter now allows you to show the 'whitelist' and 'advanced' panels again, if you have a complicated blacklist to set</li>
					<li>the local booru and client api now support the same https as the hydrus server, using self-signed certificates stored in the db directory. just set the checkbox in manage services and you should be good. self-signed certificates are free and will work on a server hosted off an IP address, but they are imperfect. they are also likely to require special permission to be accepted by the web browser or whatever you want to talk to the https service. however, if you host your client from a real DNS domain and have your own fully signed cert+key files, you can swap them in no problem</li>
					<li>local booru and client api urls adjust scheme for the new option, and unified and cleaned up how booru share urls are generated internally</li>
					<li>the way cert+key files are generated is moved from server code to common hydrus code</li>
					<li>cleaned up how additional db files like certificate files and the mpv conf are managed for backup/restore operations</li>
					<li>cleaned up some ancient http urls to https. mostly stuff like the regex tutorial links</li>
					<li>when files are appended to a regular search page (e.g. from a subscription publish to an existing page, or from a mouse drag and drop), the search context will now pause. this is to stop accidental F5 or mass refresh signals wiping out the changed page</li>
					<li>to break advanced-case gallery search loops, gallery url jobs now have a 'run' identity token. galleries pass their token down to 'next page' or 'sub-gallery' urls they generate, meaning all urls of a particular search run share the same url. gallery logs now ignore to-be-added urls that already exist for their token, terminating loops. new tokens are generated if a search is restarted or similar, meaning duplicate urls can exist in a gallery log, just not from the same starting point (issue #302)</li>
					<li>improved simple gallery url deduplication in several stages of the downloader pipeline</li>
					<li>when right-clicking on multiple thumbs, the info lines off the top menu item now list the files' combined viewtimes (this previously only showed when one file was selected)</li>
					<li>fixed some error reporting problems with adding urls to import via the client api--some url class exceptions were being converted from 400 to 500 errors unintentionally</li>
					<li>a new stylesheet, 'Hydracula', is added to the default install. check it out under options->style. thank you to a user for contributing this</li>
					<li>subscriptions are better about calculating a 90 second forgiveness window for bandwidth rules. they should schedule and startup more effectively, and the edit subscriptions and single edit subscription panels should also no longer show bandwidth delays below the next 90s, which are often a technical situation of regular work breaks that are better ignored for the purposes of the dialog</li>
					<li>went back up to pyinstaller 3.6 again on windows, as 3.5 caused its own Qt bindings dll problems. if you had trouble with 3.6 (401), let me know how this works for you, as there are additional dll-finding fixes included (issue #329)</li>
					<li>fixed an issue where under some conditions, file save dialogs were only happy with filenames that already existed (issue #319)</li>
					<li>fixed an issue with the 'client already running' system sometimes not closing the client process correctly when told to cancel the boot</li>
					<li>bumped the 'space needed for vacuum' estimate up to 120% (was 100%) of estimated final file size, just to catch some edge cases</li>
					<li>rolling out updated danbooru parsers that pull associable urls correctly, thank you to a user for this fix</li>
					<li>rolling out an updated deviant art parser that finds some unusual file urls when other methods fail, thank you to another user for this fix (issue #295)</li>
					<li>upgraded cloudscraper to 1.2.42</li>
					<li>improved some type hinting</li>
					<li>fixed up some unit tests for new command and rating data</li>
				</ul>
				<li><h3 id="version_402"><a href="#version_402">version 402</a></h3></li>
				<ul>
					<li>in many situations--such as a search result that gives no results, or a search cancel, or a downloader page cleared of a highlight--pages will now report a special status text rather than '0 files', such as 'no results for this search' or 'search cancelled!' (issue #277)</li>
					<li>new pages, and the first page of a loaded session, should now correctly publish their status text to the status bar immediately after initialisation, (previously blank until first change)</li>
					<li>clicking the 'searching immediately' button while a search is ongoing now correctly cancels a search, cleaning up status and page and buttons, rather than just stopping current work immediately</li>
					<li>added 'copy_xxx_hash' shortcuts to the media shortcut set for 'md5', 'sha1', and 'sha512'</li>
					<li>when copying file hashes to clipboard, a popup appears for two seconds to verify what happened</li>
					<li>when copying file hashes to clipboard, recovery from missing hashes is more graceful, with multiple error report states</li>
					<li>the way the client shuts down is untangled. the order in which the gui, managers, threads, database are shut down is smoothed out, with better error handling and fewer potential logical holes</li>
					<li>the 'should I do shutdown work?' dialog is now only presented in the clean shutdown pipeline</li>
					<li>menu labels now elide at 128 characters, extended from 64 previously. hopefully this strikes a better balance between fixed texts we do want to read while still not letting long dynamic texts go nuts (issue #276)</li>
					<li>gallery and watcher pages now have 'show file/gallery log' on their menus, which directly zoom in to the edit dialogs for the top-most selected query or watcher (issue #256)</li>
					<li>when file maintenance is forced to run from the thumbnail menu or file maintenance job panel, it now provides x/y progress text and gauge based on total jobs, e.g. 1,234/10,000, rather than out of the 256-job batches (issue #264)</li>
					<li>the simple downloader page now updates its pending jobs list more efficiently, and supports multiple selection, and presents a yes/no confirmation on delete</li>
					<li>most lists with clipboard/png import/export buttons can now also do .json files. they also accept json files in a drag and drop. you can mix json and png files in a multi-file drag and drop</li>
					<li>when selecting a parser for a url class in 'manage url class links', those parsers with example urls that match the url class are now separately listed at the top of the choice dialog</li>
					<li>in the recent autocomplete rewrite, the hidden repository update file domain was accidentally exposed in the file domain button. after some testing, it actually works(!), but as this is an advanced topic, it is now hidden behind advanced mode</li>
					<li>the way services are deleted or completely reset is now changed to what should be a significantly faster and smaller operation</li>
					<li>the latest user-made nitter/twitter downloader is rolled in to the update. some little fixes and adds support for mobile.twitter.com url imports</li>
					<li>fixed an issue where uninitialised repositories thought they were caught up</li>
					<li>to reflect that it does nothing in this case, the mouse shortcut edit panel now disables the press/release choice on double-click or scroll</li>
					<li>fixed file save dialogs not filling in the default filename properly</li>
					<li>removed an old wx safety hack where new pages would silently not create while the client was minimised. this fixes issues with large session loading and subscriptions publishing files to page names that do not yet exist while the client is minimised</li>
					<li>removed an old wx safety hack where some tag lists would not regen their current tag display while the client was minimised</li>
					<li>in lieu of a future better bit of html subscription help that I link to from the subscription panel, the 'file limits' help button has temporarily briefer text so it doesn't make such a giant popup</li>
					<li>moving back to pyinstaller 3.5 (from 3.6) for the windows build, which appears to fix some dll loading for some users (issue #244)</li>
					<li>the windows and linux builds are updated to Qt 5.15 (from 5.13.2). it does not seem to have the odd problems 5.14 gave us. let me know if you have any trouble or if any weird graphical issues magically fix themselves</li>
					<li>.</li>
					<li>client api:</li>
					<li>the /get_files/file_metadata call has a new true/false parameter, 'detailed_url_information', default false, that adds 'detailed_known_urls' structure to list the known urls results as in /add_urls/get_url_info. it has a help example and a unit test and everything (issue #235)</li>
					<li>the client api version is now 13</li>
					<li>.</li>
					<li>boring cleanup details:</li>
					<li>reshuffled the shutdown code. now the controller takes the lead, booting splash as appropriate and commanding gui to save and close, and then proceeds to other shutdown</li>
					<li>fast and normal shutdown code is unified, just run differently</li>
					<li>shutdown calls should now always be idempotent</li>
					<li>a catch for some OS-level shutdown commands, normally user log-off, also hooks into the newer UI-free fast shutdown</li>
					<li>SIGINT and SIGTERM also hook better into the new shutdown, and are thread safe</li>
					<li>performing multiple SIGINTS on shutdown should no longer throw an error after the gui is deleted</li>
					<li>more potential startup/shutdown errors are now caught and presented to the user and saved to log, with subsequent shutdown urgency accelerated afterwards</li>
					<li>critical errors on a fast shutdown no longer present to the user--they just save to log</li>
					<li>updated how an emergency shutdown state is tested</li>
					<li>updated how a 'clean exit complete' state is set and tested</li>
					<li>various unusual shutdown states now skip human interaction and jump straight to guaranteed fast shutdown</li>
					<li>refactored splash window to its own file</li>
					<li>wrote a new qlistwidget subclass to do some common data storage/retrieval/selection. it will eventually replace most lists across the program</li>
					<li>the 'queue' list widget that has up/delete/down and add/edit buttons beside a list has nicer backend code and now initialises with its buttons correctly disabled due to no selection</li>
					<li>the similar 'add/edit/delete' list widget is updated to use the nicer backend</li>
					<li>some wx->Qt list hacks, which were themselves using borked old display-string-based indexing, are deleted</li>
					<li>the repository download/process daemon has been moved to the newer job scheduler. it should start up and close out on program exit a bit more neatly</li>
					<li>untangled some messy value-change radio button code in the shortcut edit panel</li>
					<li>updated the way page status text propagates up from the thumbnail grid to the main gui to Qt signals instead of the old inefficient pubsub</li>
					<li>all UI file hash clipboard copying code is now unified and improved</li>
					<li>added a new subscription file publish debug test to help->debug->gui</li>
					<li>refactored some client specific time delta rendering code out of core to client</li>
					<li>misc event cleanup code</li>
					<li>misc code style cleanup</li>
				</ul>
				<li><h3 id="version_401"><a href="#version_401">version 401</a></h3></li>
				<ul>
					<li>subscriptions:</li>
					<li>as subs can now load more flexibly, previously hardcoded waits are now eliminated:</li>
					<li>- the subscriptions manager now only waits three seconds after initial session load to boot (previously 15)</li>
					<li>- the subscriptions manager now wakes as soon as the subscriptions dialog is ok'd or cancelled</li>
					<li>- a timing calculation that would delay the work of a sub up to five or fifteen minutes if more queries would come due for sync in that time window (in order previously to batch to reduce read/write) is now eliminated--subs will now start as soon as any query is due. if you were ever confused why a query that seemed due did not boot after dialog ok or other wake-up event, this _should_ no longer happen</li>
					<li>re-added the import/export/duplicate buttons to manage subs. export and dupe may need to do db work for a couple of seconds and will have a yes/no confirmation on larger jobs</li>
					<li>the import button on manage subs accepts and converts the old 'legacy' subscription object format, including a copy/paste of the objects backed up to disk in the v400 update</li>
					<li>fixed an issue where creating a subscription query and then deleting it in the same manage subs dialog session would result in surplus data being written to the db (which the next dialog launch would note and clear out)</li>
					<li>an unusual error with pre-run domain checking, exposed by the new subscription code and e621 subs, where the gallery url has also recently changed, is now fixed</li>
					<li>.</li>
					<li>issue tracker:</li>
					<li>the Github issue tracker (https://github.com/hydrusnetwork/hydrus/issues) is turned on again! it is now run by a team of volunteer users. the idea is going to be to try to merge duplicate feature suggestions with the proper platform and put some discussion and cognition and prioritisation into idea development before it gets to my desk, so I can be more focused and productive and so 95% of feature suggestions do not simply get banished to the shadow realm of the back of my todo</li>
					<li>this is mostly intended for wishlist and other suggestions, as the tsunami was just getting too much for me to handle, but we'll see how it goes for things like bug reports as well. I'll still take any sort of report through my normal channels, if you are uncomfortable with github, or if you wish for me to forward an item to the issue tracker anonymously</li>
					<li>the website, help documents, and hydrus help menu links have been updated regarding the issue tracker</li>
					<li>.</li>
					<li>the rest:</li>
					<li>improved how the database 'update default downloader objects' job works, ensuring that new defaults are better at simply take the place of existing objects and do not break/reset existing url class to parser links</li>
					<li>tightened up how automatic url class to parser linking works, eliminating some surplus and potentially bad data related to api links. furthermore, whenever the links between url classes and parsers update, existing surplus data, which may creep in when api links change, is now cleaned from the data structure</li>
					<li>rolling out updated e621 url class and parser to deal with their alternate gallery url format</li>
					<li>rolling out an updated derpibooru parser that will link to the new api class correctly</li>
					<li>thanks to a user's submission, rolling out updated versions of the new default nitter parsers that pull creator:username tags</li>
					<li>before every subprocess launch, and when waiting for all subprocess communication (e.g. to ffmpeg), now tests regularly for program shutdown. if an unusual situation develops where a subscription is doing a file import job while the OS is shutting down, and that system shut down would hang or is hanging on a 'ffmpeg can't be launched now' dialog, the hydrus client should now notice this and bomb out, rather than going for that never-running ffmpeg. this may not fix all instances of this issue, and further feedback on the client not closing down cleanly with the OS is welcome.</li>
					<li>when adding a new path to the 'migrate database' panel, any symbolic links will be converted to canonical equivalents</li>
					<li>added some location checks and appropriate errors when the database is doing file storage rebalancing</li>
					<li>fixed an issue uploading swfs, video, or audio to the server when it is launched from a frozen executable build</li>
					<li>misc code cleanup</li>
				</ul>
				<li><h3 id="version_400"><a href="#version_400">version 400</a></h3></li>
				<ul>
					<li>subscription data overhaul:</li>
					<li>the formerly monolithic subscription object is finally broken up into smaller pieces, reducing work and load lag and total db read/write for all actions</li>
					<li>subscriptions work the same as before, no user input is required. they just work better now™</li>
					<li>depending on the size and number of your subscriptions, the db update may take a minute or two this week. a backup of your old subscription objects will be created in your db directory, under a new 'legacy_subscriptions_backup' subdirectory</li>
					<li>the manage subscriptions dialog should now open within a second (assuming subs are not currently running). it should save just as fast, only with a little lag if you decide to make significant changes or go into many queries' logs, which are now fetched on demand inside the dialog</li>
					<li>when subscriptions run, they similarly only have to load the query they are currently working on. boot lag is now almost nothing, and total drive read/write data for a typical sub run is massively reduced</li>
					<li>the 'total files in a sub' limits no longer apply. you can have a sub with a thousand queries and half a million urls if you like</li>
					<li>basic subscription data is now held in memory at all times, opening up future fast access such as client api and general UI editing of subs. more work will happen here in coming weeks</li>
					<li>if due to hard drive fault or other unusual situations some subscription file/gallery log data is missing from the db, a running sub will note this, pause the sub, and provide a popup error for the user. the manage subscription dialog will correct it on launch by resetting the affected queries with new empty data</li>
					<li>similarly, if you launch the manage subs dialog and there is orphaned file/gallery log data in the db, this will be noticed, with the surplus data then backed up to the database directory and deleted from the database proper</li>
					<li>subscription queries can now handle domain and bandwidth tests for downloaders that host files/posts on a different domain to the gallery search step</li>
					<li>if subs are running when manage subs is booted, long delays while waiting for them to pause are less likely</li>
					<li>some subscription 'should run?' tests are improved for odd situations such as subs that have no queries or all DEAD queries</li>
					<li>improved some error handling in merge/separate code</li>
					<li>the 'show/copy quality info' buttons now work off the main thread, disabling the sub edit dialog while they work</li>
					<li>updated a little of the subs help</li>
					<li>.</li>
					<li>boring actual code changes for subs:</li>
					<li>wrote a query log container object to store bulky file and gallery log info</li>
					<li>wrote a query header object to store options and cache log summary info</li>
					<li>wrote a file cache status object to summarise important info so check timings and similar can be decided upon without needing to load a log</li>
					<li>the new cache is now used across the program for all file import summary presentation</li>
					<li>wrote a new subscription object to hold the new query headers and load logs as needed</li>
					<li>updated subscription management to deal with the new subscription objects. it now also keeps them in memory all the time</li>
					<li>wrote a fail-safe update from the old subscription objects to the new, which also saves a backup to disk, just in case of unforeseen problems in the near future</li>
					<li>updated the subscription ui code to deal with all the new objects</li>
					<li>updated the subscription ui to deal with asynchronous log fetching as needed</li>
					<li>cleaned up some file import status code</li>
					<li>moved old subscription code to a new legacy file</li>
					<li>refactored subscription ui code to a new file</li>
					<li>refactored and improved sub sync code</li>
					<li>misc subscription cleanup</li>
					<li>misc subscription ui cleanup</li>
					<li>added type hints to multiple subscription locations</li>
					<li>improved how missing serialisable object errors are handled at the db level</li>
					<li>.</li>
					<li>client api:</li>
					<li>the client api now delivers 'is_inbox', 'is_local', 'is_trashed' for 'GET /get_files/file_metadata'</li>
					<li>the client api's Access-Control-Allow-Headers CORS header is now '*', allowing all</li>
					<li>client api version is now 12</li>
					<li>.</li>
					<li>downloaders:</li>
					<li>twitter retired their old api on the 1st of June, and there is unfortunately no good hydrus solution for the new one. however thanks to a user's efforts, a nice new parser for nitter, a twitter wrapper, is added in today's update. please play with it--it has three downloaders, one for a user's media, one for retweets, and one for both together--and adjust your twitter subscriptions to use the new downloader as needed. the twitter downloader is no longer included for new hydrus users</li>
					<li>thanks to a user's submission, fixed the md5 hash fetching for default danbooru parsers</li>
					<li>derpibooru gallery searching _should_ be fixed to use their current api</li>
					<li>.</li>
					<li>the rest:</li>
					<li>when the client exits or gets a 'modal' maintenance popup window, all currently playing media windows will now pause</li>
					<li>regrettably, due to some content merging issues that are too complicated to improve at the moment, the dupe filter will no longer show the files of processed pairs in the duplicate filter more than once per batch. you won't get a series of AB, AC, AD any more. this will return in future</li>
					<li>the weird bug where double-clicking the topmost recent tags suggestion would actually remove the top two items _should_ be fixed. general selection-setting on this column should also be improved</li>
					<li>middle-clicking on a parent tag in a 'write' autocomplete dropdown no longer launches a page with that invalid parent 'label' tag included--it just does the base tag. the same is true of label tags (such as 'loading...') and namespace tags</li>
					<li>when changing 'expand parents on autocomplete' in the cog button on manage tags, the respective autocomplete now changes whether it displays parents</li>
					<li>this is slightly complicated: a tag 'write' context (like manage tags) now presents its autocomplete tags (filtering, siblings, parents) according to the tag service of the parent panel, not the current tag service of the autocomplete. so, if you are on 'my tags' panel and switch to 'all known tags' for the a/c, you will no longer get 'all known tags' siblings and parents and so on presented if 'my tags' is not set to take them. this was sometimes causing confusion when a list showed a parent but the underlying panel did not add it on tag entry</li>
					<li>to reduce blacklist confusion, when you launch the edit blacklist dialog from an edit tag import options panel, now only the 'blacklist' tab shows, the summary text is blacklist-specific, and the top intro message is improved. a separate 'whitelist' filter will be added in the near future to allow downloading of files only if they have certain tags</li>
					<li>'hard-replace siblings and parents' in _manage tags_ should now correctly remove bad siblings when they are currently pending</li>
					<li>network->downloaders->manage downloader and url display now has a checkbox to make the media viewer top-right hover show unmatched urls</li>
					<li>the '... elide page tab names' option now applies instantly on options dialog ok to all pages</li>
					<li>added 'copy_bmp_or_file_if_not_bmpable' shortcut command to media set. it tries copy_bmp first, then copy_file if not a static image</li>
					<li>fixed some edit tag filter layout to stop long intro messages making it super wide</li>
					<li>fixed an issue where tag filters could accept non-whitespace-stripped entries and entries with uppercase characters</li>
					<li>fixed a display typo where the 'clear orphan files' maintenance job, when set to delete orphans, was accidentally reporting (total number of thumbnails)/(number of files to delete) text in the file delete step instead of the correct (num_done/num_to_do)</li>
					<li>clarified the 'reset repository' commands in review services</li>
					<li>when launching an external program, the child process's environment's PATH is reset to what it was at hydrus boot (removing hydrus base dir)</li>
					<li>when launching an external program from the frozen build, if some Qt/SSL specific PATH variables have been set to hydrus subdirectories by pyinstaller or otherwise, they are now removed. (this hopefully fixes issues launching some Qt programs as external file launchers)</li>
					<li>added a separate requirements.txt for python 3.8, which can't handle PySide2 5.13.0</li>
					<li>updated help->about to deal better with missing mpv</li>
					<li>updated windows mpv to 2020-05-31 build, api version is now 1.108</li>
					<li>updated windows sqlite to 3.32.2</li>
				</ul>
				<li><h3 id="version_399"><a href="#version_399">version 399</a></h3></li>
				<ul>
					<li>improvements:</li>
					<li>the media viewer and thumbnail _right-click->manage_ menus now have a _viewing stats->clear_ action, which does a straight-up delete of all viewing stats record for the selected files. 'edit' will be added to this menu in future</li>
					<li>extended the tag autocomplete options with a checkbox to allow 'namespace:' to match all tags, without the explicit asterisk</li>
					<li>tag autocomplete options now permit namespace searches if the 'search namespaces into full tags' option is set</li>
					<li>the tag autocomplete options panel now disables and checks the namespace checkboxes when one option overrules another</li>
					<li>cleaned up some tag search logic to recognise and deal with 'namespace:' as a query</li>
					<li>added some more unit tests for tag autocomplete options</li>
					<li>the html and json parsing formulae now support negative indexing, to select the nth last item from a list</li>
					<li>extended the '1 -> "1st"' ordinal string conversion code to deal with negative indices</li>
					<li>the 'hide tag' taglist menu actions are now wrapped in yes/no dialogs</li>
					<li>reduced the activation-to-click-accept time that the shortcuts handler uses to ignore activating clicks from 100ms to 17ms</li>
					<li>clicking the media viewer's top hover window's zoom buttons now forces the 'media viewer center' zoom centerpoint, so if you have the mouse centerpoint set, it won't zoom around the button where you are clicking!</li>
					<li>added a simple 8chan.moe watcher to the defaults, all users will get it on update</li>
					<li>the default bandwidth rules for download pages, subs, and watchers are now more liberal. only new users will get these. various improvements to db and ui update pipeline mean the enforced breaks are less needed</li>
					<li>when a manage tags dialog moves to another media, if it has a 'recent tags' suggestion list with a selection, the selection now resets to the top item in the list</li>
					<li>the mpv player now tracks when a video is fully loaded and only reports seek bar info and allows seeks when this is so (this should fix some seekbar errors on broken/slow-loading vids)</li>
					<li>added 'undelete_file' to media shortcut commands</li>
					<li>file delete and undelete are no longer hardcoded in the media viewer and media thumbnail grid. these actions are now handled entirely in the media shortcut set, and added to all clients by default (this defaults to (shift +) delete key, and also backspace on macos, so likely no changes)</li>
					<li>ctrl+mouse wheel is no longer hardcoded to zoom in the media browser. these actions are now handled entirely in the 'all' media viewer shortcut set (this defaults to ctrl+wheel or +/-, so likely no changes)</li>
					<li>deleted some old shortcut processing code</li>
					<li>tightened up some update timers to better halt work while the client is minimised to system tray. this _may_ improve some users' restore hanging issues</li>
					<li>as Qt is happier than wx about making pages on a non-visible client, subscriptions and various url import operations are now permitted to create pages while the client is minimised to taskbar or system tray. if this applies to your situation, please let me know how you get on here, as this may relieve some restore hanging as the pending new-file jobs are no longer queued up</li>
					<li>.</li>
					<li>fixes:</li>
					<li>clicks on hover window greyspace should no longer propagate up to the media viewer. this was causing weird archive/delete filter actions</li>
					<li>mouse scroll on hover window taglist should no longer propagate up to the media viewer when the taglist has no more to scroll in that direction</li>
					<li>fixed an issue that meant preview windows were initialising about twenty pixels too short for the first page loaded in a session, and also pages created within nested page of pages. also cleaned up some logic for unusual situations like hidden preview windows. one more cycle of closing and reopening the client will fix the option value here</li>
					<li>cleaned and unified some page sash setting code, also improving the 'hide preview window' option reliability for advanced actions</li>
					<li>fixed a bug that meant file viewtime was still being recorded on the duplicate filter when the special exception option was off</li>
					<li>reduced some file viewtime manager overhead</li>
					<li>fixed an issue with database repair code when local_tags_cache is missing</li>
					<li>fixed an issue updating a very old db not recognising that local_tags_cache does not yet exist for proper reason and then trying to repair it before update code runs</li>
					<li>fixed the annoying issue introduced in the recent string match overhaul where a 'fixed character' string match edit panel would not want to ok if the (now hidden) example string input did not have the same fixed char data. it now validates no matter what is in the hidden input</li>
					<li>potentially important parsing fix: JSON parsing, when set to get strings, no longer converts a 'null' value to 'None'</li>
					<li>the JSON parsing formula now allows you to select the nth indexed item of an Object (a JSON key->value dictionary). due to technical limitations, it alphabetises the keys, not selecting them as-is in the JSON itself</li>
					<li>images that do not load in PIL no longer cause mime exceptions if they are run through the decompression bomb check</li>
					<li>.</li>
					<li>misc:</li>
					<li>boosted the values of the decompression bomb check anyway, to reduce false positives. it generally now has a problem with images with a bmp > 1GB memory</li>
					<li>by default, new file import options now start with decompression bombs allowed. this option is being reduced to a stopgap for users with less memory</li>
					<li>'MimeException' is renamed to 'UnsupportedFileException'</li>
					<li>added 'DamagedOrUnusualFileException' to handle normally supported files that cannot be parsed or loaded</li>
					<li>'SizeException' is split into 'TagSizeException' and 'FileSizeException'</li>
					<li>improved some file exception inheritance</li>
					<li>removed the 'experimental' label from sub-gallery page url type in parsing system</li>
					<li>updated some advanced help regarding bad files</li>
					<li>misc help updates</li>
					<li>updated cloudscraper to 1.2.40</li>
				</ul>
				<li><h3 id="version_398"><a href="#version_398">version 398</a></h3></li>
				<ul>
					<li>new tag search options:</li>
					<li>there are several new options for tag autocomplete under the newly renamed _services->tag display and search_:</li>
					<li>for 'manage tags'-style 'write' autocompletes, you can now set which file service and tag service each tag service page's autocomplete starts with (e.g. some users have wanted to say 'start my "my tags" service looking at "all known files" and "ptr"' to get more suggestions for "my tags" typing). the default is 'all known files' and the same tag service</li>
					<li>the old blanket 'show "all known files" in write autocompletes' option under _options->tags_ is removed</li>
					<li>you now can enable the following potentially very slow and expensive searches on a per-tag-domain basis:</li>
					<li>- you can permit namespace-autocompleting searches, so 'ser' also matches 'ser*:*', i.e. 'series:metroid' and every other series tag</li>
					<li>- you can permit 'namespace:*', fetching all tags for a namespace</li>
					<li>- you can permit '*', fetching all tags （╬ಠ益ಠ)</li>
					<li>'*' and 'namespace:*' wildcard searches are now significantly faster on smaller specific tag domains (i.e. not "all known tags")</li>
					<li>short explicit wildcard searches like "s*" now fire off that actual search, regardless of the 'exact match' character threshold</li>
					<li>queries in the form "*:xxx" are now replaced with "xxx" in logic and display</li>
					<li>improved the reliability of various search text definition logic to account for wildcard situations properly when doing quick-enter tag broadcast and so on</li>
					<li>fixed up autocomplete db search code for wildcard namespaces with "*" subtags</li>
					<li>simplified some autocomplete database search code</li>
					<li>.</li>
					<li>string processing:</li>
					<li>the new string processor is now live. all parsing formulae now use a string processor instead of the string match/transformer pair, with existing matches and transformers that do work being integrated into the new processor</li>
					<li>thus, all formulae parsing now supports the new string splitter object, which allows you to split '1,2,3' into ['1','2','3']</li>
					<li>all formulae panels now have the combined 'string processing' button, which launches a new edit panel and will grow in height to list all current processing steps</li>
					<li>the stringmatch panel now hides its controls when they are not relevent to the current match type. also, setting fixed match type (or, typically, mouse-scrolling past it), no longer resets min/max/example fields)</li>
					<li>the string conversion step edit panel now clearly separates the controls vs the test results</li>
					<li>improved button and summary labelling for string tools across the program</li>
					<li>some differences in labelling between string 'conversion' and 'transformation' are unified to 'conversion' across the program</li>
					<li>moved the test data used in parsing edit panels to its own object, and updated some of the handling to support passing up of multiple example texts</li>
					<li>the separation formula of a subsidiary page parser now loads with current test data</li>
					<li>the string processing panel loads with the current test data, and passes the first example string of the appropriate processing step to its sub-panels. this will be expanded in future to multiple example testing for each panel, and subsequently for note parsing, multiline testing</li>
					<li>added safety code and unit tests to test string processing for hex/base64 bytes outcomes. as a reminder, I expect to eliminate the bytes issue in future and just eat hashes as hex</li>
					<li>cleaned up a variety of string processing code</li>
					<li>misc improvements to string processing controls</li>
					<li>.</li>
					<li>the rest:</li>
					<li>double-clicking a page tab now opens up the rename dialog</li>
					<li>system:time imported now has quick buttons for 'since 1/7/30 days ago'</li>
					<li>all hydrus downloaders now accept percent-encoded characters in the query field, so if you are on a site that has tags with spaces, you can now enter a query like "simple%20background red%20hair" to get the input you want. you can also generally now paste encoded queries from your address bar into hydrus and they should work, with the only proviso being "%25", which is "%", when all bets are off</li>
					<li>duplicates shut down work (both tree rebalancing and dupe searching) now quickly obeys the 'cancel shutdown work' splash button</li>
					<li>fixed a signal cleanup bug that meant some media windows in the preview viewer were hanging on to and multiplying a 'launch media' signal and a shortcut handler, which meant double-clicking on the preview viewer successively on a page would result in multiple media window launches</li>
					<li>fixed an issue opening the manage parsers dialog for users with certain unusual parsers</li>
					<li>fixed the 'hide the preview window' setting for the new page layout method</li>
					<li>updated the default gelbooru gallery page parser to fix gelb gallery parsing</li>
					<li>updated the newgrounds parser to the latest on the github. it should support static image art now</li>
					<li>if automatic vacuum is disabled in the client, forced vacuum is no longer prohibited</li>
					<li>updated cloudscraper for all builds to 1.2.38</li>
					<li>.</li>
					<li>boring code cleanup:</li>
					<li>all final mouse event processing hackey is removed from the media viewers, and the shortcut system is now fully responsible. left click (now with no or any modifier) is still hardcoded to do drag but does not interfere with other mapped left-click actions</li>
					<li>the duplicates filter no longer hardcodes mouse wheel to navigate--whatever is set for the normal browser, it now obeys</li>
					<li>cleaned up some mouse move tracking code</li>
					<li>clicking to focus an unfocused media viewer window will now not trigger the associated click action, so you can now click on archive/delete filters without moving on!</li>
					<li>the red/green on/off buttons on the autocomplete dropdown are updated from the old wx pubsub to Qt signalling</li>
					<li>updated wx hacks to proper Qt event processing for splash window, mouse move events in the media viewer and the animation scanbar</li>
					<li>cleaned up how some event filtering and other processing propagates in the media viewer</li>
					<li>deleted some old unused mouse show/hide media viewer code</li>
					<li>did some more python imports cleanup</li>
					<li>cleaned up some unit test selection code</li>
					<li>refactored the media code to a new directory module</li>
					<li>refactored the media result and media result cache code to their own files</li>
					<li>refactored some qt colour functions from core to gui module</li>
					<li>misc code cleanup</li>
				</ul>
				<li><h3 id="version_397"><a href="#version_397">version 397</a></h3></li>
				<ul>
					<li>regular changelog:</li>
					<li>added 'system:has/has no note with name xxx' to search for specific note names</li>
					<li>in the normal system predicate list, the notes pred is now the generic 'system:notes' to launch a combined dialog for both num notes and named notes</li>
					<li>favourite tag suggestions are now sorted in manage tags dialog according to the default tag sort</li>
					<li>page names will now middle...elide when there are too many to fit into a row (and normally left/right buttons would be added). if the elided tabs still do not fit, the buttons will pop up as before. added a checkbox to options->gui pages to turn this text eliding off</li>
					<li>pulled the 'page name' options on that panel into their own box and added some text regarding the 'my big row of import page tabs keeps scrolling weird' issue</li>
					<li>when files are pixel duplicates, the filesize and age comparison statements will now have 0 score and thus be coloured neutral blue</li>
					<li>the standard text entry dialog now always selects any default text it starts with, so you can now type to immediately overwrite. see how you like it and if there are some places where you think an exception should be made</li>
					<li>updated the IPFS interface to work with the new IPFS 5.0. all api requests are now POST so it doesn't 405, and the User-Agent is overridden to one that IPFS will not 403 at, and I fixed a typo the new api is more strict about</li>
					<li>a hack to get page splitters to lay out correctly on session load is rewritten from a hammer to a scalpel. pages now set their splitter positions on their first individual visible selection. this both reduces some minor ui lag on session/page load and improves splitter positions for clients that open minimised to the system tray</li>
					<li>a long-time odd issue where loaded sessions would initially select the top-left-most non-page of pages is fixed. now the bottom-left-most page of any kind is selected</li>
					<li>fixed tag autocomplete selecting the bottom-most pre-loading result. it now correctly selects at the top</li>
					<li>fixed an issue setting certain values (typically loading a default) to a tag import options panel</li>
					<li>the client is now more aggressive about clearing subscriptions from memory when they are finished running</li>
					<li>in windows, the main method that copies files now checks for modified time of the source file. if it is before 1980-01-01 UTC, it does not copy the file metadata, as some Windows has trouble with this lmaoooo</li>
					<li>cleaned up how some thumbnail 'current focus' media determination code works. should have fixed some weird errors when hitting certain shortcuts on collections</li>
					<li>cleaned up basic list/sort code across the program</li>
					<li>the 'queue' and add/edit/delete listboxes now emit change signals when new items are added or imported</li>
					<li>pyparsing, a helper for cloudscraper, is now correctly bundled in the built releases. a new line in help->about displays this</li>
					<li>help->about now lists cloudscraper version</li>
					<li>updated the discord link to the new https://discord.gg/wPHPCUZ</li>
					<li>.</li>
					<li>upcoming string processing changes for advanced users:</li>
					<li>I extended string parsing code this week, but I am not yet ready to turn it on. when it does come on, it will change all formulae from the fixed string match/converter pair a combined general string processing 'script' of n steps</li>
					<li>wrote a new 'string splitter' object that takes one strings and splits it into up to n strings based on a separator phrase (such as ' ,')</li>
					<li>wrote an edit panel for string splitters</li>
					<li>wrote a new 'string processor' object that holds n ordered string match/converter/splitter objects and filters/converts/splits x strings into y strings based on those steps</li>
					<li>wrote an edit panel for string processors. it has a notebook that live updates with test results for each step on every update</li>
					<li>wrote unit tests for string match</li>
					<li>wrote unit tests for string converter</li>
					<li>wrote unit tests for string splitter</li>
					<li>wrote unit tests for string processor</li>
					<li>refactored string conversion edit panels to their own file</li>
					<li>refactored string conversion controls to their own file</li>
					<li>misc string processing cleanup and labelling improvements</li>
					<li>.</li>
					<li>technical url parsing stuff:</li>
					<li>urls are now stripped of leading and trailing whitespace during normalisation, just in case a paste contains some extra whitespace. previously, it would sometimes throw a 'doesn't start with http' error</li>
					<li>the hydrus url normalisation process now normalises the hostname according to the NKFC unicode format, meaning unusual characters like ？and e◌́ are now replaced with their normalised visual equivalent ? and é, and hence these urls will no longer throw errors when they are added</li>
					<li>if '?' or '#' end up in a hostname (which are invalid characters), it is now converted to _, just to stop complete parse mangling when weird urls are submitted. this character replacement may become more sophisticated in future</li>
					<li>the hydrus downloader should now support search terms that include '#'</li>
					<li>download query parameters that contain '%23' ('#', encoded) are now not unquoted in url normalisation</li>
				</ul>
				<li><h3 id="version_396"><a href="#version_396">version 396</a></h3></li>
				<ul>
					<li>notes:</li>
					<li>the file notes system is more mature. files now store multiple named notes</li>
					<li>the edit notes ui is now a tabbed window with add/edit_name/delete buttons</li>
					<li>media results now load with their notes, so note access is instant</li>
					<li>thumbnails now show a notes icon when they have notes</li>
					<li>the media viewer top-right area shows a notes icon when the current file has notes</li>
					<li>clicking the media viewer top-right notes icon opens edit notes</li>
					<li>the edit notes menu entry now lists the number of current notes if there are notes</li>
					<li>added a 'system:number of notes' predicate. it has easy 'has/no notes' buttons for quick filtering</li>
					<li>the file notes database table will be updated on update, it shouldn't take long. existing notes will get the default 'notes' name</li>
					<li>duplicate notes now share the same storage space in the database</li>
					<li>in prep for a future search expansion, notes are now cached in the database for fast text search</li>
					<li>in prep for note parsing, wrote a 'note import options' object. it doesn't do anything in the program yet, but it supports multiple note conflict resolutions, note extension detection, and global and specific note renaming</li>
					<li>wrote unit tests for the new note import options</li>
					<li>.</li>
					<li>some tag search stuff:</li>
					<li>hydrus now maintains an internal mapping of direct 'searchable' versions of tags to the tags themselves, which allows it to now do fast exact-match (short search) and complicated wildcard lookups of tags with unusual characters. 'f' and '/f/' will now return '/f/' and 'board:/f/' quickly, 'board:f' and 'board:/f/' will return 'board:/f/' quickly, and 'te&ast;a&ast;' will correctly return 'test-tag'</li>
					<li>it will take a few minutes to regenerate this new cache on update</li>
					<li>complex wildcards like 's&ast;m&ast;' are now treated the same as simple ones like 'sam&ast;' and should match unusual subtag characters in all cases</li>
					<li>wildcard tag file search predicates are now plugged into the new cache, so the search preds '/f/&ast;', 'board:/f/', 'board:/f/ast;', 'b&ast;d:/f/' and 'b&ast;d:/f/&ast;' now all match files with 'board:/f/', as do wildcards that include replacement characters, so the same should be true above for 'f' instead of /f/' in all cases</li>
					<li>new wildcard search preds do not collapse their characters for their presentation string, so 'date:2&ast;-01-01' now renders like that, not 'date:2&ast; 01 01'</li>
					<li>wildcard file search predicates are now faster for simple (just an asterisk on the end) subtag wildcards</li>
					<li>the fts search cache is moved from 'master' to 'caches' db this week, it will take a few moments on update</li>
					<li>the 'repopulate tag search cache' db regen job now repopulates the fts cache, the new 'searchable' cache, and the integer tag cache</li>
					<li>the database repair code now checks for the fts cache and new 'searchable' cache on boot and, if they are missing, warns the user and creates empty tables</li>
					<li>.</li>
					<li>improvements:</li>
					<li>fixed the unsorted tags in tag suggestion boxes</li>
					<li>clicking the inbox icon in the top-right hover window now archives the file</li>
					<li>system:dimensions now has quick buttons for 16:9, 9:16, 4:3, 1:1, 1080p, 720p, and 4k</li>
					<li>system:known url searches are now better about fetching www and non-www urls for the domain or url class</li>
					<li>the edit shortcut sets panel now has nicer english names for reserved shortcut sets, and also sorts them in a more logical way</li>
					<li>you no longer have to be in advanced mode to copy file hashes from thumbnails</li>
					<li>users in advanced mode can copy the internal file_id of files from the thumbnail/viewer copy menus (this is most useful for the client api)</li>
					<li>system num_frames, num_words, and num_notes now display alternate 'has/no xxx' labels when they search for =0 or >0</li>
					<li>you can now search for 0 with system:num_frames</li>
					<li>.</li>
					<li>fixes:</li>
					<li>users who could restore from system tray using the menu but had trouble with clicking _should_ now have better luck with clicking</li>
					<li>fixed some instances where fps could be calculated as 0, which would lead to other problems down the line. now a missing or 0 fps is remapped to 1</li>
					<li>fixed system:framerate for '&lt;' queries</li>
					<li>the status bar cells now get expanded tooltips to describe what they do</li>
					<li>fixed some media result caching code that could in rare cases cause an error in content update processing when the result disappeared from the cache during processing</li>
					<li>the 'hard-replace siblings and parents' button on 'manage tags' now makes a submenu so its actions' long labels show better</li>
					<li>fixed a handful of tables that were not starting sorted</li>
					<li>a variety of credential parse and other server failures that were formerly returning 403 now properly return 400 and 409</li>
					<li>in order to improve default 'open externally' behaviour on Linux/macOS, if the environment variable XDG_DATA_DIRS is not preserved through a hydrus build launch env, hydrus now sets a simple 'default' value for this before running xdg-open</li>
					<li>if the client is booted from a windows shortcut to a built release, the program restart command is slightly more reliable</li>
					<li>.</li>
					<li>misc:</li>
					<li>cleaned up some db update error reporting code, it should now more reliably make an english-friendly popup text box before splurging technical info</li>
					<li>refactored some media object code, cleaned some class definitions, and added typing hints</li>
					<li>misc code cleanup</li>
					<li>the 'getting started' help files now have anchor definitions, so their sections can now be #linked to</li>
					<li>added several links in the 'getting started' help to the user-created video guides here: https://github.com/CuddleBear92/Hydrus-guides thank you for making these!</li>
					<li>added a link to the help for the user-made 'other archiving software' guide here: https://github.com/CuddleBear92/Hydrus-Presets-and-Scripts/wiki/0-Alternative-Programs-and-Resources#software thank you for making this!</li>
					<li>fixed link to AUR package in the help</li>
					<li>updated cloudscraper in all builds to 1.2.36</li>
					<li>updated windows mpv to a significantly newer dll, it now reports api version 1.108</li>
					<li>included libgpg-error.so.0 in Linux build, which will improve some Linux situations (more reports from Ubuntu 20.04 or others about missing/conflicting .so files are welcome)</li>
				</ul>
				<li><h3 id="version_395"><a href="#version_395">version 395</a></h3></li>
				<ul>
					<li>some more suggested tags fixes/qol:</li>
					<li>favourite tags now correctly refreshes on new media</li>
					<li>the tag suggestion lists in manage tags now discard current and pending tags that _all_ the current media already have, and all tag suggestion lists update this filter any time the media gets a tag content update! they _should_ update live now</li>
					<li>all tag and predicate taglists now try to move the selection to a 'nice' neigbour when a keyboard enter activation results in the current selection being removed (e.g. as in these tag suggestion lists). the nice selection should be the tag after, before, or at the top of the list, and should make it nicer to keep navigating the list and add tags with your keyboard</li>
					<li>all tag and predicate taglists now try to preserve selection on simple clear-and-set data refreshes</li>
					<li>.</li>
					<li>deleted tags overwrite update:</li>
					<li>due to an unfortunate oversight, until now tag parsing has not filtered out previously deleted tags from the tags it parses and sends to the local database</li>
					<li>as the majority of downloaded files are parsed once per site per user and in a similar time window before manual editing ever occurs, and most non-tag-sibling-eligible bad tags are site specific or not parsed to begin with, and as these undesired tags were not broadcast up to the tag repository, this problem has not been very obvious and I believe has not affected most users too much. this is however a reason why some users who have more recently downloaded many older files are seeing smaller 'deleted mappings' counts on their ptr review panel (and some low quality tags in their db), as they have been re-adding previously deleted tags to their local store</li>
					<li>this has been fixed. tag import options now load the pending importee file's metadata before tags are filtered and discard currently deleted tags from those to be added or pended. this applies to parsed tags, additional tags, and those tags added through special other means, such as from a parent gallery page. </li>
					<li>if you do wish to allow parsed or additional tags to overwrite currently deleted tags for a particular job, the cog icons on the edit tag import options panel now allow you to permit overwrite for either</li>
					<li>tags added via hard drive imports or the migrate tags tool still overwrite deleted tags as before</li>
					<li>as this is a local-only problem, there is thankfully a retroactive fix for this issue for tag repository domains, involving a content reprocess run to re-apply deleted tags. I am not activating this automatically this week as this is a heavy job for the ptr and I need to study the true fallout of the problem more, but I may in future, likely as a smaller and more targeted maintenance job. advanced users can do it now under the ptr's review services panel</li>
					<li>I regret missing this, and I am sorry for any inconvenience. I only discovered it through the serendipity of some users recently reporting unusual deleted counts and a personal item in my todo to check the reliability of deleted mapping filtering for local tag domains--turns out it never got added, and we never specifically noticed, fugg</li>
					<li>there are now unit tests for the improved tag filtering pipeline and both of these new overwrite options</li>
					<li>.</li>
					<li>the rest:</li>
					<li>hydrus can now use several different zoom 'centerpoints' about which to expand and shrink a zooming file. this was previously hardcoded to the center of the media. under options->media, you can now set it to be the media window center (the new default, which feels much nicer after a pan), the mouse cursor, the old media center, or the media top-left corner</li>
					<li>cleaned up the related zoom positioning code, and removed the jarring old re-centering off-screen rescue hack when zooming out to canvas zoom</li>
					<li>added a warning about big zooms to the media options page</li>
					<li>fixed tag autocomplete filtering in python 3.7 so 'character:aran' matches 'character:samus aran' again</li>
					<li>when the hover windows on a media viewer have focus, they _should_ now pass up all options->shortcuts shortcuts to the media viewer</li>
					<li>mouse back/forward buttons _should_ now be supported in the shortcuts system, as much as your OS allows them to work like regular clicks</li>
					<li>fixed a rare crash with the 'clear trash' button</li>
					<li>the client will now not re-analyze tables that have been previously scanned with at least 100k rows in the normal 'soft' maintenance cycle, as this is an expensive operation with limited benefit</li>
					<li>the client will now not vacuum database files greater than 1GB in the normal 'soft' maintenance cycle, as this is an expensive operation with limited benefit</li>
					<li>the new 'cannot vacuum because xxxx' log entry is now only ever printed once per boot. however due to the above change, it likely won't appear in the normal maintenance cycle anyway now</li>
					<li>cleaned up some vacuum code</li>
					<li>reworked the panel system to better test data validity vs 'woah, you sure you want to do this?' tests and generally cleaned and simplified the canok/cancancel/isvalid testing logic for all panels. panels like manage siblings will now not produce two message boxes if you try to ok them on an uncommited pair and then back out of the ok</li>
					<li>refactored the top level window code and improved scrollable panel code typing</li>
					<li>more standalone gui function code refactoring</li>
					<li>fixed a click-selection-test bug when clicking on certain whitespace in certain predicate lists</li>
					<li>the text of the cloudflare-specific error when encountering a captcha page is improved</li>
					<li>cleaned up some tag list menu copy and select code, both the menu labels and the copy action, for unusual tags. the 'copyable tags' fetching code is now flexible and unified for menu and action</li>
					<li>cleaned up the taglist sibling copy code, eliminating the chance of dupes</li>
					<li>fixed a _little_ of the wording on the discard/exclude tag list menu labels for negated predicates, it still feels a bit awkward and I will keep working here</li>
					<li>cleaned up some old media metadata fetching code</li>
					<li>misc import code typing</li>
					<li>misc list/iterable typing improvements</li>
					<li>added some misc media-tag tool code</li>
					<li>unified the tag import options tag filtering pipeline somewhat to deal with the deleted overwrite situation</li>
					<li>improved a debug ui test to no longer need window focus</li>
					<li>misc help cleanup</li>
				</ul>
				<li><h3 id="version_394"><a href="#version_394">version 394</a></h3></li>
				<ul>
					<li>autocomplete cleanup:</li>
					<li>the text you type into tag autocomplete is now parsed in a unified object. all the variants of empty text, invalid text, valid text, namespace text, and wildcard text are all tested and fetched in one simple location with better code</li>
					<li>autocomplete results caching is now a unified object that tracks and filters results in one location. wildcard searches are now never cached by accident, and switching from tag cache to system predicate cache and to non-initialised cache is instant and more reliable</li>
					<li>when an autocomplete, either in a search page or a context that manages tags, has results include multiple sibling variants of the typed text, they are now all elevated to the top of the list. the ideal is at the top, the entered text is next, and any known siblings follow</li>
					<li>the search character 'collapse' that ensures quote marks and hyphens and other odd characters are unified across tags now applies uniformly to all non-complicated-wildcard search tags, with namespace not collapsed and subtag always collapsed</li>
					<li>when entering an explicit wildcard search, both strict and autocomplete versions (whether they end with an asterisk) are now displayed</li>
					<li>the way tag results are filtered is now more accurate for some unusual wildcards</li>
					<li>it is now more difficult to slip cpu-killer search tags (weird asterisk combinations) through</li>
					<li>the quick-broadcast that happens when the user hits enter before any results have started loading now uses the unified object and chooses a safer and more reliable broadcast value. the test whether to do the quick-broadcast is also more reliable, particularly in unusual situations where a recent search was cancelled or delayed. note that for many users, the cache and search tech is fast enough that this very rarely triggers</li>
					<li>searching with a wildcard below the autocomplete threshold can no longer trigger a full search, nor an invalid exact-text search</li>
					<li>namespace count merging is now unified across db tag fetches and media fetches</li>
					<li>include current/pending buttons now filter down to media-based tag autocomplete counts</li>
					<li>namespace tag autocomplete queries will no longer show up some unusual siblings below the 'anything' tag</li>
					<li>deleted a whole bunch of old a/c and caching code</li>
					<li>added comprehensive unit tests for the new parsed autocomplete text object</li>
					<li>added comprehensive unit tests for the new predicate results cache object</li>
					<li>.</li>
					<li>the rest:</li>
					<li>fixed a stupid typo bug in the new domain checking code that was stopping subscriptions with incomplete file queues from starting. I apologise for this</li>
					<li>network error responses 502 (Bad Gateway) and 503 (Service Unavailable) are now treated as a retryable. the 503 is assuming it is not a CF challenge page. if they fail all retries, they are considered a network infrastructure error</li>
					<li>all other misc 5xx http responses are now treated as instant network infrastructure errors and will be logged in the new domain health tracker</li>
					<li>the exit splash screen now opens a bit earlier, so you now shouldn't have any momentary uncertainty where no windows are open</li>
					<li>clients that start minimised to system tray _should_ be better about restoring splitter positions on first show</li>
					<li>the various 'management panels', the panels on the left of main gui pages, now have smaller minimum width where available. the gallery and watcher panels are still the widest, which is a limitation of the current list tech. when it gets better column sizing code and selection memory, this will improve</li>
					<li>fixed an issue loading gifs with some OpenCV versions</li>
					<li>brushed up some running from source help</li>
					<li>deleted the Py2To3 script that attempts to detect a legacy python 2 install</li>
					<li>improved all the gui files' import order</li>
					<li>cleaned up and refactored some subscription code</li>
					<li>added a bunch of type hints to edit panel code</li>
					<li>misc code cleanup</li>
					<li>.</li>
					<li>environment updates:</li>
					<li>did second step of hydrus project structure improvement--now the project is split into subdirectories for core/client/server/misc and some client subdirs. work here will continue</li>
					<li>linux build gets some new libraries, cv is up to 4.2.0</li>
					<li>it isn't important, but hydrus is now built in python rather than directly from command line. my build scripts now include cloudscraper and the new hydrus source code tree in the build as they are, rather than hardcoded copying</li>
				</ul>
				<li><h3 id="version_393"><a href="#version_393">version 393</a></h3></li>
				<ul>
					<li>cloudflare and network:</li>
					<li>the hydrus client now has an experimental hook to the cloudscraper module, which is now an optional pip module for source users and included in all built releases. if a CF challenge page is downloaded, hydrus attempts to detect and solve it with cloudscraper and save the CF cookies back to the session before reattempting the request. all feedback on this working/breaking irl would be welcome. current expectation for this prototype is it can pass the basic 'wait five seconds' javascript challenge, but only a handful of the more complicated captcha ones</li>
					<li>if a CF challenge page is not solvable, the respective fail reason for that URL will be labelled appropriately about CloudFlare and have more technical information</li>
					<li>.</li>
					<li>the hydrus network engine now has the capability to remember recent serious network infrastructure errors (no connection, unsolvable cloudflare problem, etc..) on a per domain basis. if many serious errors have happened on a domain, new jobs will now wait until they are clear. this defaults to three or more such errors in the past ten minutes, and is configurable (and disableable) under options->connection. this will be built out to a flexible system in future, with per-domain options+status ui to see what's going on and actions to scrub delays</li>
					<li>basically, if a server or your internet connection goes down, hydrus now throttles down to limit the damage</li>
					<li>subscriptions now test if a domain is ok in order to decide whether they can start or continue file work, just like with bandwidth</li>
					<li>serverside bandwidth alerts (429 or 509) are now classified as network infrastructure errors</li>
					<li>I expect this system will need more tuning</li>
					<li>.</li>
					<li>the hydrus downloader system now recognises when an expected parseable document is actually an importable file. when this is true, the file is imported. this hopefully solves the situation where a site may deliver a post url or a file</li>
					<li>.</li>
					<li>the rest:</li>
					<li>the windows build of hydrus is now in python 3.7.6, up from 3.6. this rolls in a host of small improvements, including to network stability and security (e.g. TLS 1.3), and possibly a couple of new bugs in more unusual hydrus systems</li>
					<li>similarly, all the windows libraries are now their latest versions. opencv is now 4.2</li>
					<li>greatly sped up several file searches that include no tags such as bare system:rating, most system file metadata predicates, or bare system:inbox, when the result size is much smaller than the total number of files in the file domain</li>
					<li>thanks to some excellent work by a user, the Deviant Art downloader gets another pass--it can now get high res versions of images where they are available, and video, and flash, and pdf! the only proviso is that you need to be logged in to DA to get most content, otherwise you get 404. the current hydrus DA login script _seems_ to work ok</li>
					<li>tag import options blacklists now test unnamespaced rules against namespaced tags. so if you blacklist 'metroid', a 'series:metroid' will be caught and the blacklist veto signal sent. this can be escaped with the 'advanced' exception panel, which now permits you to add 'redundant' rules</li>
					<li>the edit tag filter panel now explains the blacklist rules explicitly and has a second 'test' green/red text to display test results for a tag import options blacklist, with the new sibling and namespace check</li>
					<li>added some unit tests to test the new tag import options blacklist namespace rule</li>
					<li>when 'default' tag import options are set, the edit panel now hides the per-service options, rather the the previous disable</li>
					<li>the system tray icon now destroys itself when no longer needed, rather than hiding itself. it should now be more reliable in OSes that do not support system tray icon hide/show. if your OS still doesn't get rid of them, and you get a whole row of them, I recommend just leaving it always on</li>
					<li>the system tray now has a tooltip with the main hydrus title and pause statuses</li>
					<li>the timer that hides the mouse on the media viewer is now fired off when the window first opens (previously it would only initiate on the first mouse move over the window), so users who navigate mostly by keyboard should now see their cursors nicely hide on their own</li>
					<li>added some semi-hacky import/export/duplicate buttons to edit shortcuts. I'll keep working on this, it'd be nice to have import/export for whole shortcut sets</li>
					<li>added a semi-hacky duplicate button to the 'manage http headers' dialog</li>
					<li>the 'clear' recent tag suggestions button is now wrapped in a yes/no dialog</li>
					<li>a new checkbox under options->gui now lets you set it so when new cookies are sent from the API, or cookies are cleared, a popup message summarises the change. the popup dismisses itself after five seconds</li>
					<li>the client api now also returns 'ext' on /get_files/file_metadata calls, just as a simpler alternative if the 'mime' is a pain</li>
					<li>fixed a bug when petitioning tags through the client api, with or without reasons</li>
					<li>fixed an error where subscriptions that somehow held invalid URLs would not be able to predict some bandwidth stuff, which would not allow the edit subs dialog to open</li>
					<li>the string transformation dialog's step subdialog is now ok with example strings that are bytes. even then, this str/bytes dichotomy is an old artifact of python 2 and I will likely clean it up sometime so string transformers (and downloaders) only ever work utf-8 and hashes just work off utf-8 hex</li>
					<li>added a BUGFIX checkbox to options->gui that tells the UI to use Qt file/directory picker dialogs, instead of the native OS one. users who have crashes on file selection are encouraged to try this out</li>
					<li>updated running from source help with cloudscraper, a new pip masterline, and some windows venv info</li>
					<li>the 'import with tags' button on 'import files' dialog gets another rename for new users, this time to 'add tags before the import &gt;&gt;'. it also gets a tooltip</li>
					<li>handled an unusual rare error that could occur when switching out a media player inside a media viewer, perhaps during media viewer shutdown</li>
				</ul>
				<li><h3 id="version_392"><a href="#version_392">version 392</a></h3></li>
				<ul>
					<li>db-level tag sibling cache:</li>
					<li>the hydrus client db now maintains a fast cache of current+pending tag-to-ideal-tag sibling relationships. it works for specific services and 'all known tags'. this is a nice tool and the first step in having a proper hard-baked siblings mappings cache</li>
					<li>the new sibling cache can be regenerated under _database->regenerate_. the 'autocomplete cache' entry under that menu is also renamed to the now more appropriate 'tag mappings cache'</li>
					<li>the db repair system can regenerate this new cache if any part is missing on boot</li>
					<li>the lookup that finds tag sibling matches for autocomplete uses this and is now faster, specific to the searched service, more accurate about status, and now includes pending siblings</li>
					<li>wrote a new unified object to manage a collection of tag siblings, it is now in use at the db level</li>
					<li>as I continue to develop this new fast tech, the old 'apply all sibs to all services' option, which was always buggy, may sometimes not apply in it. I will ultimately replace it with a fuller per-service choice system that will work quickly and properly and in the same unified way</li>
					<li>fixed a bug where only one local tag service's siblings would be matched at the ui level when looking at 'all known tags'</li>
					<li>fixed a bug in the file search code where searching for a tag that had an unnamespaced sibling going to it would result in searching for all possible namespaces of that sibling (e.g. searching for 'character:samus aran' when 'samus aran'->'character:samus aran' sibling existed would result in effectively 'anything:samus aran')</li>
					<li>when tag services are deleted, they are now better about cleaning up their siblings and parents quickly</li>
					<li>optimised some tag and hash id->value database cache population routines to improve performance for large queries (e.g. when fetching all the tag parents/siblings on boot). also these caches are now larger, 100k instead of 25k</li>
					<li>all cache regen code now forces an immediate analyze of the new tables to speed up imminent access</li>
					<li>.</li>
					<li>the rest:</li>
					<li>updated the default e621 file page parser to get rating tags again (looks like their markup just changed again)</li>
					<li>updated the default sankaku file page parser to get their recently redefined 'genre' tags</li>
					<li>in edit subscriptions, the 'overwrite tag import options/check options' actions now initialise their dialogs with the current value for the first subscription, rather than the global program default</li>
					<li>in the edit subscription panel, the checker options button is moved down to the file/tag import options</li>
					<li>when not in advanced mode, the edit tag import options panel now has some red-text at the top to reinforce to new users that they should generally use the defaults</li>
					<li>the tag import options blacklist now secondarily checks against all known siblings of the parsed tags, rather than just the 'collapsed' ideal siblings</li>
					<li>subscriptions are now more aggressive about clearing out old urls from their file import caches--instead of clearing the 251st url after it has aged twice the death period, now they use just one DP. also, checkers with static checker timings will use five times that check period as DP if that is smaller. static checkers, or those that never die, will use a flat value of six months as DP if that is smaller</li>
					<li>moved a bunch of the debug 'data actions' to a new 'memory actions' menu</li>
					<li>significantly reduced how often the system tray regenerates its menu, which seems to improve stability</li>
					<li>fixed an issue where guis that were maximised before a minimise were restoring from a system tray icon click to normal view</li>
					<li>double-clicking the system tray when the ui is hidden should no longer do a fast show/hide</li>
					<li>fixed an issue where if the gui was minimised, the main animation timer would not run for other windows (e.g. a separate media viewer)</li>
					<li>improved ui shown/hidden tracking logic for the new system tray icon for different OSes</li>
					<li>fixed the 'refresh_page_of_pages_pages' shortcut action, which had faulty old wx code in it</li>
					<li>fixed a wx->Qt bug where modal popups that cannot be cancelled, and thus pop up a 'sorry, you can't dismiss this' text when you try to close them, were nonetheless still closing afterwards</li>
					<li>the hydrus client and server now attempt to listen their servers on both IPv4 and IPv6, failing gracefully if IPv6 is not available</li>
					<li>the 'is this a localhost request?' check now understands IPv6 localhost (::1 or ::ffff:127.0.0.1)</li>
					<li>may have solved a 100% cpu repaint issue with the a/c dropdown in some qt environments</li>
					<li>added info to installing help about Windows N and clean installs</li>
					<li>misc media viewer wx->Qt code cleanup</li>
					<li>misc code cleanup</li>
					<li>.</li>
					<li>experimental hellzone, be wary ye scabs:</li>
					<li>added an experimental 'sub-gallery url' url content type to the parsing and downloading system. this url is queued into the gallery log even if the primary gallery page found no file/post urls, and is meant for galleries that link to galleries. not yet ready for primetime, but feedback would be appreciated</li>
					<li>added an experimental ui-hang relief mode, activated under _help->debug->data actions->db ui-hang relief mode_, which _should_ stop the ui hanging in unusual long-time ui-synchronous db jobs. it may cause other problems, so it is default off. it also prints begin/end statements to log for additional info. users who experience ui hang due to db job processing time are invited to play with this mode and report back results</li>
				</ul>
				<li><h3 id="version_391"><a href="#version_391">version 391</a></h3></li>
				<ul>
					<li>system tray icon:</li>
					<li>hydrus now can now make a system tray icon for those OSes that support it. it can be buggy/crashy under non-Windows, where it gets some warning labels</li>
					<li>under the new options->system tray page, you can set whether to show the system tray all the time, minimise the main gui to system tray, close-button the main gui to system tray, and start the program minimised to the system tray</li>
					<li>right-clicking the icon brings up a menu to show/hide the ui, pause/unpause network traffic or subscriptions, and to exit hydrus</li>
					<li>the main file menu now has an option to minimise to system tray</li>
					<li>double-clicking or middle-clicking the icon will show/hide the whole hydrus ui as long as there are no dialogs open</li>
					<li>clicking it will restore the main gui from minimise or raise it to the front</li>
					<li>on an ui hide, the current preview window will be blanked and media viewers will be paused, so any ongoing noise/cpu from them should stop</li>
					<li>a new 'global' shortcut 'hide_to_system_tray' is now available</li>
					<li>starting the client minimised may have some layout issues on first show--I particularly had to fix splitter layouts--please report any more you discover</li>
					<li>.</li>
					<li>framerate and num frames:</li>
					<li>system:framerate search added to system:duration panel. precise framerate is tricky with current hydrus info, so it searches +/- 5% of a given value</li>
					<li>system:number of frames added to system:duration panel</li>
					<li>sort by number of frames added</li>
					<li>duration/framerate/num frames sort moved to their own 'duration' submenu</li>
					<li>framerate added to generic media metadata summary string (which appears in status bar and media viewer, etc...). precise framerate is tricky with current hydrus info, so it is rounded to the nearest integer</li>
					<li>.</li>
					<li>the rest:</li>
					<li>rolling in new danbooru file page parsers that should fix file downloads, thank you to a user for the submission</li>
					<li>rolling in a e621 login script, thank you to a user for the submission</li>
					<li>gave tag autocomplete results fetch code a pass, cleaning up several instances of incorrect or inefficient timing and caching logic and I believe fixing the issue where system preds would sometimes not be loaded after entering a tag</li>
					<li>improved reliability of autocomplete dropdown hiding on background pages (some edge cases where these could still hang around _should_ be fixed)</li>
					<li>improved 'hide' tests in several parts of the program related to the new system tray icon, which should help some other cases--e.g. weird shutdowns now _shouldn't_ ever leave a bunch of floating popup messages</li>
					<li>fixed a bug where pages set to open with all known files/tags domains, which is not supported, was incorrectly substituting tag domain with a file domain, which is even more not supported</li>
					<li>cleaned up some sort code--I believe this has fixed the odd issue where a 'time imported' sort would not work on some pages (such as one loaded from a favourite search)</li>
					<li>fixed the 'related' tag suggestion box not knowing about new pending tags added in a manage tags dialog open on a media viewer after next/previous media transitions while the dialog is open. also it and the file lookup's lists now clear when a new lookup starts</li>
					<li>the tag suggestion boxes are now add-only and remove what you add as you add them! let me know if this feels nice or not!</li>
					<li>the splash window now has a different 'booting/exiting' window title, if you would like to hook it with a window manager</li>
					<li>went over all the 'prep url for display', 'filter urls', and 'normalise url' requests across the program to deal with invalid url (e.g. garbled text) better</li>
					<li>you can now no longer add invalid urls via the client api associate_url call--you'll get 400 instead</li>
					<li>cleaned some thumbnail selection and rendering code, particularly fixing some edge case 'where that media go?' issues where collect-by calls happen during thumbnail waterfalls and so on</li>
					<li>cleaned up some page file domain setting code and misc page management code</li>
					<li>improved accuracy of rendered image cache memory footprint calculations</li>
					<li>fixed some Qt signal object definitions that were causing errors for some users who run from source</li>
				</ul>
				<li><h3 id="version_390"><a href="#version_390">version 390</a></h3></li>
				<ul>
					<li>fixed a bug that was causing potential duplicates to be sometimes re-added between media groups that were previously set as false positive/not related. I apologise for the inconvenience this bug has caused. if you were hit by this, please reset your potential duplicate pairs (hit the cog button on the dupes page) and re-search, and the bad pairs should not be re-added again</li>
					<li>fixed an issue where tag autocomplete entry in the form 'namespace-blah:' was replacing the hyphen or other 'collapsable' character to space, which then was not searching correctly for the _anything_ namespace search</li>
					<li>'namespace:anything' searches now work when the namespace itself has a wildcard</li>
					<li>fixed 'write' autocompletes not matching inputs with UPPERCASE letters</li>
					<li>fixed adding tags that start with a colon (e.g. ":D") in 'write' autocompletes</li>
					<li>it should now be impossible to enter some 'kill my cpu' queries into tag autocomplete, such as '[asterisk]:anything', even if accidentally entered through the fast-add system</li>
					<li>the 'cancel search' stop button that appears after a search takes three seconds is back to being neatly embedded beside the tag autocomplete input box</li>
					<li>hitting the cancel search button now clears the non-interactable 'Loading' thumbnail media page (with its misleading 'Loading...' statusbar) and returns you to an empty thumbnail page</li>
					<li>loading a favourite search with non-immediate search no longer loads the 'loading...' page. it also saves that new non-immediate status to the page session more reliably</li>
					<li>reworked my linux build environment (pyinstaller=3.5, virtualenv=16.1) so that you can launch the built exe using a symlink</li>
					<li>rolling out a first version of a requirements.txt, any feedback would be appreciated</li>
					<li>rolling out another version of the derpibooru file page parser that no longer duplicates namespaced tags as unnamespaced, thank you to the user who submitted this</li>
					<li>.</li>
					<li>boring stuff:</li>
					<li>.</li>
					<li>moving old pubsub system to Qt signals:</li>
					<li>all the 'refresh query' calls that do changes to the current file search across the program</li>
					<li>the current file and tag domain update calls for search pages</li>
					<li>the clear/set file focus calls when launching and exiting the media viewer browser or archive/delete filter</li>
					<li>the way thumbnails send the current focused media to the preview media window</li>
					<li>the way widgets with shortcuts-based tooltips are notified to update those tooltips when shortcuts change</li>
					<li>the way a thumbgrid sends the current tags to be displayed in the 'selection tags' list</li>
					<li>the way a thumbgrid adds newly imported files' tags to the 'selection tags' list as they fade in</li>
					<li>the way the 'searching/waiting' search button is flipped on and off by shortcut. btw what should be the correct name + label for this button? should it really be an icon?</li>
					<li>.</li>
					<li>cleanup:</li>
					<li>NOTE: the 'include' folder is renamed this week to 'hydrus'. if you have source patches, please update. as I further disentagle code in future, hydrus will ultimately move to typical nested folder/module structure</li>
					<li>decoupled the shortcuts edit ui code from the controller and db, unified how shortcuts are edited, and eliminated db wait when booting shortcuts editing</li>
					<li>decoupled the shortcuts manager from the controller, cleaned all the code, and moved to a nicer reference with proper typing hints</li>
					<li>refactored the frame and media controls of clientguicanvas into separate files</li>
					<li>renamed the hoverframes file to canvashoverframes and updated its classnames to 'canvas' rather than the old 'fullscreen'</li>
					<li>fixed two wx->Qt typo artifacts in the login script edit ui</li>
					<li>reduced some occasional idle memory bloat of clients that have large subscriptions</li>
					<li>cleaned up how media-based taglists are appended with new media</li>
					<li>removed some old booru object update code</li>
					<li>some misc setmedia/clearmedia cleanup</li>
					<li>misc search code cleanup</li>
					<li>misc typing hints to clear up pylint confusion</li>
					<li>misc tag autocomplete code cleanup</li>
					<li>misc 'global' variable cleanup</li>
					<li>misc gui code refactoring, cleanup and typing</li>
				</ul>
				<li><h3 id="version_389"><a href="#version_389">version 389</a></h3></li>
				<ul>
					<li>downloaders:</li>
					<li>the e621 file page parser is updated again, thanks to a user's contribution. this one gets md5 and file url more reliably, and also gets rating tag</li>
					<li>added a 'e621 file page (old format)' url class to help match and search for files downloaded with the old format. please be aware there is no good solution to auto-convert old urls to a new format yet, so this connection does not (yet) solve the old/new comparison test</li>
					<li>updated deviant art file post parser to use their json api. this should be more resilient to their current layout changes</li>
					<li>the nijie.info login script appears no longer to function. as with exhentai last week, it has been removed to make it easier to log in with hydrus companion. please use hydrus companion if you would like to log into nijie.info</li>
					<li>updated file lookup scripts for 'iqdb danbooru' and 'danbooru md5' thanks to a user's contribution</li>
					<li>.</li>
					<li>the rest:</li>
					<li>the way the mpv.conf works changes this week. it is now correctly fully portable, stored in the db directory beside the .db files. if this file does not exist, the 'default' as stored under the install_dir/static/mpv-conf folder will auto-populate it. if you have been using a non-default mpv conf, please re-set it one time after update, and you should be good</li>
					<li>the code that loads mpv.conf is now more graceful on 'missing file' errors, which now means when both the db conf and the default conf are missing</li>
					<li>hitting escape on a tag autocomplete input that has text will now clear that text! note that hitting escape on an _empty_ a/c input will still do 'lose focus' and then 'close dialog'</li>
					<li>updated the slideshow logic so that if a media with duration has a shorter duration than the slideshow duration (e.g. a gif that lasts 0.5s on a 10s slideshow), the media will keep looping until the duration is up. media that has duration longer than the slideshow time will continue to play through once completely, delaying slideshow progression and then stopping promptly when it has finished</li>
					<li>the string transformation system now allows 'url percent encoding' under the encode/decode type!</li>
					<li>fixed the 'only add existing tags' filter in the tag import options, which was denying all the tested tags. it seems to have been hit by a typo in the last three months</li>
					<li>the 'favourite searches' defaults now include an 'empty page' entry, which is a convenient way to simply clear a page. all users will also get this on update, feel free to delete if you don't like/need it</li>
					<li>opening a new search page from a tag or an active search predicate ('open a new search page for...' or middle-click) now copies the file service (e.g. looking at trash) from the original page</li>
					<li>opening a new search page in the 'all known files' file domain when the tag domain should be 'all known tags' (a currently unsupported combination) now coerces the tag domain to 'all local tags'</li>
					<li>checkboxes should now appear again on the collect-by dropdown in Fusion (and hopefully any other) style</li>
					<li>fixed an issue where entering 'namespace:*' explicitly would show the much less efficient wildcard search rather than the efficient 'anything' namespace search</li>
					<li>fixed an issue where wildcard search could include multiple asterisks in a row</li>
					<li>fixed an issue with page duplication where the main management object was not being duplicated properly until a session reload, meaning the two pages would sometimes share signals and changes</li>
					<li>an old wx delayed hide/show performance hack is removed, making the floating autocomplete dropdown now update more smoothly to resize or move requests, such as when the main gui window is dragged</li>
					<li>the program base installation directory is now calculated more accurately, both when running from source and the frozen build, and when launched using a symlink</li>
					<li>install dir and db dir are now specified in the help->about window</li>
					<li>the petition page content checkbox list now has a taller minimum height</li>
					<li>improved error text reporting in hydrus service login failure, hydrus service delay reason-setting, and all 'cancelled' errors across the program</li>
					<li>the review services panel now has elided... text. when unusually long errors propagate up to its status texts, it now won't suddenly jump to 2,000 pixels wide. full text appears in tooltips</li>
					<li>code refactoring: the tag autocomplete input now now takes responsibility for the active predicate list above it</li>
					<li>refactored some tag lists and added typing hints to improve how current page predicates are determined</li>
					<li>did some prep work for tag filters supporting wildcards, but it isn't ready yet</li>
					<li>cleaned up some wx->Qt data fetching code</li>
					<li>misc code cleanup</li>
				</ul>
				<li><h3 id="version_388"><a href="#version_388">version 388</a></h3></li>
				<ul>
					<li>favourite searches:</li>
					<li>hydrus can now save, load, and edit favourite searches. this first system stores searches with a name and an optional folder name, and contains search predicates, file and tag domain, whether the search is live or not, and optionally sort-by and collect-by</li>
					<li>this is program-wide and all accessed through the new 'star' icon menu button beside any 'read' tag autocomplete input on search pages, duplicate pages, export folder ui, and file maintenance selection</li>
					<li>wrote a favourite searches manager</li>
					<li>wrote a dialog to manage favourite searches</li>
					<li>wrote a dialog to edit a single favourite search</li>
					<li>wrote load and save search functionality</li>
					<li>autocomplete dropdowns that have buttons beside them now stretch their floating dropdown windows across the button width also</li>
					<li>cleaned a variety of search code, simplifying objects and responsibility</li>
					<li>cleaned up some collect-by ui code</li>
					<li>refactored sort and collect controls to better location</li>
					<li>refactored search constants</li>
					<li>numerous small search code fixes and cleanup</li>
					<li>renamed clientguipredicates to clientguisearch</li>
					<li>.</li>
					<li>the rest:</li>
					<li>a note from the users managing Hydrus Companion: The Chrome Web Store release of Hydrus Companion is no longer available due to publishing issues. If you have been using it in the past, please install the extension manually as outlined here instead: https://gitgud.io/prkc/hydrus-companion</li>
					<li>the default e621 downloader is updated to their new system, thanks to a user's submission. if you log in to e621 with hydrus or the hydrus companion and discover some tags are now blacklisted, please check your blacklist settings on your account on the site</li>
					<li>an old test e-hentai login script from 2018 that is no longer in the client defaults will be deleted from clients that still have it today. if the user has no other login script for e-hentai, the domain entry will be deleted as well. this removes potential technical barriers for users that wish to use hydrus companion to access e-hentai, which is now the recommended method</li>
					<li>hydrus mpv now has an appropriate stream title, which propagates up to the os-level sound mixer. it was previously the ugly hydrus filename</li>
					<li>improved error handling when mpv is passed an invalid conf</li>
					<li>the default mpv conf now has audio normalisation that seems to work ok</li>
					<li>fixed an issue with the 'delete/move out missing/corrupt file' file maintenance job where record deletes were not processing correctly. it now deletes the file record correctly and also clears that deletion record, to make re-import of the correct file, if found, easier</li>
					<li>all hydrus menu labels are now "middle...elided" when they are greater than 64 characters</li>
					<li>all new hdd, url, and simple download pages should now obey the 'remove files when trashed' rule. pages in existing sessions will not</li>
					<li>updated the user-created CutieDuck darkmode qss file to the latest version, which alters the recent hydrus qss styling colours like green/red button labels</li>
					<li>did a full pass of all service fetching--all file and tag services should now present in lists and tabs in service_type, alphabetical order, e.g. for manage tag siblings, the tabs will always be local_tags, tag_repositories, both in alphabetical order</li>
					<li>fixed an issue where a 'get darker or lighter comparison colour' calculation was not working well for black or very dark colours</li>
					<li>if subscriptions or general network traffic is paused, the bandwidth section of the main gui statusbar now says it</li>
					<li>the status bar now tooltips each section</li>
					<li>clarified some labels on the edit url class panel</li>
					<li>moved all delayed focus-shifting code to a more stable system</li>
					<li>cleaned up how the global icon cache is initialised and referenced</li>
					<li>updated the hydrus project gitignore to hide all db, log, server, recovery, and media files that could be under the db directory</li>
					<li>updated the endchan links in the help to have a .org secondary link</li>
					<li>more general code refactoring</li>
				</ul>
				<li><h3 id="version_387"><a href="#version_387">version 387</a></h3></li>
				<ul>
					<li>the sort-files-by dropdown is now a button that launches a nested menu. it still supports mouse wheel events. it should now be quicker to find what you want!</li>
					<li>added 'sort by framerate' to regular file sort. it works for file search at the db level as well, when mixed with system:limit</li>
					<li>under options->sort/collect, the namespace sort-by ui has finally had its makeover. it now has add/edit/delete buttons and up/down buttons for reordering how the entries will appear. it also deals with bad input better. furthermore, namespaces that have hyphens (like 'creator-id') are now supported in namespace sort (and hence collect-by dropdowns!)!</li>
					<li>numerical (multi-star) ratings can now be set by dragging the mouse across the line of stars</li>
					<li>added 'duplicate page' to the page tab right-click menu! it just makes a copy of the page or page of pages right beside it</li>
					<li>system:everything will now always show up in non-query-page autocomplete dropdowns (such as in the file maintenance dialog)</li>
					<li>wrote a maintenance routine to repopulate and correct the tag text search cache. it is possible to trigger this (though it is typically pointless) from the database->maintain menu</li>
					<li>updated the characters that are ignored in autocomplete tag text search rules, which help skip over unusual characters and assist word-break discovery for searching for tags like '[intensifies]'. as well as the previous brackets, braces, paretheses, quotes, and double-quotes, now slash, backslash, hyphens, and underscores(!) are ignored. searching for 'bbb' will now match a tag 'aaa-bbb', and searching for 'blue_eyes', 'blue-eyes', 'blue eyes', or 'eyes' will match all of 'blue_eyes'. 'blue-eyes', and 'blue eyes'!</li>
					<li>to effect the above change, the client will take a few seconds to a minute to update</li>
					<li>the above tag text search rules now collapse contiguous unusual characters, or combinations of whitespace and characters, better</li>
					<li>namespace and simple wildcard search inputs no longer have the tag text search rules applied to them, meaning you can now search for these unusual characters more specifically when desired</li>
					<li>updated the derpibooru gallery search objects to use their api, thanks to a user's submission. this re-enables the 'no filter' mode</li>
					<li>added watcher support for tvch.moe, which works with an existing 4chan-style parser</li>
					<li>the 'add the ptr' help item now warns the user about the ptr's modern drive storage requirements (4GB download+files, 25GB db). the help files are also updated</li>
					<li>I believe I fixed the sometimes crazy fast media drag-move that could happen in archive/delete and duplicate filters</li>
					<li>fixed an old uncaught wx->qt issue with the simple downloader where editing the formulae would throw an error</li>
					<li>fixed a bug in the 'move highlighted thumbnail' code in the rare case where the currently focused thumbnail can not be found</li>
					<li>text input dialogs are now mostly wider</li>
					<li>refactored some ui code, cleaning up core objects and import hierarchy</li>
					<li>did some controller/gui refactoring, pushing on untangling things</li>
					<li>cleaned up a bunch of no-longer-used import statements</li>
					<li>misc ui code cleanup</li>
					<li>slight rewording of database menu</li>
					<li>prepped shortcuts system to ignore a window-activating click (for the media viewer filters), but can't turn it on yet as media viewer clicks are not yet fully plugged in</li>
				</ul>
				<li><h3 id="version_386"><a href="#version_386">version 386</a></h3></li>
				<ul>
					<li>gifs and mpv:</li>
					<li>the client now parses gifs for loop count metadata (some gifs say they should only be played x times through, usually 1). options->media now has a checkbox to control whether this value should be obeyed. both the native viewer and the mpv viewer should follow this. default value is still to loop indefinitely</li>
					<li>if gifs are set to play with the mpv player, those without duration will now still be loaded in the native image viewer. the media viewing options ui now notes this</li>
					<li>the mpv.conf file used in the mpv window can now be changed under options->media. it _should_ update the conf for all open mpv players on options dialog ok. added to the hydrus static mpv-conf directory are three new 'test' mpv confs for high quality and two audio normalisation tests. all test feedback and recommended conf info is welcome</li>
					<li>.</li>
					<li>ui cleanup and improvements:</li>
					<li>the media viewer mouse autohide time is now customisable under options->media, including disabling it completely. it defaults to 700ms</li>
					<li>improved the timing and reliability of the media viewer mouse autohide code</li>
					<li>the mouse should now never autohide while a dialog is open</li>
					<li>improved the bad colours of the splash screen. it should now be all one colour now, no ugly stand-out white square or other hardcoded colours. hydev also deployed his unparalleled gimp skills to get a white fade around the transparent-background hydrus icon, so it should look correct in darkmodes as well</li>
					<li>created a default_hydrus.qss file in the qss folder in order to handle formerly hardcoded colours using hydrus-specific classnames and properties. as well as being loaded by default, this qss file is prepended to any custom stylesheet, so any custom stylesheet that includes its own versions of the hydrus-specific entries will override the defaults. this qss will get more work in future</li>
					<li>added on/off buttons to hydrus default qss and converted existing object to use class and properties to obey this</li>
					<li>added a variety of valid/invalid/warning text colours to hydrus default qss and converted existing text objects to use classnames to obey this</li>
					<li>added accept/cancel buttons to hydrus default qss and converted all green/red buttons across the program to use classnames to obey this</li>
					<li>the migrate database dialog now has an outright 'remove location' button to reduce confusion and speed up removal of high weight locations</li>
					<li>if a location does not exist on the migrate database dialog, it will now stop throwing multiple error popups every time the list slightly changes, and will complain if file rebalancing is attempted, and will provide different 'remove' yes/no messages if that missing location currently has files or not</li>
					<li>slight ui touch-ups to the migrate database dialog</li>
					<li>if a window that remembers its position attempts to re-position to a location not on a current display, the windowing system now attempts to rescue it to the primary display, with appropriate popup messages given and errors caught more gracefully</li>
					<li>extended these off-screen rescue calls to windows that pull their position from their parent. e.g. if you open the options dialog while the main gui is half over the left side of your screen, it should rescue to the primary display</li>
					<li>windows that position off the center of their parent now calculate that reliably on the parent window, not just the parent widget, which never really worked as intended</li>
					<li>windows that have no position memory and no parent to pull center/topleft position from will now appear center/topleft of the monitor your mouse is on</li>
					<li>the splash screen now appears centered on the monitor your mouse is on</li>
					<li>cleaned up and improved a bunch of window/screen coodinate code, moving 'space on screen' calculations to 'space on screen minus taskbar' and similar</li>
					<li>unified a 'dialog is open' check across the program</li>
					<li>cleaned up the old wx->Qt size, coordinate, and colour conversion code</li>
					<li>cleaned up some old wx->Qt calculation code</li>
					<li>improved 'light' and 'grey' colour detection code to now work in HSV</li>
					<li>improved colour changing code to now work in HSV</li>
					<li>improved some internal single-shot scheduled job code</li>
				</ul>
				<li><h3 id="version_385"><a href="#version_385">version 385</a></h3></li>
				<ul>
					<li>mpv:</li>
					<li>the mpv window is now plugged into the slideshow system, so when an mpv window has played its media once, a media viewer browser currently slideshow-ing will now correctly know to move to the next media</li>
					<li>slideshows of videos should progress to the next file faster and more smoothly, with no more half-second blit of the start of the movie before the next file loads</li>
					<li>pausing video/audio is no longer cause for the slideshow to move on--now only the 'has played once through' check will naturally trigger it. you can now more reliably seek/scrub a video during slideshow</li>
					<li>the mpv window and native animation player is now better about pausing while a seek drag (scrub) is ongoing</li>
					<li>various music videos that have 1 frame should now show a seekbar correctly for the mpv window, with correct timecode based seeking</li>
					<li>fixed a bug in the video/audio resizing code that meant zoom in/out cycles would move a video player down a few pixels off center</li>
					<li>the blank audio mpv window now has basic hardcoded zoom support and will scale down to a too-small viewer window, so you can still access the seek bar</li>
					<li>fixed some 'has duration' calculations for audio/video that has duration but no frame count</li>
					<li>.</li>
					<li>shortcuts:</li>
					<li>if a shortcut handler on an individual window does not have a double-click mapping for a command--and furthermore if none of its parent windows that are fully plugged in have one either--it will attempt to map the single-click version of the event as a backup. so now if you have an archive/delete filter, you can click fast again and the double-clicks will be interpreted as single-clicks (unless you map double-click to mean something else on the media_window or one of the media_viewer parents)</li>
					<li>the media viewers across the program are now fully plugged into the shortcuts system for key presses, and half-plugged in for mouse clicks</li>
					<li>'close_media_viewer' is added to all 'media_viewer' shortcut set types. enter/return/escape are now defaults for 'media_viewer' (applying to all), and middle-click/double left-click are now defaults for 'media_viewer_browser'. this is no longer hardcoded. if you are a madlad, you can now unmap all 'close_media_viewer' commands</li>
					<li>double left-click is now assigned to 'keep' in the 'archive_delete_filter' shortcut set. due to the new click/double click rules above, this means that by default double clicking a video/audio in the archive/delete filter will now mean 'keep and move on' on that fast second click!</li>
					<li>edit shortcut set ui now sorts its command list on load</li>
					<li>significant shortcuts refactoring</li>
					<li>general shortcuts code and debug code cleanup and improvement</li>
					<li>.</li>
					<li>the rest:</li>
					<li>local file import pages and most downloaders will now report more file import steps to their status labels. most will blit by too fast to see, but if it hangs for a bit, you will now see the step it is caught up on. I imagine in most cases, this will be metadata generation for large videos</li>
					<li>fixed a variety of searches that could return files not filtered to the current file domain (e.g. files in trash while in my files, or not in ipfs while in ipfs) when the search did not include an inclusive tag</li>
					<li>updated the default danbooru file page parsers to get their new tag format, thank you to a user for submitting these</li>
					<li>a popup message now appears while sessions are loading. it auto-dismisses once the load is complete</li>
					<li>the edit media view options dialog (under options->media, launched from the filetype list) is now better at disabling non-applicable widgets based on filetype</li>
					<li>fixed an issue where clicking from the autocomplete dropdown floating window to the same control's text input could result in a single flicker-frame where the dropdown is hidden</li>
					<li>tightened the size of the splash screen white background. figuring out appropriate colour from the current stylesheet remains elusive lmao</li>
					<li>cleaned up and wx->Qt converted a variety of event handling code</li>
					<li>updated some 'mime' labels across the program to the new 'filetype' wording</li>
				</ul>
				<li><h3 id="version_384"><a href="#version_384">version 384</a></h3></li>
				<ul>
					<li>shortcuts:</li>
					<li>the shortcut system now supports mouse double-clicks--left, right, or middle</li>
					<li>the shortcuts system now differentiates between press or release single mouse clicks--although complete support for release mouse events may be a bit patchy, as full mouse integration is ongoing</li>
					<li>the shortcut edit ui is now simpler--the command type is selected by a list, and the individual command sub-panels hide and show as appropriate--no more stupid 'set command' buttons</li>
					<li>the shortcut edit ui now has a 'restore defaults' button that will restore an individual set back to default settings</li>
					<li>two new shortcut sets are added--'media_viewer_media_window' and 'preview_media_window'. they control pause, pause/play, open_externally, and close/launch_media_viewer respectively. they work on the static image viewer, the native animation widget, and the new mpv player, and they support mouse clicks. the old pause/play (formerly left-click) and open_externally (double left-click) commands are no longer hardcoded</li>
					<li>by default, the preview window's media window now launches the media viewer on a middle- or double-left-click</li>
					<li>'media_viewer_browser' shortcut set now has 'release right-click' bound to 'show_menu', a new command, which is no longer hardcoded</li>
					<li>most menus across the program can now be opened with the keyboard context menu key</li>
					<li>the 'global' shortcut set now has 'exit_application', 'exit_application_force_maintenance', and 'restart_application' commands</li>
					<li>fixed the rating increment/decrement command option not hiding in non-'media' shortcut sets</li>
					<li>fixed some issues loading edit ui for shortcuts with rating actions</li>
					<li>significant refactoring and some cleaning of shortcut code</li>
					<li>.</li>
					<li>the rest:</li>
					<li>mpv windows should not longer get a single frame of previous-window-stretch when flicking between one mpv media to another with a different aspect ratio on the same media canvas. when a video is caught in a frame of loading, it should now flicker a frame of black</li>
					<li>switching from one static image or native animation to another of the same type _should_ be less likely to do a single frame of stretch when transitioning. when an image or animation transition is caught on a new frame, it _should_ now flicker a frame the same colour as the media canvas background</li>
					<li>the string transformation edit panel's individual transformation rule edit panel has had some more work: much like with shortcuts, the controls now hide and show based on transformation type, the controls' text labels now change based on transformation type, and the example text now updates on any widget change. the manual 'update example' button is removed</li>
					<li>fixed a typo that caused an error when establishing the correct mouse cursor to use over the volume control when hydrus was using PyQt5 (rather than PySide2)</li>
					<li>in order to reduce accidental micro-drags that cause mpv load-pause issues, starting a thumbnail drag now takes more pixels and requires a smoother drag to start, let's see how it goes</li>
					<li>improved the show/hide logic of the floating autocomplete dropdown window. it should now also reliably detect when window focus goes from the dropdown itself to another window</li>
					<li>fixed a bug where clearing the deletion record of a deleted tag would not remove the record from the fast cache that populates thumbnail tags (making it seem on most file loads that the tag still existed). if you were hit by this previously, please hit _database->regen->a/c cache_ one time to resync the cache</li>
					<li>relatedly, thumbnails should now correctly live-update their deleted tags on deletion record clearance updates</li>
					<li>if mpv is not available, opening the about window will now make a popup with the actual import error trace</li>
					<li>significant refactoring of various ui code</li>
				</ul>
				<li><h3 id="version_383"><a href="#version_383">version 383</a></h3></li>
				<ul>
					<li>mpv:</li>
					<li>updated the prototype volume/mute controls on the top media viewer hover window to be a proper 'speaker' icon button for mute with a volume slider that pops up or down on mouse-over</li>
					<li>the new volume control is on the hover window and any media that has audio</li>
					<li>the right-click menu of the preview viewer and media viewer now have volume submenus to set mute/volume</li>
					<li>the client now has multiple volumes and mutes:</li>
					<li>for mute, there is a global mute which overrides everything, and the preview and media viewers have their own mutes that just apply there.</li>
					<li>under options->audio, you can choose whether preview windows have their own separate volume value, default is yes they do</li>
					<li>there is a new shortcut set called 'global', which applies on the main gui and the media viewer both, and which currently has actions to alter global mute. by default, ctrl+g flips global mute</li>
					<li>after reports of unusual rendering bugs for some users, the default mpv.conf is now more barebones. more work will happen here</li>
					<li>.</li>
					<li>linux:</li>
					<li>the linux release is now built on Ubuntu 18.04 (was 16.04). unfortunately, my build packager bundled in a variety of surplus libraries, so the archive has bloated somewhat--I have removed some that I am confident are not needed, but I may have made a mistake, and there are likely more that can be taken away</li>
					<li>the linux release now comes with mpv support</li>
					<li>please let me know if you have any errors running this build or loading mpv. early tests seem good though!</li>
					<li>.</li>
					<li>the rest:</li>
					<li>the launch/exit splash screen now uses a cleaner Qt-compatible layout system. It resizes and obeys stylesheets better, colouring text and background according to current style</li>
					<li>removed the 'has duration' text label option from 'audio and duration' options panel as it is no longer used, and renamed the panel back to just 'audio'</li>
					<li>the string transformation edit panel's individual transformation edit panel now shows that transformation step's example string and the transformed string, which is updated by button. this edit panel will get some more love soon, including dynamic hide/show of applicable controls and live updates of the example transformation as you type</li>
					<li>misc ui layout improvements</li>
					<li>misc ui improvements</li>
				</ul>
				<li><h3 id="version_382"><a href="#version_382">version 382</a></h3></li>
				<ul>
					<li>mpv:</li>
					<li>rolled Qt back from 5.14.0 to 5.13.0 on the releases, which seems to have fixed our 'event queue sometimes halts until mouse move' issue that occurs after initial mpv load. some other ui and media viewer resize jank seems to be cleared up. I dunno what happened with 5.14, and I don't suspect it as the problem nearly as much as my currently borked Qt event processing code, but rolling back seems the easiest solution for now</li>
					<li>fixed an issue that was crashing non-windows that were able to load mpv</li>
					<li>mpv now loads an mpv.conf from install_dir/static/mpv-conf. please feel free to swap in another conf or edit that one as you like. I would be interested in feedback</li>
					<li>default mpv conf is now set to specifically enable some hardware acceleration to improve playback for some users, and to never load sidecar files like subtitles as this was introducing incredibly large load lag for users with large/high latency file storage</li>
					<li>fixed a new issue where preview windows were not unloading media (particularly significant for mpv with audio) on page change and client shutdown</li>
					<li>fixed an issue with global volume propagation to multiple open mpv widgets</li>
					<li>.</li>
					<li>the rest:</li>
					<li>added two dark qss stylesheets from the user-creation github repo to the default install</li>
					<li>when zooming out from a zoom that makes the media bigger than the media viewer canvas to a zoom where it fits, the media will now recenter. see if you like this, maybe it should be an option</li>
					<li>to help forestall unnamespaced filename tag spam in various new-user scenarios, the 'filename' checkbox-and-namespace widget on the filename tagging options panel now initialises with 'filename' as the namespace</li>
					<li>fixed a recent window sizing issue with the 'the client is already running' dialog not appearing</li>
					<li>file export paths that include subdirectories that could possibly have empty text, like "[creator]/[page]", will no longer error when this is so (e.g. if a file in this case has no creator tags)--they will eliminate the subdirectory entirely, becoming "[page]". this should work for all platforms and for any nested subdirectory</li>
					<li>fixed an issue with some fractional dataspeeds below 1KB/s displaying with many significant figures</li>
					<li>improved some custom event handling definition code</li>
					<li>reworked hydrus's internal object publisher/subscriber messaging system to be more Qt-happy</li>
					<li>if the file import tagger is given a neighbouring .txt file to pull tags from that does not decode to utf-8 nicely, it now catches and reports the error more gracefully</li>
					<li>reworded a bit of the installing help and first-start popup to emphasise that hydrus does not auto-update</li>
					<li>added links to https://github.com/Zweibach/text/blob/master/Hydrus/PTR.md , a new guide for the PTR, to the help</li>
					<li>removed the old 'hardcoded shortcuts' help entry, since it is increasingly irrelevent</li>
				</ul>
				<li><h3 id="version_381"><a href="#version_381">version 381</a></h3></li>
				<ul>
					<li>mpv:</li>
					<li>mpv is now available and the default for all windows users</li>
					<li>I believed I have eliminated the final reported mpv crash</li>
					<li>mpv load and unload delays are greatly reduced. initial load still takes about half a second, but subsequent loads are now as quick as native renderers</li>
					<li>mpv seems to work well for gif and apng</li>
					<li>added a very simple global volume slider and audio mute checkbox to the media viewer top hover window. this was a quick patch--much better controls and shortcuts will come in future</li>
					<li>mpv windows now properly re-show the cursor on mouse movement</li>
					<li>unified mpv mouse press/release handling with native animation--click down now does pause/play and starts a drag event</li>
					<li>unfortunately, in some cases embedding mpv requires overriding local OS number rendering (e.g. 1,234 vs 1.234). hydrus number rendering is now coerced to the english style with commas until we can figure out a better solution--sorry!</li>
					<li>cleared up an issue where simple clicks on page tabs would trigger micro-page drags that were immediately cancelled. this situation was exacerbated when the page being left had an active mpv window. the flicker of page drag cursor is now gone, and some weird situations where static clicks during busy time could move a tab should be fixed</li>
					<li>eliminated the recent issue in the media viewer where transitioning from one media type to another through navigation, particularly mpv->other, would flicker a single frame of the last 'other' media shown(!)</li>
					<li>fixed a bug where repeated mpv views in the preview viewer could disable client file drag and drop</li>
					<li>the bug where thumbnails may not waterfall in unless the mouse is moving after some mpv videos are loaded for a page is relieved but not completely fixed</li>
					<li>if the preview window is collapsed and hidden, media will no longer ever load into it</li>
					<li>fixed an edge-case bug where the mpv window would not like being told to show nothing when it was already showing nothing</li>
					<li>wrapped mpv load errors in a basic graceful catch</li>
					<li>fixed an issue some users had with loading mpv's dll</li>
					<li>.</li>
					<li>file types:</li>
					<li>a new file metatype, 'animation', is added, for gif and apng. these are no longer considered 'image' for a variety of purposes</li>
					<li>the filetype selection panel, which is used in system:filetype and import folder UI, has had an overhaul--it now has tristate 'mime group' checkboxes to represent a half-filled group and expand/collapse buttons to hide the tall filetype lists. individual filetype lists will start hidden unless their default value is a partially filled group</li>
					<li>the media view options have a similar overhaul: they are now collapsed to general filetypes by default. you set view and zoom options for the generalised 'video' type under options->media, and if you want to set specific options for webm or anything else, you can add/delete those types to override the general default</li>
					<li>the new default options for a fresh client are just for these general types. if mpv is available, video, animations, and audio now start with mpv as the default viewer. video and animation zoom is now flexible (not fixed to 50%, 100%, 200%) and will fill the media canvas</li>
					<li>all media view options will be reset to this simple default on update! if you have specific zoom or display preferences, please reset them after the update--but you might like to play with mpv a bit first, as it renders at large and smooth zooms very well</li>
					<li>.</li>
					<li>the rest:</li>
					<li>the new thumbnail right-click file selection routine will now only focus and scroll to the first member of the selection if no other members of the new selection are already in view</li>
					<li>fixed some caching code and sped up the new select/remove menu count generation (which can lag for very large pages) by two to six times</li>
					<li>sped up file filter counting code by about ten percent</li>
					<li>fixed weird layout on: migrate database panel, duplicates page (left and right), edit shortcuts, edit import folder, and the filename tagging panel</li>
					<li>fixed an issue where the media viewer's hover windows might flicker into view for one frame when the mouse moved over the center of the media viewer for the first time</li>
					<li>fixed a media viewer shutdown issue that would sometimes lead to the first file in the list being opened in the shutting-down viewer for an instant or highlighted as the new thumb focus</li>
					<li>the file maintenance system that queues up missing/broken files' urls for redownload will no longer re-select the download page on every new url</li>
					<li>fixed an issue where a downloader's tag blacklist was not being applied on the child files of certain kinds of multiple-file post (such as with pixiv)</li>
					<li>deleting a very long tag should no longer create a very wide confirmation dialog in the manage tags dialog</li>
					<li>fixed some 'the panel grew a bit, but the parent window didn't grow quite enough and now it has scrollbars for two pixels of extra content' sizing issues</li>
					<li>fixed some dialog sizing calculations when the parent window was borderless fullscreen</li>
					<li>maybe fixed a rare event processing bug</li>
					<li>improved quality of some misc data comparison code across the program</li>
					<li>did some significant backend event/pubsub code cleanup, mostly related to getting mpv working a bit cleaner</li>
					<li>improved thumbnail rendering time</li>
					<li>improved smoothness of thumbnail fade animations (at least for when they are working right, ha ha!)</li>
					<li>misc fixes</li>
				</ul>
				<li><h3 id="version_380"><a href="#version_380">version 380</a></h3></li>
				<ul>
					<li>basic mpv support is added. it comes with the windows build this week, and is a prototype meant for initial testing. the library is optional. users who run from source will want 'python-mpv' added via pip and libmpv available on their PATH, more details in running_from_source help</li>
					<li>took an qt-mpv example kindly provided by a user, updated it to work with the hydrus environment, and integrated it into the client as a new choosable view type under audio/video filetypes under options->media for advanced users</li>
					<li>reworked how the 'start paused' and 'start with embed button' media viewer options work under options->media. these are now separate checkboxes, not combined with the underlying 'show action'. existing embed/paused show actions should be converted automatically to the correct new values</li>
					<li>unfortunately, due to some python/qt/libmpv wrapper mouse interaction issues, mpv's 'on screen controller' overlay is not available</li>
					<li>for now, left click pause/plays the mpv window, just like the native mpv window.</li>
					<li>preview/next frame shortcuts should work for the mpv window when playing video</li>
					<li>no volume/mute controls yet, these will come in the coming weeks, including global mute settings</li>
					<li>updated media show and sizing code to account for mpv widgets</li>
					<li>reworked my animation scanbar to talk to mpv, and for my mpv window to talk back to it</li>
					<li>improved the animation scanbar to be more flexible when frame position and num_frames are not available, both in displaying info and calculating scanbar seek clicks</li>
					<li>mpv api version added to help->about</li>
					<li>.</li>
					<li>new downloader objects:</li>
					<li>thanks to a user, updated the 'pixiv artist page' url class to a new object that covers more situations. the defunct 'pixiv artist gallery page' url class is removed</li>
					<li>added 8kun and vch.moe download support. I got started on julay, smug, and endchan, but they were a little more tricky and I couldn't finish them in time--fingers crossed, next week</li>
					<li>.</li>
					<li>menu quality of life:</li>
					<li>a right-click on thumbnail whitespace will now not send a 'deselect all' event! feel free to right-click in empty space to do an easy remove->selected</li>
					<li>remorked the tag menu layout to move less frequently used actions down:</li>
					<li>- moved the discard/require/permit/exclude search predicate actions down</li>
					<li>- moved 'open in a new page' below select and copy</li>
					<li>- moved copy above select</li>
					<li>and some misc menu layout improvement on this menu</li>
					<li>fixed some labelling with the discard/require/permit/exclude verbs on negated tags</li>
					<li>right-clicking on system search predicates now shows the 'copy' menu correctly</li>
					<li>system predicates that offer easy inverse versions (like inbox/archive) should now offer the 'exclude' verb</li>
					<li>when right-clicking on a single tag that has siblings, its siblings and those siblings' subtags will now be listed in the copy menu!</li>
					<li>copying 'all' tags from a list menu, with or without counts, will now always copy them in the list order</li>
					<li>across the program, all menu 'labels' (menu text items that do not have a submenu and have no associated action, like 'imported 3 years 7 months ago') will now copy their text to the clipboard. let's see how it goes</li>
					<li>.</li>
					<li>other ui quality of life:</li>
					<li>across the program's UI, filetypes are now referred to with simpler terms rather than technical mimetypes. instead of 'image/jpg', it is now typically just 'jpeg'</li>
					<li>the 'remove selected' buttons on the gallery and watcher pages are now smaller trash icon buttons</li>
					<li>the new page chooser will now auto-dismiss if it loses focus--so if you accidentally launch it with a middle-/double-click somewhere, just click again and it'll go away</li>
					<li>hitting enter or return on the new page chooser now picks the 'first' button, scanning from the top-left. hitting enter twice now typically opens a new 'my files' search page</li>
					<li>added pause_media and pause_play_media shortcuts to the media_viewer shortcut set. new clients will start with space keypress performing pause_play_media</li>
					<li>added pause_play_slideshow shortcut to the media_viewer_browser shortcut set. this shortcut is no longer hardcoded by space keypress</li>
					<li>the six default shortcut sets now have a small description text on their edit panels</li>
					<li>the options->media edit panels now enable/disable widgets better based on current media/preview action</li>
					<li>added a checkbox to _options->gui pages_ to set whether middle-clicking a tag in the media viewer or a child tag manager to open a tag search page will switch to the main gui. default is false</li>
					<li>mr bones now reports total files, total filesize, and average filesize</li>
					<li>mr bones now loads your fate asynchronously</li>
					<li>.</li>
					<li>the rest:</li>
					<li>added tentative and simple realvideo (.rm) and realaudio (.ra) support--seems to work ok, but some weirder variable bit rate formats may not, and I have collapsed the various different extensions just down to .rm or .ra</li>
					<li>added trueaudio (.tta) audio support</li>
					<li>fixed a bug from the recent search optimisations where a bare inbox search would not cross-reference with the file domain (so some trash could show up in a simple inbox/'my files' query)</li>
					<li>fixed an issue with searching for known urls by url class where the class was for a third-or-higher-level domain and was not set to match subdomains (this hit 4chan file urls for a few users)</li>
					<li>fixed the issue with 'open externally' button panel not clearing their backgrounds properly</li>
					<li>fixed some of the new unusual stretchy layouts in the options dialog</li>
					<li>removed overhead from subscriptions' 'separate' operation, which should stop super CPU hang when trying to split a subscription with hundreds of thousands of urls</li>
					<li>fixed an issue where the advanced file delete dialog would not show the simple 'permanent delete' option when launched from the media viewer's right-click menu</li>
					<li>fixed the select/remove actions for local/remote</li>
					<li>fixed 'set_media_focus' from manage tags to correctly activate the underlying media viewer as well as set focus</li>
					<li>stopped the 'file lookup script' status control from resizing so wide when it fetches a url</li>
					<li>fixed a rare mouse wheel event handling bug in the media viewer</li>
					<li>reduced db overhead of the 'loading x/y' results generation routine. this _may_ help some users who had very slow media result loading</li>
					<li>cleaned up how the server reports a bootup-action error such as 'cannot shut down server since it is not running'--this is now a simple statement to console, not a full error with trace</li>
					<li>improved client shutdown when a system session shutdown call arrives at the same time as a user shutdown request--the core shutdown routine should now only occur once</li>
					<li>fixed an issue with thumbnail presentation on collections that have their contents deleted during the thumbnail generation call</li>
					<li>misc wx->Qt layout conversion improvements</li>
					<li>updated the github readme to reflect some new links and so on</li>
					<li>misc code cleanup</li>
				</ul>
				<li><h3 id="version_379"><a href="#version_379">version 379</a></h3></li>
				<ul>
					<li>downloaders:</li>
					<li>the right-click menus from gallery and watcher page lists now provide a 'remove' option</li>
					<li>gallery and watchers now provide buttons and menu actions for 'retry ignored'</li>
					<li>activating a file import status list (double-clicking or hitting enter on a selection of rows) now opens the selection in a new page</li>
					<li>file import status buttons now have show new/all files on their right-click menus</li>
					<li>on gallery and watcher pages, the highlight, clear highlight, pause files, and pause search/check buttons are now smaller bitmap buttons</li>
					<li>as the old default pixiv login script is completely broken, any client with this active will have it deactivated and receive an update popup explaining the situation and suggesting to use Hydrus Companion for login instead</li>
					<li>updated the derpibooru downloader</li>
					<li>.</li>
					<li>search:</li>
					<li>when search predicates are added to the active search list, they are now better able to remove existing mutually exclusive/redundant predicates:</li>
					<li>- system:limit, hash, and similar to predicates now remove other instances of their type</li>
					<li>- system:has audio now removes system:no audio and vice versa</li>
					<li>- any search predicate will remove system:everything (see how you feel about this)</li>
					<li>improved 378's db optimisation to do tag searches in large file domains faster</li>
					<li>namespace search predicates ('character:anything' etc...) now take advantage of the same set of temporary file domain optimisations that tag predicates do, so mixing them with other search predicates will radically improve their speed</li>
					<li>wildcard search predicates, which have been notoriously slow in some cases, now take full advantage of the new tag search optimisations and are radically faster when mixed with other search predicates</li>
					<li>simple tag, namespace, or wildcard searches that are mixed with a very large system:inbox predicate are now much faster</li>
					<li>a variety of searches that include simple system predicates are now faster</li>
					<li>integer tag searches also now use the new tag search optimisation tech, and are radically faster when mixed with other search predicates</li>
					<li>system:known url queries now use the same temporary file domain search optimisation, and a web-domain search optimisation. this particularly improves domain and url class searches</li>
					<li>fixed an issue with the new system:limit sorting where sort types with non-comprehensive data (like media views/viewtime, where files may not yet have records) were not delivering the 'missing' file results</li>
					<li>improved the limit/sort_by logic to only do sort when absolutely needed</li>
					<li>fixed the system:limit panel label to talk about the new sorted clipping</li>
					<li>refactored tag searching code</li>
					<li>refactored namespace searching code</li>
					<li>refactored wildcard searching code and its related subfunctions</li>
					<li>cleaned all mappings searching code further</li>
					<li>.</li>
					<li>the rest:</li>
					<li>m4a files (and m4b) are now supported and recognised as separate audio-only mp4 files. files with a single jpeg frame for their video stream (such as an album cover) should also be recognised as audio only m4a for hydrus purposes for now. better single-frame audio support, including functional thumbnails and display, is planned for the future. please send in any m4a or m4b files that detect incorrectly</li>
					<li>the remove thumbnail menu has been moved to a new, cleaner file filtering system. it now presents remove options for different file services and local/remote when available (most of the time, this will be 'my files'/'trash' appearing when there is a mix), including with counts for all options</li>
					<li>the select thumbnail menu is also moved to this same file filtering system. it has a neater menu, with counts for each entry. also, when there is no current focus, or it is to be deselected, the first file to be selected is now focused and scrolled to</li>
					<li>for thumbnail icon display and internal calculations, collections now _merge_ the locations of their members, rather than intersecting. if a collection includes any trash, or any ipfs members, it will have the appropriate icon. this also fixes some selection-by-file-service logic for collections</li>
					<li>import folders, export folders, and subscriptions now explicitly only start after the first session has been loaded (so as well as freeing up some boot CPU competition, a quick import folder will now not miss publishing a file or two to a long-loading session)</li>
					<li>the subscription manager now only waits 15s before starting first work (previously, the buffer was 60 seconds)</li>
					<li>rearranged migrate tags panel so action comes before destination and added another help text line to clarify how it works. the 'go' confirmation dialog now summarises tag filtering as well</li>
					<li>tag filter buttons now have a prefix on their labels and tooltips to better explain what they are doing</li>
					<li>the duplicate filter right-center hover window should now shorten its height appropriately when the pairs change</li>
					<li>fixed a couple of bugs that could appear when shutting down the duplicate filter</li>
					<li>hackily 'fixed' an issue with duplicates processing that could cause too many 'commit and continue?' dialogs to open. a better fix here will come with a pending rewrite</li>
					<li>dejanked a little of how migrate tags frame is launched from the manage tags dialog</li>
					<li>updated the backup help a little and added a note about backing up to the first-start popup</li>
					<li>improved shutdown time for a variety of situations and added a couple more text notifications to shutdown splash</li>
					<li>cleaned up some exit code</li>
					<li>removed the old 'service info fatten' maintenance job, which is not really needed any more</li>
					<li>misc code cleanup</li>
					<li>updated to Qt 5.14 on Windows and Linux builds, OpenCV 4.1.2 on all builds</li>
				</ul>
				<li><h3 id="version_378"><a href="#version_378">version 378</a></h3></li>
				<ul>
					<li>if a search has system:limit, the current sort is now sent down to the database. if the sort is simple, results are now sorted before system:limit is applied, meaning you will now get the largest/longest/whateverest sample of the search! supported sorts are: import time, filesize, duration, width, height, resolution ratio, media views, media viewtime, num pixels, approx bitrate, and modified time. this does not apply to searches in the 'all known files' file domain.</li>
					<li>after identifying a sometimes-unoptimal db access routine, wrote a new more reliable one and replaced the 60-odd places it is used in both client and server. a variety of functions will now have less 'spiky' job time, including certain combinations of regular tag and system search predicates. some jobs will have slightly higher average job time, some will be much faster in all common situations</li>
					<li>added additional database analysis to some complicated duplicate file system jobs that adds some overhead but should reduce extreme spikes in job time for very large databases</li>
					<li>converted some legacy db code to new access methods</li>
					<li>fixed a bug in the new menu generation code that was not showing sessions in the 'pages' menu if there were no backups for these sessions (i.e. they have only been saved once, or are old enough to have been last saved before the backup system was added)</li>
					<li>fixed the 'click window close button should back out, not choose the red no button' bug in the yes/no confirmation dialogs for analyze, vacuum, clear orphan, and gallery log button url import</li>
					<li>fixed some checkbox select and data retrieval logic in the checkbox tree control and completely cleared out the buggy ipfs directory download workflow. I apologise for the delay</li>
					<li>fixed some inelegant multihash->urls resolution in the ipfs service code that would often mean a large folder would lock the client while parsing was proceeding</li>
					<li>when the multihash->urls resolution is going on, the popup now exposes the underlying network control. cancelling the whole job mid-parse/download is now also quicker and prettier</li>
					<li>when a 'downloader multiple urls' popup is working, it will publish its ongoing presented files to a files button as it works, rather than just once the job is finished</li>
					<li>improved some unusual taglist height calculations that were turning up</li>
					<li>improved how taglists set their minimum height--the 'selection tags' list should now always have at least 15 rows, even when bunched up in a tall gallery panel</li>
					<li>if the system clock is rewound, new objects that are saved in the backup system (atm, gui sessions) will now detect that existing backups are from the future and increase their save time to ensure they count as the newest object</li>
					<li>short version: 'remove files from view when trashed' now works on downloader thumbs that are loaded in from a session. long version: downloader thumb pages now force 'my files' file domain for now (previously it was 'all local files')</li>
					<li>the downloader/thread watcher right-click menus for 'show all downloaders xxx files' now has a new 'all files and trash' entry. this will show absolutely everything still in your db, for quick access to accidental deletes</li>
					<li>the 'select a downloader' list dialog _should_ size itself better, with no double scrollbars, when there are many many downloaders and/or very long-named downloaders. if this layout works, I'll replicated it in other areas</li>
					<li>if an unrenderable key enters a shortcut, the shortcut will now display an 'unknown key: blah' statement instead of throwing an error. this affected both the manage shortcuts dialog and the media viewer(!)</li>
					<li>SIGTERM is now caught in non-windows systems and will initiate a fast forced shutdown</li>
					<li>unified and played with some border styles around the program</li>
					<li>added a user-written guide to updating to the 'getting started - installing' help page</li>
					<li>misc small code cleanup</li>
				</ul>
				<li><h3 id="version_377"><a href="#version_377">version 377</a></h3></li>
				<ul>
					<li>qt:</li>
					<li>all non-menubar menus across the program now launch on click release. some previously launched on click press. a variety of related click event behaviour is cleaned up, particularly with thumbnail/tag selection on the click down. this also fixes some users' menus immediately activating the first entry on slow clicks in some ui styles</li>
					<li>I think I fixed the annoying single-frame delayed size-down resize on media viewer hover frames when changing media!</li>
					<li>the vast majority of old wx panel background colour hacks are removed, so custom stylesheets should now cover much more of the UI</li>
					<li>improved the new custom style and stylesheet setting, resetting, and error handling code, particularly for not re-applying the same style or stylesheet twice, and for handling un-re-settable styles (seems to be defaults initialised by third-party OS-wide Qt style) gracefully</li>
					<li>fixed hyperlinks not using the custom web browser launch path as set in the options</li>
					<li>fixed the 'migrate entire db' and 'set thumb location' buttons in the migrate database dialog</li>
					<li>fixed a typo bug when launching the url selection tree after adding an ipfs directory to download</li>
					<li>fixed two typo bugs when editing regex favourites and simple downloader formulae</li>
					<li>fixed an issue where custom shortcut sets could not be deleted</li>
					<li>fixed a typo in the edit account type panel</li>
					<li>fixed sorting the login listctrl when there are session logins mixed with non-session logins</li>
					<li>removed some old media viewer hover window display/raise hacks</li>
					<li>retired the 'always show hover windows' debug mode</li>
					<li>the media viewer will no longer perform any drag calculations on anything but left-click drag</li>
					<li>misc Qt code refactoring/cleanup</li>
					<li>.</li>
					<li>url searching:</li>
					<li>the database now stores 'known url' domain information more efficiently. it will take a few moments/minutes to reshape the db when updating</li>
					<li>system:known url's exact url search now runs extremely fast. this will only affect new predicates of this type, not those in existing sessions</li>
					<li>system:known url's domain search now runs much faster and matches subdomains of the given domain. this will only affect new predicates of this type, not those in existing sessions</li>
					<li>system:known url's url class search now runs much faster. this will only affect new predicates of this type, not those in existing sessions</li>
					<li>when entering a regex system:known url predicate, the dialog will now not OK (throwing up an error dialog) if the regex is invalid</li>
					<li>.</li>
					<li>the rest:</li>
					<li>the shortcut system now allows all text characters. if it has text, it should work, but it is the wild west in terms of modifier labelling. anything unusual on your keyboard like ctrl+alt+e to make æ will _display_ as ctrl+alt+æ, but the same key combination will match up in the program all correct</li>
					<li>added shortcut actions 'pan_top_edge', 'pan_bottom_edge', 'pan_left_edge', 'pan_right_edge' to the media viewer shortcut set that will move the current image so the respective edge is aligned with the larger canvas's</li>
					<li>added shortcut actions 'pan_horizontal_center' and 'pan_vertical_center' to do as above but center on that axis</li>
					<li>session save now hangs the UI significantly less, whether triggered by user command or auto-saving 'last session'</li>
					<li>saving of last/exit sessions on client close is a little faster</li>
					<li>the call to refresh thumbnail file info (and redraw if needed) when a file is imported or has metadata-regenererating file maintenance done will now only call for files that are actually loaded, run faster per file, run faster when the client has large collections in its session, and not hang the ui thread when waiting for the new media info to arrive</li>
					<li>like regular popups, modal popups (like those created when big vacuum/analyze jobs jump in) will now only appear if the main gui or an on-parent child has OS focus</li>
					<li>the main gui/on-parent child OS focus test now includes misc child windows like the autocomplete results hover window</li>
					<li>network jobs that fail for one reason or another will now be more reliably cleaned up, and their connections returned to the connection pool. this may fix the 'too many open file handles' errors some users were seeing after long term unreliable network traffic</li>
					<li>fixed an issue where some thumbnails that were trashed or physically deleted were being removed from 'all known files' and file repository views when it was not appropriate</li>
					<li>connection and downloader retry time options now have a wider min/max range when in advanced mode, with an accompanying warning label for the connection panel</li>
					<li>checker options times now have a wider min/max range when in advanced mode, with an accompanying warning label</li>
					<li>cleaned up some shutdown reporting text</li>
					<li>misc debug improvements</li>
				</ul>
				<li><h3 id="version_376"><a href="#version_376">version 376</a></h3></li>
				<ul>
					<li>subscriptions:</li>
					<li>wrote a new subscription manager to better look after subscription scheduling</li>
					<li>rather than checking every four hours or after manage subs dialog close, subscriptions now record an indication of when they are next due for work, whether that is the estimated next check time or when bandwidth is free on remaining file downloads, and launch in a fifteen-minute window around that time. delays due to previous errors or user cancels are also taken into account. this reduces background cpu and i/o greatly for clients with large subs</li>
					<li>if a sub is paused, or all its queries are paused, it will now never be reloaded after first load until a change via the manage subs dialog</li>
					<li>furthermore, if a single sub takes a very long time to work, the whole sublist can re-cycle if they come up due for more work before it is finished</li>
					<li>if a sub query is DEAD but still has outstanding files to download, it will no longer automatically pause</li>
					<li>subs now clean up more tidily if they are running on a program exit</li>
					<li>the subscription popup now shows check/file progress based on the number of queries that appear to have pending work. instead of 'query 300/450' with 420 that aren't due, you'll get 'query 12/30'. if a query becomes due during a round of checking, another round of checking will run</li>
					<li>if a subscription fails to load from the db, the error is handled better and no more subs will run in that boot</li>
					<li>improved subscription startup checking logic, tightening up various paused/dead/cansync tests</li>
					<li>improved subscription interrupt checking logic, tightening checks on global network pause and various shutdown scenarios</li>
					<li>cleaned up some more subscription code in prep for data storage breakup</li>
					<li>.</li>
					<li>qt:</li>
					<li>added experimental Qt style settings to the new options->style page! all users should now be able to set Fusion style, and perhaps some alternate OS styles. advanced users are invited to play around with QSS stylesheets (although be warned that some of hydrus's custom colour system overrides QSS, so more work is needed here), which will be extended and made user-friendly in coming weeks</li>
					<li>fixed tab position calculations for all tab/media drag and drops for tab bars that are centered or otherwise positioned far off top-left alignment</li>
					<li>fixed tab drag and drop event object handling for macOS. tab and media DnD is now enabled for macOS</li>
					<li>the popup toaster can now unhide if an on-top-of-parent non-modal frame (like review services) is focused (so hitting 'process now' should show you the work)</li>
					<li>fixed a variety of old hacky wx close-window veto tests. the 'close client?' confirmation dialog will now reliably veto a close requent on 'no'/cancel, dialog close events that are vetoed (such as closing the manage tags dialog with pending tags) will now veto more than just the first time, and several bad media viewer archive/dupe filtering cancel and end-of-window events should now work more cleanly and correctly. users who had crashes at the end of filtering may find they are stable again</li>
					<li>as a quick patch against some multiline notes and statuses, list controls now force single-line text in all cells</li>
					<li>list controls now tooltip all cells</li>
					<li>fixed the shutdown splash not updating after the daemons shut down (lmao)</li>
					<li>'modal' message dialogs, which are created by blocking maintenance tasks such as vacuum, will no longer raise the program to the foreground on creation</li>
					<li>should have fixed the taglist vertical positioning jank that could occur in the row after a tag with a tall emoji unicode character (and also sometimes kanji/hangul)</li>
					<li>fixed a typo bug that was throwing an error for the upnp port widget in the local client server management panel when 'allow non local connections' was checked</li>
					<li>improved stability of bandwidth review panel bandwidth rules refresh</li>
					<li>improved stability of review services bandwidth rules refresh</li>
					<li>improved some dialog cleanup code</li>
					<li>reverted a bad environment-setting change put in last week that was causing some running-from-source users trouble</li>
					<li>misc qt code cleanup</li>
					<li>.</li>
					<li>the rest:</li>
					<li>updated the default pixiv tag search downloader to one submitted by a user. it now uses their api</li>
					<li>updated the default twitter username lookup to a downloader submitted by a user. it fetches just the media tweet feed, making it more efficient. also added (but not linked by default) is a new tweet parser that can fetch most videos using a third-party site, advanced users may wish to play with this</li>
					<li>added a &#123;file_id&#125; term for file export phrases that substitutes a unique and permanent numerical file identifier</li>
					<li>fixed an issue where idle maintenance jobs could sometimes sneak in a few milliseconds of work during certain long shut down pauses, such as while waiting for a 'should I do shutdown work?' dialog to return. program shutdown should be snappier for many users as forced startup delays in these calls will no longer trigger</li>
					<li>added a date 'encode' string transformation rule, which takes an integer timestamp and converts it to a pretty date string. the date rules are now renamed to the clearer 'datestring to timestamp' and vice versa</li>
					<li>fixed page parser edit panel's 'test parse' when string transformations perform pre-parsing conversion. the handling and passing of test data for all the panels here is cleaned up throughout</li>
					<li>system:limit predicate edit panel now has a small label describing its sampling behaviour</li>
					<li>updated the various 8chan links in the client and help to 8kun, let me know if I missed any, and added Endchan bunker link to help menu</li>
					<li>improved some misc status text handling across the program</li>
					<li>refactored cache and manager code into different, simpler files</li>
					<li>updated sqlite on windows build to 3.30.1</li>
				</ul>
				<li><h3 id="version_375"><a href="#version_375">version 375</a></h3></li>
				<ul>
					<li>qt:</li>
					<li>disabled the failed legacy high dpi scaling mode experiment (which was scaling up thumbnails and media in an ugly way) and returned to font-size-based natural ui scaling as set by the OS. a couple of non-font things like bitmap buttons and various layout margins are too small on >100% UI scale, and the splash screen is borked again, but it looks clear again. I'll keep working on this</li>
					<li>fixed the custom taglist at >100% UI scale, which was spacing its tags at the wrong text height. this should survive changing ui scale while the program is open and environments with multiple monitors at different ui scale</li>
					<li>re-fixed a critical old media-viewer-close-on-video memory leak from wx code to qt code. this was also a cause for some child ffmpeg processes not being terminated</li>
					<li>fixed the media viewer not redrawing correctly when the media size completely exceeds the canvas window size</li>
					<li>fixed the loading of the shortcut edit panel when the shortcut set a tag</li>
					<li>fixed some url class edit path component ui</li>
					<li>fixed and cleaned up some 'safe window size/position' calculations that were missing out the total frame geometry, meaning some dialogs were not moving up and left enough to show entirely on screen, and dialogs with parent-dimension gravity were not calculating initial size accurately</li>
					<li>fixed focusing on the already-open manage tags text input when you hit 'manage tags' on a canvas with a manage tags dialog already open</li>
					<li>fixed the html formula rule edit ui actually rendering html tag labels, lmao</li>
					<li>updated boot-password entry to use the normal hydrus text entry dialog, and fixed a hydrus password cancel not setting a 'clean' exit for the next boot</li>
					<li>fixed page layout splitter sash positions not resetting nicely from the menu command</li>
					<li>fixed keyboard delete in the manage urls dialog</li>
					<li>popup message titles are now in bold</li>
					<li>popup message titles should now multiline correctly and fill available width</li>
					<li>the popup messages manager should now set its min/fixed width more sensibly</li>
					<li>subscription popups now will be wider if space is available</li>
					<li>wrote a new class to manage better asynchronous updates for future Qt ui presentation</li>
					<li>the file, pages, and pending menubar menus, which all require a db hit to generate, now operate on this new update class. all three should update faster when able and more politely and smoothly wait when the db is busy</li>
					<li>reduced some accidental blocking in an old ui-update routine that kicked in when it was running hard</li>
					<li>if the media_viewer frame type is set not to remember its 'last size', it will now instantiate with a small min size</li>
					<li>when pasting new queries into a sub, if there are more than 5 or 50 that are already in or new, they will be rendered in a more compact way in order to stop the notification dialog growing too tall</li>
					<li>improved stability of page update, splash screen update, and perhaps pubsub update</li>
					<li>.</li>
					<li>new file maintenance jobs:</li>
					<li>added a new 'check for missing files' file maintenance job, where if the file is missing and has urls, those urls will be queued up in a new url downloader for redownload. the file record is not removed, preserving archive/inbox and import time</li>
					<li>added a new 'check for invalid files' file maintenance job that does the same deal as above with an additional expensive byte-for-byte content check if the file is not missing</li>
					<li>added a new 'check for invalid files' file maintenance job that only cares about invalidity--if the file is present and invalid, it is moved out but the file record is not removed</li>
					<li>.</li>
					<li>the rest:</li>
					<li>network jobs that receive low-bandwidth error codes from the server now use a separate wait routine (previously, they piggybacked on the connection fail retry system). they have a separate cog-menu action to override these waits</li>
					<li>the time delay multiple for connection errors and serverside bandwidth problems are now editable under options->connection. old default was 10 seconds base, now 15 and 60 seconds respectively</li>
					<li>updated the danbooru login script</li>
					<li>improved the precision of the thumbnail size estimate in database migration</li>
					<li>the alphabetisation of a url class's GET paramaters on normalise is now optional. it is a new checkbox on the url class edit panel</li>
					<li>when a default object fails to load from a png path, a simple error is now written to the log</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_374"><a href="#version_374">version 374</a></h3></li>
				<ul>
					<li>qt environment/build:</li>
					<li>macOS build is useable! tab drag and drop position calculation doesn't work yet, so intra-client file DnDs and tab rearrange DnDs are disabled for now. borderless fullscreen is also disabled, feedback on this vs maximise would be appreciated</li>
					<li>fixed a critical bug in the macOS release that was resulting in 100% CPU repaint loop for the canvas viewer when media was loaded (wew). this may have affected certain other platforms in some situations</li>
					<li>the linux build has a variety of common library files removed, letting your OS rely on higher compatibility system defaults. this _should_ clean up font and other issues for users running on very new/old system libraries. if you cannot run 374, please let me know your distro and version and any error messages</li>
					<li>the special linux running from source document is updated, including info about Arch and PyQt5</li>
					<li>fixed a windows build issue that meant some animated gifs were not able to load and render correctly</li>
					<li>fixed a precise time fetching issue for users running from source with python 3.8</li>
					<li>high dpi scaling should have improved support. please report on bad layout issues and other artifacts</li>
					<li>fixed creating a serialised object png when using PyQt5</li>
					<li>fixed file save dialogs with filetype filters when using PyQt5</li>
					<li>fixed an important menubar related memory leak</li>
					<li>_seem_ to have fixed an important media viewer memory leak</li>
					<li>.</li>
					<li>qt ui fixes:</li>
					<li>fixed pages not collecting and sorting on creation if they do not have to, which restores the 'preserve flat unsorted order' behaviour of session loads and file drag and drop page tab creations</li>
					<li>fixed the cursor not unhiding on move in the media viewer when over an animation or static image</li>
					<li>fixed the issue where a new thumbnail panel would double-up with the old one for half a second if a menu caused the panel swap</li>
					<li>reworked the elided (text that cuts off...) label code to more reliably work on single lines, which fits our purposes. the network job control (esppecially on subscription popups) and top hover window should now show their long statuses without changing their parent panel's layout</li>
					<li>updated a variety of old text-wrap-width wx-hacks texts to instead auto-fill available space</li>
					<li>the various downloaders should now be careful about handling large status texts. if a multiline error or html page slips in to a status somewhere, your download pages' lists should no longer go nuts with very tall spam-filled status cells</li>
					<li>hydrus->discord drag and drop should be fixed if the BUGFIX is on!</li>
					<li>fixed page tab drag and drop to do live drag selection with 'do not follow' behaviour (this is switched by holding down shift during drag), and, in this case, got it to return to the original page's neighbour/parent once the drop is complete</li>
					<li>fixed 'center' dialogs positioning on the center of their parent windows, rather than the center of the primary screen</li>
					<li>fixed the hover windows not passing shortcuts up to the media viewer when not consumed</li>
					<li>fixed some misc 'can I consume a shortcut' focus/active checking code</li>
					<li>fixed the various hide/parents/siblings tag menu items for tags with counts</li>
					<li>fixed the main gui and other non-dialog windows remembering their pre-maximise/fullscreen sizes if set to remember size and previously closing while maximised/fullscreened</li>
					<li>menubar menus should now show description text in the main gui statusbar on mouseover of their items</li>
					<li>fixed a bad menu initialisation in the canvas preview panel</li>
					<li>fixed a little page splitter bork and improved size of preview window on initial boot</li>
					<li>fixed the edit notes dialog when launched from the media viewer</li>
					<li>fixed a couple of text edit issues in edit url class panel</li>
					<li>fixed page up/down scroll for taglists</li>
					<li>fixed page down scroll for thumbnail grid, and fixed page up/down distance</li>
					<li>fixed thumbnails not scrolling into view if they are keyboard-selected slightly off screen but within the scroll option percentage threshold</li>
					<li>misc layout and style cleanup</li>
					<li>misc refactoring</li>
					<li>.</li>
					<li>misc:</li>
					<li>you can now set the maximum size of duplicate filter pair batches (default 250) under options->duplicates</li>
					<li>when an ipfs service fails to pin a file and returns no hash or the empty multihash, this is now recognised, info dumped to log, a simple popup message sent, and the job continued. this is just a patch--better error handling here will come later</li>
					<li>if the client or server are launched with a custom temp_dir that does not exist, it will now attempt to create it (previously errored out)</li>
					<li>fixed a clean exit after certain client boot fail error handling, and repeated cleaner exit for the server</li>
					<li>added some new memory profiling actions to the help->debug menu</li>
					<li>parallel subscriptions should now initialise with less of an aggresive CPU spike</li>
					<li>if the client or server crash before the application can be launched, the crash log is now called hydrus_crash.log. if the db dir is not yet established, it will now try to find and put it in your desktop and, failing that, then your user dir</li>
					<li>the client no longer prints 'booting db' twice</li>
					<li>a variety of misc code cleanup and fixes</li>
				</ul>
				<li><h3 id="version_373"><a href="#version_373">version 373</a></h3></li>
				<ul>
					<li>qt:</li>
					<li>hydrus now uses Qt for its client's user interface, migrating from wx. this is thanks to a huge effort by a user, who delivered converted code for hydrus dev to finish off</li>
					<li>a number of hacks and patches remain to compensate for old systems, which hydrus dev will slowly clean up in normal work. ui bug and layout issue reports would be greatly appreciated</li>
					<li>shortcut storage had to be converted from fixed wx enums to an independant system. there is a small chance that one of your shortcuts, particularly if it is on the numpad, may have been converted wrong (unusual Enter/Return buttons may be hit here). if one is not working, please check what hydrus thinks it is and try re-entering it</li>
					<li>added tentative support for 'Mode_switch' keyboard modifier, for X11 users (and perhaps some users' AltGr?)</li>
					<li>autocomplete results can now float in a popup window in dialogs like manage tags! they'll still embed by default, but there are now separate float/embed options for 'main gui' and 'other frame' a/cs</li>
					<li>autocomplete results can now float in linux and macOS ok!</li>
					<li>page drag and drop now navigates as you drag, so dropping into a page of pages works by you hovering over it and then dropping in the tabbar below, inserting exactly where you want the page to be</li>
					<li>a couple of text inputs in the program--the watcher and gallery search pages' text inputs, particularly--now use nicer 'placeholder' text, which isn't real and only shows as grey text when the input is empty</li>
					<li>for now, moved to icons for thumbnail 'has audio/duration' indicators, rather than the custom labels</li>
					<li>to run the hydrus client from source, qtpy is now needed. either pyside2 (default) or qtpy5 is needed. QtCharts is optional. wx and matplotlib are no longer needed</li>
					<li>.</li>
					<li>misc:</li>
					<li>'archive/delete filter' now appears even when no file is focused. it also appears when no files are selected--and will apply to everything</li>
					<li>the system predicate edit panels now support static buttons for easy one-click select for common predicates. duration, has audio, limit, and num tags now have these</li>
					<li>system:duration and system:num tags now render a special label if they are >0 or =0</li>
					<li>system:untagged is now removed from the normal list</li>
					<li>fixed a critical cpu inefficiency in the file maintenance manager's new always-on maintenance, which was lagging several users' browsing sessions while it was working</li>
					<li>fixed ctrl+mousewheel tag autocomplete results navigation to skip over multirow parent results</li>
					<li>fixed an issue where resetting to default bandwidth rules for a network context would not update the ui properly</li>
					<li>fixed a bug when adding a parent/sibling from autocomplete results list</li>
					<li>the serialised png export folder now catches when a manually inputted export path's directory does not exist</li>
					<li>reduced metadata update lag of pages with very large media collection groups</li>
					<li>the inaccurate 'add tags based on filename' button is now called 'import with tags'</li>
					<li>fixed a database UNIQUE issue when two duplicate gui session save calls happen within one second</li>
					<li>the server's lock_off command now works with the Hydrus-Key header auth (rather than hanging indefinitely wew)</li>
					<li>the server now caches hashed access keys in the session manager, in memory, to avoid a db hit on access-key based reauthentication, and in instances where this authentication requires a db hit, now cleanly provides an appropriate 'serverbusy' error</li>
					<li>improved some media object memory management and speedy cleanup</li>
					<li>improved boot fail graceful exit</li>
					<li>removed a bunch of defunct flash (swf) hacks from media viewer code</li>
					<li>bunch of misc non-qt cleanup as I went through the code</li>
					<li>fixed a bug with rendering network credentials for human display</li>
					<li>cleared out the ancient tag archive sync advanced help and added a stub for the new tag migration window</li>
					<li>various help updates around wx->Qt</li>
				</ul>
				<li><h3 id="version_372"><a href="#version_372">version 372</a></h3></li>
				<ul>
					<li>petitions processing page:</li>
					<li>the selection taglist now displays the raw 'storage' tag view, before siblings are applied</li>
					<li>added a noneable spinctrl to control how many files are shown on a petition row double-click. it samples randomly and defaults to 256</li>
					<li>I think I fixed the issue where the petitions taglist sometimes hangs on to some old tags after a petition process event</li>
					<li>.</li>
					<li>the rest:</li>
					<li>you can now customise the animation scanbar height and nub width under options->media</li>
					<li>all users now see the number of open pages in the pages menu</li>
					<li>added approx total session 'weight' to the pages menu. this is an early test and will do more and update more frequently in future</li>
					<li>added add/remove tag to favourites to the taglist right-click menu</li>
					<li>collapsed the taglist right-click menu a little, as it was getting a bit tall</li>
					<li>added https://gitgud.io/koto/hydrus-archive-delete, a web browser archive/delete filter, to client api help</li>
					<li>added clipboard import/export buttons to the edit tag filter panel for the new favourites</li>
					<li>added 'open in a new page' to media viewer right-click menus, just to put the current single media in a new page</li>
					<li>fixed the url class edit panel not initialising with the new referral options correctly</li>
					<li>the call that publishes new subscription/import folder media to pages now does so more politely to the gui when the db is busy</li>
					<li>subscriptions will no longer start if global network traffice is paused</li>
					<li>the 'hard-replace siblings/parents' action under manage tags is now a local-only operation for tag repositories. clients with unusual sibling and parent application will no longer affect the repos they sync with</li>
					<li>on program shutdown, if a daemon takes more than thirty seconds to shutdown (which can happen in odd situations, like if a subscription run is paused by global network traffic pause, leading to shutdown deadlock), the client will stop waiting and continue with other shutdown tasks</li>
					<li>fixed an error with client 'already running' fast exit</li>
					<li>fixed a different error with server 'already running' exit choice</li>
					<li>updated some ffmpeg calls to fix certain OS problems</li>
					<li>fixed a help link to todolist recommendation and added link to new ptr guidelines</li>
				</ul>
				<li><h3 id="version_371"><a href="#version_371">version 371</a></h3></li>
				<ul>
					<li>the edit tag filter panel now has load/save/delete buttons at the top to manage tag filter favourites. it starts with a handful of examples</li>
					<li>sorting thumbnails by num tags or namespaces now uses the 'single' tag display context</li>
					<li>the 'sort by media views/viewtime' sorts now do not put the other (viewtime/views) as an implicit secondary sort, so as to better let the user's secondary sort be used</li>
					<li>highlighting a downloader should now not be able to create a page with duplicate thumbnails</li>
					<li>all thumbnail pages now do an addition de-dupe check when they are created with media</li>
					<li>when a gallery page parser now adds new urls to a file import list, urls that are invalid will now be skipped (previously, they threw an error and failed the parse</li>
					<li>fixed a bug where if a default collect is set, pages without a collect (e.g. download pages) would nonetheless initialise with collected+sorted initial media on session load</li>
					<li>file imports now publish the same 'refresh existing media metadata' call as the file maintenance system, meaning if the import already exists in the gui session as an 'unknown thumb', it should now refresh itself correctly</li>
					<li>if the media canvas is called to display an invalid media (due to mime mixup or a faulty parse that slips through), it should now better recognise that and skip/dump out</li>
					<li>fixed import of videos that have 'Duration:' in their title metadata</li>
					<li>improved the error reporting when the old options object fails to save</li>
					<li>removed some old ratings dialog position options storage that was causing errors on certain ratings dialog ok events</li>
					<li>url classes now support options regarding the 'referer' http header they send (their referral url). you can set an optional converter to generate a referral url based on the url class's url and choose to always use the given referrer if available, never use a referrer, use the converter if no referrer is available, or always use the converter</li>
					<li>the network report mode now reports on referral urls used in requests</li>
					<li>the 'quoted' referral url (a unicode workaround) is now only applied if the referral url cannot be encoded to latin-1</li>
					<li>the janitorial petitions processing page now lets you copy tags and left/right tags of pairs with a right-click on selected checkbox rows</li>
					<li>cleaned a little server code</li>
					<li>improved how the server sets and releases its 'currently busy' mode</li>
					<li>the server no longer does &lt;5min vacuums in a backup command</li>
					<li>added a specific 'vacuum' server POST command that forces a full vacuum</li>
					<li>added 'lock_on' and 'lock_off' server POST commands to lock the server and shut down the db, and restart</li>
					<li>the new vacuum, lock_on, lock_off, and a 'is server busy?' check commands are added to the services->admin menu</li>
					<li>added 'pause and disconnect' ability to the database mainloop</li>
					<li>added some unit tests for url classes and the new referral url conversions and server commands</li>
					<li>cleaned some of the thumbnail banner/icon drawing code</li>
					<li>some misc label fixes</li>
				</ul>
				<li><h3 id="version_370"><a href="#version_370">version 370</a></h3></li>
				<ul>
					<li>tag display updates:</li>
					<li>the old tag censorship system is now replaced by a broader tag display manager that will deal with tag storage and presentation settings. this is the first step, and some of it is not yet completely functional or as efficient as intended</li>
					<li>management for the new tag display manager can be found under services->manage tag display. you can set per-service and all-services filters for 'multiple' display like the 'tag selection' boxes and for 'single' file views, like thumbnails and the media viewer</li>
					<li>existing censorship rules will be added to the new manager and will apply to 'selection list' and 'single media' display rules</li>
					<li>censorship/display rules no longer apply to underlying storage views, which are unfilterable for now, so the manage tags dialog and the autocomplete lookup will now show all tags</li>
					<li>page and media viewer taglists now have new right-click menu options for hiding--they will provide hide options for the specific tag clicked, and its namespace more broadly, and will apply immediately to that kind of taglist (previously, this was just the tag, and launched the tag censorship edit panel)</li>
					<li>all 'tag manager' objects behind every media object in the client now pre-compute cache layers for different tag presentation contexts. operations such as sibling collapse are now only done on file load or new siblings</li>
					<li>for now, initial media load will take slightly longer, but various tag display updates and autocomplete tag fetches on media will be faster</li>
					<li>changes to siblings and the new tag display rules will now trigger a reliable (although, for siblings, delayed by a few seconds) and complete tag list and thumbnail and media viewer refresh</li>
					<li>changes to tag presentation will now correctly update collection thumbnails</li>
					<li>some complicated sibling display and counts are now more precise</li>
					<li>cleaned up some tag/siblings/thumb refresh notification code</li>
					<li>cleaned up all tag manager access code</li>
					<li>cleaned up a variety of related tag fetching, counting, and display code</li>
					<li>.</li>
					<li>the rest:</li>
					<li>added 'system:modified date'. it works just like system:time imported</li>
					<li>files with duration but no audio will now have a ' ▶ ' label in the top-left of their thumbnails, like the 'has audio' one. you can edit this label under options->audio and duration. I don't really like how this looks, so maybe we'll go to icons. let me know what you think</li>
					<li>fixed an iteration timing bug in the new asynchronous repository mappings processing that meant large lists of mappings within an update object may be occasionally truncated, leaving some mappings unprocessed. this would more affect users on slower machines running 'process now'</li>
					<li>any tag repository content updates issued in the last eight weeks will be scheduled for reprocessing to cover the above issue and fill in gaps for most user situations. since the vast majority of the data was added as intended, they should catch up very fast</li>
					<li>added two pixiv url classes for their new url format</li>
					<li>the edit subs panel now recommends users break up subs with >200k urls</li>
					<li>the 'separate' subscriptions button now has a new 'break in half' option. subscriptions that have more than 100 queries will auto-choose this to separate</li>
					<li>the 'quality info' button for advanced users' edit subscription panels now gives the option to additionally copy the info to your clipboard in CSV format</li>
					<li>the lists on the gallery downloader, thread watcher, subscription, and subscriptions panels now sort their progress column by ( y, x ) (given a total status of x/y). previously, this was preceded by a percent-done sort</li>
					<li>the hydrus network engine now recognises 429 bandwidth responses</li>
					<li>on 429 or 509 bandwidth responses, network jobs will now go through the regular reconnection delay loop and try again later (previously, they just failed)</li>
					<li>added 'tag migration' to 'services' menu for quick-launch</li>
					<li>tag migration's 'go' action now skips the second confirmation if you are in advanced mode</li>
					<li>expanded the 'reset' review services button (only visible to advanced users) to allow 'softer' resets that simply reprocess definition/content without deletion (a 'filling in the gaps' command)</li>
					<li>fixed the 'process now' review services button disable check, which was being overzealous</li>
					<li>cleaned up some of the new repo 'caught up' checking code</li>
					<li>improved stability of review services 'refresh account' call</li>
					<li>the client api /manage_pages/get_page_info call now returns a list of hash_ids beside the list of hashes, in simple or not simple mode</li>
					<li>fixed a bug where tag import options that still had a secret deleted service reference were causing tag-parse errors on import jobs</li>
					<li>fixed some other places that were not handling service disappearance neatly</li>
					<li>added a note to the install/backup help to mention not to use continuous cloud-sync backups on your live db directory</li>
					<li>misc unit test refactoring</li>
				</ul>
				<li><h3 id="version_369"><a href="#version_369">version 369</a></h3></li>
				<ul>
					<li>file maintenance:</li>
					<li>the file maintenance manager now works continuously in the background, optionally in both idle and active time, with two different throttles, which are now always active</li>
					<li>as usual, the default throttles are low-load (1 heavy job every 2 (idle) or 20 (normal) seconds), so as not to interfere with your browsing or other programs--feel free to speed them up as you wish</li>
					<li>the options for file maintenance under 'maintenance and processing' are updated, and quick-pause actions are now available under database->maintain->file maintenance</li>
					<li>the file maintenance manager no longer works on shutdown</li>
					<li>the file maintenance manager will now only make a popup if it is started by the user--it otherwise now works silently in the background</li>
					<li>the file maintenance manager now weights its jobs, so quick jobs will run faster and heavy jobs will space out more. exact weights, if you are interested, are now under the 'see description' button on the maintenance panel</li>
					<li>file maintenance jobs now report to the debug file report mode</li>
					<li>improved some misc file maintenance code, particularly with how the panel talks to the manager</li>
					<li>media with new metadata will now refresh their thumbnails (for now, this means updating the has_audio icon)</li>
					<li>.</li>
					<li>modified timestamps:</li>
					<li>the client now records file modified timestamps of all file imports!</li>
					<li>on update, the retroactive population of this data for all existing local files will be scheduled on the file maintenance system, which has a new job type for this</li>
					<li>the modified time now appears on a file's information lines that present on a right-click</li>
					<li>the modified time can be sorted with the new 'file: modified time' sort</li>
					<li>.</li>
					<li>the rest:</li>
					<li>added lexicographic sort by subtag (ignoring namespace) to the normal taglist sort selection</li>
					<li>reworded the sort by lexicogrphic (grouped by namespace), to be (group unnamespaced)</li>
					<li>the export files panel now has an explicit button to change the neighbouring .txt file tag services</li>
					<li>on duplicate merge action options panel, 'sync archive' is no longer disabled for advanced users' 'alternates' duplicate action</li>
					<li>split the download and process sync components of repositories a little</li>
					<li>added a 'download now' button to repositories' review services panels, to hurry up metadata/update download when possible</li>
					<li>the 'process now' button's enable/disable states should now be more reliable</li>
					<li>the 'refresh account' button now disables when a repository is paused</li>
					<li>improved stability of 'process now' button post-job updating</li>
					<li>added a subscription option to the downloading option panel to change how many file-fails in a run will cause a sync to stop working early</li>
					<li>re-added the truncated image loading mode to the debug->data actions menu. this has hung indefinitely with some bad files, so it not on by default</li>
					<li>fixed an issue with copying an external local booru url with a upnp port</li>
					<li>fixed an unrecoverable ui hang when a modal popup wants to self-terminate while a child yesno is open</li>
					<li>if on a hydrus request the session key is invalid (due, for instance, to a recent serverside session clearing :^)), the session key cookie will now correctly be cleared clientside so a new one can be generated automatically on the next request</li>
					<li>hydrus services can now take the access key as their credential using the 'Hydrus-Key' header. more options will come here, basically the same as the client api</li>
					<li>network jobs waiting on a login process now continue faster once the login is complete (5s sleep cycle down to 1s)</li>
					<li>perhaps fixed some linux problems with tag migration panel, perhaps not</li>
					<li>caught and silenced a rare unimportant services shutdown error</li>
					<li>updated to opencv 4.1.1 on the linux build</li>
					<li>updated windows ffmpeg to 4.2.1</li>
				</ul>
				<li><h3 id="version_368"><a href="#version_368">version 368</a></h3></li>
				<ul>
					<li>multiple local tag services:</li>
					<li>you can now add additional local tag services under services->manage services!</li>
					<li>new local tag services will appear in manage tags and tag import options and so on, just like when you add a tag repository</li>
					<li>you can also delete local tag services, but you must have at least one</li>
					<li>the default local tag service created for a new client is now renamed from 'local tags' to 'my tags'. any existing user with their local tag service called 'local tags' will be renamed on update to 'my tags'</li>
					<li>.</li>
					<li>ptr migration:</li>
					<li>the ptr has been successfully migrated to user management! hydrus dev is no longer involved in running or administering it. the old bandwidth limits are removed! it has the same port and access key, but instead of hydrus.no-ip.org, it is now at ptr.hydrus.network</li>
					<li>on update, if you sync with the ptr, you will get a yes/no asking if you want to continue using it at the new location. on yes, it'll update your server's address automatically. on no, it'll leave it as-is and pause it. if you still have a connection to my old read-only file repo, that will be paused</li>
					<li>changed the auto repo setup command to be _help->add the public tag repository_. it points to the new location</li>
					<li>as repo processing and related maintenance is now nicer, and secondarily since bandwidth limits are less a problem for the ptr specifically, the default clientside hydrus bandwidth limit of 64MB/day is lifted to 512MB/day. any users who are still on the old default will be updated</li>
					<li>updated the help regarding the public tag repository, both in general description and the specific setup details</li>
					<li>a copy of the same sanitized and frozen PTR db used to start the new PTR, and convenient tag archives of its content, are now available at https://mega.nz/#F!w7REiS7a!bTKhQvZP48Fpo-zj5MAlhQ</li>
					<li>.</li>
					<li>the rest:</li>
					<li>fixed a small bug related to the new 'caught up' repository mechanic for clients that only just added (or desynced) a repository</li>
					<li>rewrote the tag migration startup job to handle specific 'x files' jobs better--they should now start relatively instantly, no matter the size of the tag service</li>
					<li>on 'all known files' tag migrations, a startup optimisation will now be applied if the tag service is huge</li>
					<li>fixed the tag filter's advanced panel's 'add' buttons, which were not hooked up correctly</li>
					<li>the internal backup job now leaves a non-auto-removing 'backup complete!' message when finished</li>
					<li>on update, server hydrus repositories will collapse all their existing content timestamps to a single value per update. also, all future content uploads will collapse similarly, meaning all update content has the same timestamp. this adds a further layer of anonymity and is a mid-step towards future serverside db compaction (I think I can ultimately reduce server.mappings.db filesize by ~33%). if you have a tag repo with 10M+ mappings, this will take some time</li>
					<li>hydrus servers now generate new cert/key files on boot if they are missing. whenever they generate a new cert/key, they now print a notification to the log</li>
					<li>misc help fixes and updates, and removed some ancient help that referred to old systems</li>
					<li>corrected journalling->journaling typo for the new experimental launch parameter</li>
				</ul>
				<li><h3 id="version_367"><a href="#version_367">version 367</a></h3></li>
				<ul>
					<li>tag migration:</li>
					<li>added htpa and tag service sources for parents/siblings migration that support filtering for the left and right tag of each pair</li>
					<li>added htpa and tag service destinations for parents/siblings migration</li>
					<li>added unit tests for all parent/siblings migration scenarios</li>
					<li>misc improvements to mappings migration code</li>
					<li>reworded some of the tooltip/tag filter message text to more clearly explain how the filter applies to migrations</li>
					<li>the tag filter edit panel now has a 'test' area where you can put in an example tag to see if it passes or is blocked by the current filter</li>
					<li>.</li>
					<li>the rest:</li>
					<li>fixed an issue with auto-no-ing yes/no dialogs throwing errors on exit. I am sorry for the inconvenience!</li>
					<li>thumbnails now show the 'has audio' string on their thumbnails</li>
					<li>'sort by file: has audio' added!</li>
					<li>icons drawn on thumbnails are now adjusted to sit inside the border</li>
					<li>added increment/decrement numerical ratings actions for media shortcuts! if a file hit by this action has no rating, it will initialise with 0/1 stars or max stars. please forgive the ugly expanding ui in the shortcuts panel here--I'll rewrite this to layout more dynamically in future</li>
					<li>client repository services now track whether they are 'caught up' to their repos, which for now means processed up until at least two weeks ago, and will prohibit uploading new content until the client is caught up</li>
					<li>repository review services panels will now display the 'caught up' status below the 'processed' progress gauge</li>
					<li>repository review services panels will no longer duplicate 'account' status problems in the 'this client's network use' status line--both lines now refer to service/account functionality separately</li>
					<li>repositories will now put in 'unknown error' when an empty error reason slips through the 'no requests until x time' reporting process</li>
					<li>the new thumbnail and media viewer right-click menus now collapse the selection info lines at the top to just the top line and places all the rest (and in complicated file domain situations, this can be a long list) in a submenu off that line</li>
					<li>the new thumbnail 'remove' submenu has separators after 'selected' and 'all' to reduce misclicks</li>
					<li>reworded a couple of things in the manage shortcuts panel to be more clear</li>
					<li>added wildcard support ('eva*lion') and namespace wildcards (like 'character:*') to the advanced OR text input parsing</li>
					<li>fixed a rare issue with the duplicate filter being unable to go back or retreat from an interstitial confirm/forget/cancel dialog when every pair in the current batch cannot be displayed (such as if at least one of the pair has been physically deleted). the filter now catches this situation, informs the user, and closes itself gracefully</li>
					<li>added two extremely advanced and dangerous launch parameters for database access testing</li>
					<li>couple of misc fixes and cleanup</li>
				</ul>
				<li><h3 id="version_366"><a href="#version_366">version 366</a></h3></li>
				<ul>
					<li>tag migration:</li>
					<li>wrote a unified mass-migrate pipeline to make moving large amounts of data in and out of the client more powerful and more pleasant like other recent non-interrupting changes</li>
					<li>the advanced content update dialog is now renamed to 'migrate tags', both on the review service panel and the manage tags dialog, and has been completely revamped to reflect the new migration pipeline, which works on a location-agnostic (content type, source, filtering, destination, action) model</li>
					<li>the advanced content update dialog is now a non-modal frame--you can keep using the client while it is open, and it will not prohibit the popup from appearing while it works</li>
					<li>added hta and tag service mapping sources to the new migration pipeline, with hash conversion, content status filtering, file domain filtering, specific hash filtering, and tag filtering</li>
					<li>added mappings clear deletion record action to the normal content update pipeline</li>
					<li>added hta and tag service mapping destinations to the new migration pipeline, with appropriate choosable content action (add for HTAs, add, delete, clear deletion record for local tags, and pend, petition for tag repositories)</li>
					<li>added stub list sources and destinations for testing the new migration pipeline</li>
					<li>wrote comprehensive unit tests to test mappings migrations with hta source and destination, including tests for file domain, hash type conversion, and tag filtering</li>
					<li>wrote comprehensive unit tests to test mappings migrations with local tags or tag repository service source and destination, including tests for file domain, hash type conversion, tag filtering, and content status</li>
					<li>adjusted the tag archives to have an optimise call separate from the commit call, so you can do several big jobs in a row faster, or pre-optimise, or top up a well-optimised db without wasting time re-optimising every commit</li>
					<li>added a Close method to Tag Archives just for a nicer explicit exit</li>
					<li>wrote a HydrusTagPairArchive to store sibling and parent tag pairs</li>
					<li>deleted old tag db migration and archive syncing code, which is no longer used</li>
					<li>deleted some related old hta import/export code</li>
					<li>removed the 'tags' export option from the thumbnail share->export menu</li>
					<li>accessing 'migrate tags' is no longer gated by advanced mode on the manage tags dialog cog menu</li>
					<li>the hydrus database now creates a name.temp.db database while it is running to support long-term temp jobs such as the new migration. this file is otherwise unimportant and is deleted on a clean exit</li>
					<li>.</li>
					<li>thumbnail menu rework:</li>
					<li>shifted the thumbnail menu around to group 'view' vs 'action' commands together more sensibly and bury less frequent commands away from the top list</li>
					<li>the 'remove' menu command is now a submenu with filters for 'selected/not selected/ all/inbox/archive'. it also displays on a right-click with no focused file</li>
					<li>'delete' now has separator on both sides to reduce accidental clicks</li>
					<li>'share->open' is now moved up a level and inherits 'open in new page' and 'open externally'</li>
					<li>the 'remote services', 'file relationships' and 'regenerate' submenus are moved to the 'manage' submenu</li>
					<li>made similar changes to the media viewer menus, including grouping the zoom/fullscreen/slideshow commands together and making the zoom commands a submenu</li>
					<li>misc wording and count changes to this menu</li>
					<li>.</li>
					<li>the rest:</li>
					<li>added 'main_gui' shortcuts for 'refresh_all_pages' and 'refresh_page_of_pages'. the second shortcut refreshes all pages under the most immediate page of pages parent</li>
					<li>fixed an issue where under-construction OR predicates were not displaying with the system predicate list</li>
					<li>the 'import local files' frame, which pops up when you drop some paths on the client, is now on the new panel system and sizes and cleans itself up more sensibly as a result</li>
					<li>refactored the remaining 100-odd yesno dialogs to the one that works on the new panel system</li>
					<li>misc yesno dialog message and logic cleanup</li>
					<li>fixed an issue where the export files dialog could hang indefinitely if the filename phrase involved long shared tags that resulted in duplicate paths for the first 245 characters in length. now, the long-filename truncation is done before the de-duping ' (n)' text is appended, and the length limit is reduced to 240</li>
					<li>removed the now-defunct 'regen similar files metadata' command under the database menu--this is now handled in the new file maintenance processing system</li>
					<li>improved database optimisation code to better check if empty/small tables have suddenly grown and improved quality of optimisation data for frequently emptying tables</li>
					<li>fixed the 'clear orphan file records' maintenance task, which was not performing the final clear on the correct domain</li>
					<li>fixed some bad error presentation</li>
					<li>fixed the duplicate page not refreshing maintenance numbers after maintenance job completion</li>
					<li>cleared out a bunch of old py2to3 safety code, maybe sped up some sibling/parent/mappings stuff</li>
					<li>misc ui cleanup and small fixes</li>
				</ul>
				<li><h3 id="version_365"><a href="#version_365">version 365</a></h3></li>
				<ul>
					<li>new repo processing:</li>
					<li>improved the new asynchronous repository processing system in several ways:</li>
					<li>- it now uses the time it is allotted more accurately. when it has 0.45s to work, it hits this mark more often, especially on slower machines</li>
					<li>- it is now politer to the ui if plenty of other work is going on--if the db is loading search results or you are viewing video, it should pause for milliseconds as needed</li>
					<li>- it can now work up to 90% of the time during a manual 'process now' run</li>
					<li>- when it is working faster than expected, it accelerates its load to operate more efficiently</li>
					<li>as a result, the new system should now have faster rows/s and lag out the ui less</li>
					<li>.</li>
					<li>client api:</li>
					<li>improved how parameters are fetched and tested against expected type and given default values if appropriate, and updated all client api code to use this new system</li>
					<li>added /manage_pages/get_page_info, which gives simple or detailed info on a given page, found by page_key</li>
					<li>added page info response to hdd importers, simple downloaders, url downloaders, gallery downloaders, watcher downloaders--they say their pause status and file/gallery import info as appropriate</li>
					<li>added page info response to file import caches--they say their status and num_done/num_to_do, and in detailed mode report file import item info, which is url/path, created, modified, and source times, current status, and any note</li>
					<li>added page info response to gallery logs--they say their status and num_done/num_to_do, and in detailed mode report gallery log info, which is url, created and modified times, current status, and any note</li>
					<li>added page info response to thumbnail panes--they say their total num files, and in detailed mode list their ordered hashes</li>
					<li>started some help for this expansion, but it will need some feedback and more work to finish</li>
					<li>the client api now sorts /get-files/search_files results by import time, newest to oldest. this first hardcoded sort comes to help implement booru-like pagination, but will be expanded to support more types as I flesh out the ui side (as below) as well</li>
					<li>hydrus services, including the client, should now be able to handle larger request header+path total size (16KB->1MB). this helps some larger GET queries in the client api. let's see how this goes</li>
					<li>client api is now version 11</li>
					<li>.</li>
					<li>collect improvements:</li>
					<li>the collect data attached to pages is updated to its own object. the default value and existing page settings should update. all ui now handles the new clean object, rather than the old messy list</li>
					<li>the new collect object supports an option for whether to collect 'unmatched' thumbs or to leave them separate. this displays in the ui as a dropdown beside the collect-by checkboxlist</li>
					<li>to better distinguish between unmatched singles and matched collections with just one item, all one-item collections will now act as collections, with the little '1' collection icon in their corner (previously, they were split into singles). if this is annoying, I will add another option to control whether this occurs</li>
					<li>removed some old 'integrate media into existing collected structure code' that was complicated, never used, and now broken</li>
					<li>misc sort/collect refactoring</li>
					<li>deleted some old unused collection code</li>
					<li>.</li>
					<li>the rest:</li>
					<li>entering tags in the filename tagging panel, either for all or just selected, now pushes those tags to the 'recent tags' list in later manage tags dialogs</li>
					<li>added a framework to start sorting search results before the system:limit is applied--I will soon extend this to start catching the current ui sort (say, 'largest files first', and cut a system:limit appropriately, rather than the current random sample)</li>
					<li>added a faster table size check on the analyze maintenance call that will recognise fast-growing tables (e.g. initially empty/tiny repository processing tables that may have seen a ton of recent work) and schedule them better (this was previously potentially hanging certain maintenance checks/shutdown by several minutes when hitting a surprisingly giant table)</li>
					<li>reduced the analyze frequency for established tables</li>
					<li>the client will now explicitly count as 'idle' and 'very idle' during shutdown maintenance time, in case any shutdown job is considering that for how greedy it should be with work time</li>
					<li>fixed an issue where appending new media (thumbnails) to a page that already had that media but within a collection could create a duplicate media entry and invalidate some internal data links to the old media</li>
					<li>subscriptions will no longer print full traceback information when a network error causes a sync fail</li>
					<li>updated to yet another deviant art file page parser. title tags and embedded image links should be fixed again, post/source time is not fixed</li>
					<li>the deviant current art login script is confirmed to work for some users. my guess is certain people are getting cloudflare blocked or aren't being shown the new login page all the time yet, please send in any more info you discover</li>
					<li>the client will now recover from a missing options object by putting in a fresh one with default values, including a popup notifying you of the error and giving you a chance to bail out</li>
					<li>added a warning and link to the quicksync to the access_keys help page</li>
					<li>if the os commands the client to close due to a log off or system shut down, the client will kindly ask for a bit more time do to so if it is available</li>
					<li>updated the WTFPL license to v3</li>
				</ul>
				<li><h3 id="version_364"><a href="#version_364">version 364</a></h3></li>
				<ul>
					<li>repo processing makeover:</li>
					<li>repository processing is now no longer a monolithic atomic database job! it now loads update files at a 'higher' level and streams packets of work to the database without occupying it continuously! hence, repository processing no longer creates a 'modal' popup that blocks the client--you can keep browsing while it works, and it won't hang up the client!</li>
					<li>this new system runs on some different timings. in this first version, it will have lower rows/s in some situations and higher in others. please send me feedback if your processing is running significantly slower than before and I will tweak how this new routine decides to work and take breaks</li>
					<li>multiple repos can now sync at once, ha ha</li>
					<li>shutdown repository processing now states the name of the service being processed and x/y update process in the exit splash screen</li>
					<li>the process that runs after repository processing that re-syncs all the open thumbnails' tags now works regardless of the number of thumbnails open and works asynchronously, streaming new tag managers in a way that will not block the main thread</li>
					<li>'process now' button on review services is now available to all users and has a reworded warning text</li>
					<li>the 1 hour limit on a repo processing job is now gone</li>
					<li>pre-processing disk cache population is tentatively gone--let's see how it goes</li>
					<li>the 10s db transaction time is raised to 30s. this speed some things up, including the new repo processing, but if a crash occurs, hydrus may now lose up to 30s of changes before the crash</li>
					<li>.</li>
					<li>the rest:</li>
					<li>users in advanced mode now have a 'OR' button on their serch autocomplete input dropdown panels. this button opens a new panel that plugs into prkc's neat raw-text -> CNF parser, which allows you to enter raw-text searches such as '( blue eyes and blonde hair ) or ( green eyes and red hair )' into hydrus</li>
					<li>fixed the silent audio track detection code, which was handling a data type incorrectly</li>
					<li>improved the silent audio track detection code to handle another type of silence, thank you to the users who submitted examples--please send more false positives if you find them</li>
					<li>fixed an issue where thumbnails that underwent a file metadata regeneration were not appearing to receive content updates (such as archive, or new tags/ratings) until a subsequent reload showed they had happened silently. this is a long-time bug, but the big whack of files added to the files maintenance system last week revealed it</li>
					<li>the 'pause ui update cycles while main gui is minimised' change from last week now works on a per-frame basis. if the main gui is minimised, media viewers that are up will still run videos and so on, and vice versa</li>
					<li>a few more ui events (e.g. statusbar & menubar updates) no longer occur while the client is minimised</li>
					<li>duplicate processing pages will now only initialise and refresh their maintenance and dupe count numbers while they are the current page. this should speed up session load for heavy users and those with multiple duplicate pages open</li>
					<li>gave the new autocomplete 'should broadcast the current text' tests another pass--it should be more reliable now broadcasting 'blue eyes' in the up-to-200ms window where the stub/full results for, say, 'blue ey' are still in</li>
					<li>fixed an accidental logical error that meant 'character:'-style autocomplete queries could do a search and give some odd results, rather than just 'character:*anything*'. a similar check is added to the 'write' autocomplete</li>
					<li>fixed an issue with autocomplete not clearing its list properly, defaulting back to the last cached results, when it wants to fetch system preds but cannot due to a busy db</li>
					<li>fixed GET-argument gallery searches for search texts that include '&', '=', '/', or '?' (think 'panty_&_stocking_with_garterbelt')</li>
					<li>removed the pixiv login script from the defaults--apparently they have added a captcha, so using Hydrus Companion with the Client API is now your best bet</li>
					<li>the client's petition processing page will now prefer to fetch the same petition type as the last completed job, rather than always going for the top type with non-zero count</li>
					<li>the client's petition processing page now has options to sort parent or sibling petitions by the left side or right--and it preserves check status!</li>
					<li>the client's petition processing page now sorts tags by namespace first, then subtag</li>
					<li>the client now starts, restarts, and stops port-hosted services using the same new technique as the server, increasing reliability and waiting more correctly for previous services to stop and so on</li>
					<li>the client now explicitly commands its services to shut down on application close. a rare issue could sometimes leave the process alive because of a client api still hanging on to an old connection and having trouble with the shut-down db</li>
					<li>the file maintenance manager will no longer spam to log during shutdown maintenance</li>
					<li>sketched out first skeleton of the new unified global maintenance manager</li>
					<li>improved some post-boot-error shutdown handling that was also doing tiny late errors on server 'stop' command</li>
					<li>added endchan bunker links to contact pages and github readme</li>
					<li>updated to ffmpeg 4.2 on windows</li>
				</ul>
				<li><h3 id="version_363"><a href="#version_363">version 363</a></h3></li>
				<ul>
					<li>has audio:</li>
					<li>wrote a detection routine that can determine if a video has audio. it reads actual audio data and should be able to detect videos with a 'fake' silent audio track and consider them as not having audio</li>
					<li>extended the client database, file import pipeline, and file metadata object to track the new has_audio value</li>
					<li>flash files and audio files (like mp3) are considered to always have audio</li>
					<li>all 'maybe' audio files (atm this means video) are queued up for a file metadata reparse in the files maintenance manager. your existing videos will start off as not having audio, but once they are rescanned, they will get it. this is one of the first big jobs of the new maintenance system, and I expect it will need some different throttling rules to finish this job in reasonable time--by default it does 100 files a day, but if you have 50,000 videos, that's a long time!</li>
					<li>files now show if they have audio in their info string that appears on thumbnail right-click or the top of the media viewer. it defaults to a unicode character, but can be edited under the new 'sound' options page</li>
					<li>added a system:has audio predicate to search for files with/without audio</li>
					<li>updated file import unit tests to check 'has audio' parsing, and added tests for system:has audio</li>
					<li>.</li>
					<li>client api:</li>
					<li>the /get_files/file_metadata call now provides has_audio info</li>
					<li>the /get_files/file_metadata call now provides known_urls!</li>
					<li>added 'cookie management' permission</li>
					<li>added /manage_cookies/get_cookies to get current cookies by domain</li>
					<li>added /manage_cookies/set_cookies to set or clear current cookies</li>
					<li>added/updated unit tests for the above</li>
					<li>updated help for the above</li>
					<li>client api version is now 10</li>
					<li>.</li>
					<li>the rest:</li>
					<li>system:hash and system:similar to now accept multiple hashes! so, if you have 100 md5s, you can now search for them all at once</li>
					<li>the thumbnail right-click->file relationships->find similar files now works for multiple selections!</li>
					<li>when system:hash was just one hash, it would run before anything else and complete a search immediately on finding a match, but now it works like any other predicate, checking for file domain and ANDing with other predicates in the search</li>
					<li>the 'complete' file maintenance regen job now only does file metadata, not a complete thumb regen. its name and labels are updated to reflect this, and any existing job in the system will get the separate thumb regen job</li>
					<li>the file maintenance manager now has a couple of how-to sentences at the top, and a new 'see description' button will talk more about each job type</li>
					<li>the login script testing system now uses a duplicate of the existing domain manager (rather than a fresh empty one), so it will inherit current http headers such as default User-Agent, the lacking of which was messing up some tests</li>
					<li>fixed the login script testing system not showing downloaded data</li>
					<li>subscriptions with multiple queries now publish the files they have imported as soon as each query has finished, rather than waiting for the whole sub to be done</li>
					<li>subscriptions now publish the files they have imported to page/popup even if they have an error</li>
					<li>added 9:16, 2:3, and 4:5 to the duplicate comparison statement system, for various vertical social media types</li>
					<li>the autocomplete tag search 'read', which appears on places like search pages, should now more reliably accept the current entered text when there are no search results yet to show</li>
					<li>the autocomplete tag search 'write', which appears on places like the manage tags dialog, should now correctly accept the input (including appropriate sibling-collapse) when you select a 'stub' result while other results are still loading, rather than broadcasting the exact current text</li>
					<li>fixed the deviant art file page parser to get source time--however the login script may now be broken/unreliable</li>
					<li>fixed a missing dialog import when deleting a string transformation</li>
					<li>reduced the base network connection error reattempt time to 10s (from 60s). there will be more work here in future</li>
					<li>network jobs that are waiting on a connection error now have a reattempt wait override option in their cog icon menus</li>
					<li>the post-bad-shutdown 'open your default session or a blank page' dialog will now auto-choose to open your default session in 15 seconds</li>
					<li>a variety of ui-update events will now not fire as long as the main gui is minimised. as well as saving a sliver of resources, I believe this may fix an issue where long-running subscriptions and other import pipelines could sometimes put the ui in an unrecoverable state due to too many thumb-fade etc... events when the currently focused page was receiving new files while the main gui was minimised</li>
					<li>maybe fixed a rare problem with deleting old pages</li>
					<li>cleaned some misc code</li>
				</ul>
				<li><h3 id="version_362"><a href="#version_362">version 362</a></h3></li>
				<ul>
					<li>duplicates work finished:</li>
					<li>updated the duplicates help text and screenshots to reflect the new system</li>
					<li>duplicate files search tree rebalancing is now done automatically on the normal idle maintenance routine, and its over-technical UI is removed from the duplicates page</li>
					<li>the duplicate filter's resolution comparison statement now specifies 480p, 720p, 1080p, and 4k resolutions and highlights resolutions with odd (i.e. non-even) numbers</li>
					<li>if the files are of different resolution, a new 'ratio' comparison statement will now show if either have a nice ratio, with current list 1:1, 4:3, 5:4, 16:9, 21:9, 2.35:1</li>
					<li>added a 'stop filtering' button to the duplicate hover frame</li>
					<li>made the ill-fitting 'X' button on top hover frame a stop button and cleaned up some misc related ui layout</li>
					<li>added a 'remove this file's potential pairs' command to the thumbnail file relationships menu</li>
					<li>if in advanced mode, multiple thumbnail selection right-click menus' file relationships submenus will now offer mass remove/reset commands for the whole selection. available commands are: 'reset search', 'remove potentials', 'dissolve dupe groups', 'dissolve alt groups', 'remove false positives'</li>
					<li>.</li>
					<li>the rest:</li>
					<li>added link to https://gitgud.io/koto/hydrus-dd/ , a neat neural net tagging library that uses the DeepDanbooru model and has several ways of talking to hydrus, to the client api help</li>
					<li>cleaned up a little of the ipfs file download code, mostly improving error/cancel states</li>
					<li>rewrote some ancient file repository file download code, which ipfs was also using when commanded to download via a remote thumbnail middle-click. this code and its related popup is now cleaner, cancellable, and session-based rather than saving download records to the db (which caused a couple of edge-case annoyances for certain clients). I think it will need a bit more work, but it is much saner than it was previously</li>
					<li>if you do not have the manage tags dialog set to add parents when you add tags, the autocomplete input will no longer expand parents in its results list</li>
					<li>fixed an issue displaying the 'select a downloader' list when two GUGs have the same name</li>
					<li>hitting apply on the manage parsers or url classes dialogs will now automatically do a 'try to link' action as under manage url class links</li>
					<li>fixed (I think!) how the server services start, which was broken for some users in 361. furthermore, errors during initial service creation will now cancel the boot with a nice message, and the 'running ... ctrl+c' message will appear strictly after the services have started ok the first time, and services will shut down completely before the db is asked to stop</li>
					<li>improved how the program recognises shutdowns right after boot errors, which should speed up clean shutdowns after certain bad server starts</li>
					<li>the server will use an existing server.crt and server.key pair if they exist on db creation, and complain nicely if only one is present</li>
					<li>the 'ensure file out of the similar files system' file maintenance job result will now automatically remove from/dissolve the file's duplicate group, if any, and clear out outstanding potential pairs</li>
					<li>a system language path translation error that was occuring in some unusual filesystems when checking for free disk space before big jobs is now handled better</li>
					<li>like repository processing, there is now a 1 hour hard limit on any individual import folder run</li>
					<li>fixed an issue where if a gallery url fetch produced faulty urls, it could sometimes invalidate the whole page with an error rather than just the bad file url items</li>
					<li>subscriptions will now stop a gallery-page-results-urls-add action early if that one page produces 100 previously seen before urls in a row. this _should_ fix the issue users were seeing with pixiv artist subs resyncing with much older urls that had previously been compacted out of the sub's cache</li>
					<li>until we can get better asynch ui feedback for admin-level repository commands (like fetching/setting account types), they now override bandwidth rules and only try the connection once for quicker responses</li>
					<li>misc code cleanup</li>
				</ul>
				<li><h3 id="version_361"><a href="#version_361">version 361</a></h3></li>
				<ul>
					<li>duplicates:</li>
					<li>the duplicate filter now compares the pixel content of static image pairs of the same resolution--if they have the exact same pixels, a comparison statement is added, and if one file is a png and the other not (i.e. the png is likely a useless clipboard copy), the statement notes this and a strong duplicate score is applied</li>
					<li>added 'system:is/is not best file of its group' to search for file kings</li>
					<li>renamed 'system:num duplicate relationships' to 'system:num file relationships'</li>
					<li>wrapped the two file relationship system predicates into one 'system:file relationships' stub predicate that opens to a dialog with two pred panels</li>
					<li>added a 'add potential pairs' command to the thumbnail right-click file relationships menu, which will force-queue files for the duplicates filter</li>
					<li>the duplicate filter now ensures the two medias' zoom is locked so they have the same width through a transition. furthermore, their current dragged top-left position is pinned in the same location. this ensures files that have slightly different resolution ratios (especially when they are just a couple of pixels off) still remain reasonably comparable when switching back and forth</li>
					<li>reworked and simplified how position/drag delta is handled in the media canvas to support the above</li>
					<li>fixed the 'custom action' button on the duplicate filter, which had no 'delete neither' choice and whose 'forget it' button cancelled the whole custom operation, making it impossible to custom action without deleting something. I have added a 'delete neither' green-text button to the front, as the default action</li>
					<li>mr bones now reports on your potential, duplicate, and alternates numbers</li>
					<li>.</li>
					<li>tag autocomplete:</li>
					<li>greatly sped up tag autocomplete search when fetching from a current media view (i.e. from thumbnails in the search page)--it had some CPU-inefficient testing/counting that mattered at high media/tag counts</li>
					<li>greatly improved cancelability of tag autocomplete search when pulling from a current media view--this was resulting in high lag when typing fast with multi-thousand results</li>
					<li>fixed the gui-level tag matching test to match namespaced search inputs with offset subtags (e.g. 'character:aran' now matches 'character:samus aran'), both for wildcard and specific namespaces</li>
					<li>when typing an explicit wildcard tag search that does not end in a *, you will now be presented with two wildcard options--one with the implicit * suffix, one without</li>
					<li>fixed 'write' tag autocomplete inputs (like in manage tags) being able to search for chunky 'namespace:*' explicit wildcard searches</li>
					<li>.</li>
					<li>the rest:</li>
					<li>fixed the ipfs nocopy path translation control saving rows for client file paths outside of the main install path for non-Windows, where it was forgetting on save</li>
					<li>renamed 'system:size' to 'system:filesize'</li>
					<li>sped up some system:inbox searches</li>
					<li>disabled a PIL 'load truncated images' backup mode, which on the current version can seemingly lead to infinite load hangs</li>
					<li>file report mode now prints info when it deletes/recycles a path, including stack traces</li>
					<li>fixed a long-running and silent 'port already running' bug related to setting services on the server that was stopping successful service-set-restart from the client in many situations. 'port is already running' checks that conflict with other processes will now give an immediate error to the client without saving any changes</li>
					<li>the server now prints to the log as it stops/starts/has started its services</li>
					<li>improved how the server can report certain 500 errors</li>
					<li>the 'critical service tag/file reference' repository processing error has been improved: rather than reset the whole repository, it now pauses the repo and resets processing status for just the repo's 'definition' update files (without deleting any existing entries, so they should ultimately reprocess super fast) and also schedules a complete integrity and metadata check for all updated files</li>
					<li>keyboard interrupts from the console should now trigger a clean exit request for the client</li>
					<li>polite and forced shutdown requests when logging off should now trigger a fast exit (i.e. no yes/no dialog, no shutdown maintenance, but otherwise session saved and so on) for the client. this fast exit is noted in the log</li>
					<li>moved the tag and rating service listctrls in duplicate merge options panel to the new listctrl object</li>
					<li>moved the manage regex favourites listctrl to the new object</li>
					<li>updated a bunch of yes/no dialogs to the new panel system</li>
					<li>deleted some old unused dialog code and related unit tests</li>
					<li>fixed up deletion-and-reimport file location handling for lingering media objects, which were not correctly forgetting combined local file deletion record on the reimport</li>
					<li>improved shutdown error handling during repo processing</li>
					<li>deleted the mishimmie default downloader</li>
				</ul>
				<li><h3 id="version_360"><a href="#version_360">version 360</a></h3></li>
				<ul>
					<li>tag autocomplete:</li>
					<li>after various tag autocomplete async work, fetch timings get a complete overhaul this week. the intention is for a/c jobs to appear as fast as possible, with good ui feedback, without interrupting ui while they work. feedback on how this works IRL would be appreciated</li>
					<li>there are now just two autocomplete options under options->speed and memory:</li>
					<li>- whether autocomplete results are ever fetched automatically, defaults to true</li>
					<li>- the max number of characters in the input that will cause just exact results vs. full autocomplete results, defaults to 2, can be None</li>
					<li>namespaces are no longer searched from an unnamespaced query ('char' no longer matches 'character:samus aran'). this proved too slow for real use, and remains better available with explicit namespace searches such as 'character:*' or 'char*:*'</li>
					<li>the 'exact results' character limit now also applies to subtags of namespace searches! so, entering 'character:a' will deliver the same short exact match results as just 'a'--no more gigantic lists when you put in a simple namespace</li>
					<li>improved tag results caching to deal with the new non-namespace matching on subtag input</li>
					<li>tag autocomplete dropdowns will now display a non-selectable 'loading results...' label when results take more than 200ms to load.</li>
					<li>tag autocomplete dropdowns will now also display 'static' tags, such as 'namespace:*anything*' for 'read' inputs and the exact entered text and possible siblings/parents for 'write' inputs, during loading. so, typing 'character:' just to get the special 'character:*anything*' predicate is now simple and does not need a whole load wait to enter!</li>
					<li>cleaned up some tag listbox code to handle parent selection and navigation better along with the new label type</li>
					<li>greatly improved autocomplete search logic in the critical text search portion, collapsing it into one cleverer and more easily cancellable query rather than two or three simpler ones with potentially gigantic lists thrown back and forth</li>
					<li>improved speed of autocomplete cancel for certain large lists with many siblings</li>
					<li>.</li>
					<li>file maintenance:</li>
					<li>the new file maintenance ui now shows scheduled jobs in a listctrl, and only shows jobs that have outstanding work. you can clear/do work on multiple selected jobs</li>
					<li>the file manager should now try to guarantee at least 644 permission on file imports (previously, it was only trying to add 600, which lead to problems with nocopy ipfs running on another user etc...)</li>
					<li>added a file maintenance job to check and fix file permissions</li>
					<li>added a file maintenance job to regenerate similar files metadata</li>
					<li>added a file maintenance job to check if a file should be in the similar files system--if it should and isn't, it is queued to get its metadata data regenerated, and if it is and shouldn't be, it is removed</li>
					<li>the previous bulky similar files metadata regen job from the duplicates page is now removed, and any outstanding scheduled regen will be transferred to the new file maintenance manager on update</li>
					<li>.</li>
					<li>client api:</li>
					<li>added POST /manage_pages/focus_page, which makes the given page the current page in the main gui</li>
					<li>added help and unit tests for this new call</li>
					<li>client api is now version 9</li>
					<li>.</li>
					<li>the rest:</li>
					<li>fixed an issue recording media viewtimes when no max viewtime is set</li>
					<li>fixed the new missingdirectory errors not printing the missing path</li>
					<li>fixed an issue with some human-started repository actions waiting silently on bandwidth when it was not intended (e.g. account refresh)</li>
					<li>export folders now raise proper errors and pause themselves if their path is not set, does not exist on the file system, or is not a directory (previously, they silently stopped work without error)</li>
					<li>cleaned up some misc import folder code, and put in additional protections to the delete/move code to ensure folders cannot be so actioned if they somehow end up in the path import queue</li>
					<li>when unpinning a file or directory from ipfs, the clientside service now first checks that the current daemon considers it pinned (previously, this 500 errored when the object was not pinned due to a reinitialised daemon etc...)</li>
					<li>fixed an issue with the new ipfs path translation control, which was forgetting values when the clientside path was outside of the default db structure</li>
					<li>media objects that transition from trashed to physically deleted but remain in view will now correctly be aware of their complete previously-deleted status (rather than being simply remote, as they were before until a client restart)</li>
					<li>improved some of the recent duplicates db update code to pre-optimise the new tables on update (some users were getting slow behaviour due to mis-scheduled analysis maintenance)</li>
					<li>extended the new panel system to deal with custom button panels and moved the duplicate filter 'commit and continue?' dialog to the new panel system</li>
					<li>moved the archive/delete and duplicate filter 'commit and finish' dialog to the new panel system</li>
					<li>wrote a new question panel for the typical yes/no dialog used across the program and started a cleanup job to migrate all 140-odd instances of this over</li>
					<li>fixed an issue where a program instance that quit due to a user deciding to leave an already running instance in place would clear the original instance's 'running' file in its shutdown, meaning subsequent runs would charge ahead and hit 'database is locked' problems on db init!</li>
					<li>wrote a new 'similar files metadata generation report mode' to provide debug info on this cpu/gpu intensive routine</li>
					<li>added 'why use sqlite?' entry to the help faq, with a link to prkc's excellent document about the subject, https://gitgud.io/prkc/hydrus-why-sqlite/blob/master/README.md</li>
					<li>also added prkc's excellent Linux package requirements information to the 'running from source' help page</li>
					<li>fixed some old py 2.7 references in running from source help and an old link in ipfs help</li>
					<li>moved the 'file viewing statistics' menu down on the database menu</li>
					<li>fixed some dialog Escape key event handling</li>
					<li>fixed some ui ancestory testing code</li>
					<li>improved some misc similar files system code</li>
				</ul>
				<li><h3 id="version_359"><a href="#version_359">version 359</a></h3></li>
				<ul>
					<li>ipfs nocopy:</li>
					<li>wrote a new panel to better show ipfs daemon status and added it to the review and manage ipfs service panels</li>
					<li>added nocopy config review and enable status and buttons to this new panel</li>
					<li>added an EXPERIMENTAL 'use nocopy' checkbox to the ipfs manage services panel</li>
					<li>added accompanying WEWLAD path translation ui to enable nocopy when your hydrus media storage paths are inaccessible to the ipfs daemon for nocopy purposes. a help button explains this more--it currently needs some symlinking, so non-advanced users should stay away</li>
					<li>if everything is set up, ipfs nocopy seems to work! I am not totally happy about the setup required here, so feedback from advanced ipfs-fluent users would be appreciated and we can iterate on this</li>
					<li>improved stability of ipfs daemon/version checking code</li>
					<li>.</li>
					<li>file maintenance:</li>
					<li>wrote some proper file maintenance ui under database->maintain->review scheduled file maintenance!</li>
					<li>for existing work, the new file maintenance ui shows how much work is scheduled for each job type and lets you cancel that work or run it manually</li>
					<li>for new work, the new file maintenance ui lets you queue up work of any type for files you select with the standard tag autocomplete search interface! you can schedule all pngs to be rescanned in case they are truly apngs, or regen thumbs for all files imported before a certain date, or whatever you wish. you can also queue up repository update files</li>
					<li>the file maintenance manager can now deal with repository update files when it does a complete file metadata regen</li>
					<li>the file maintenance manager now takes responsibility for checking file presence and file integrity. the old 'check file integrity' options under database->maintenance, which did all files in one go, are now gone</li>
					<li>file integrity checks will now always export broken files and missing/broken files' known urls to .txt files to your db_dir/missing_and_invalid_files. appropriate popups and log data will be sent as well. also, the known urls will be both exported on a per-file .txt basis and appended to one unified .txt</li>
					<li>if a file now fails to parse on a metadata reparse, it is now automatically checked for file data integrity</li>
					<li>if a repository encounters a missing, invalid, or incorrect filetype update during update processing, it now schedules all updates in the repo to be appropriately rescanned by the file maintenance manager</li>
					<li>if the storage subdirectory directory does not exist on a client file path request or thumbnail-add attempt, a special error will now be raised with instructions to reconnect the location or shut the client down immediately</li>
					<li>cleaned up some ffmpeg mime-detection logspam</li>
					<li>.</li>
					<li>duplicates:</li>
					<li>added several single-file thumbnail right-click dissolve/reset duplicate actions:</li>
					<li>- reset search status</li>
					<li>- remove from duplicate group (if in one and not the king)</li>
					<li>- dissolve duplicate group (if in a group)</li>
					<li>- remove from alternate group (if in one)</li>
					<li>- dissolve alternate group (if in one)</li>
					<li>- clear false-positive relations (if it has some)</li>
					<li>added some new code to deal with dissolution and member extraction at the db level</li>
					<li>when a member is extracted from alternate group, its constituent files are now requeued for potential search</li>
					<li>multi-selection duplicate right-click actions are now available to non-advanced-mode users</li>
					<li>wrote some unit tests for the new dissolve/reset actions</li>
					<li>cleaned up some misc duplicates code</li>
					<li>.</li>
					<li>the rest:</li>
					<li>fixed a recent bug in the file lookup script GET call--I apologise for the mistake</li>
					<li>the main gui page tab menu now lets you sort page tabs by the number of files they have</li>
					<li>deviant art seem to be rolling out a new page format. this week hydrus introduces completely new deviant art downloader objects that, fingers crossed, will update any existing users smoothly and also provide new tag search functionality. users who are still logged in may still be getting the old page format. if this is you, and this update does not work (although I _think_ it should, even so), please try clearing your existing login and logging in again</li>
					<li>new deviant art login script, artist + tag GUGs, gallery url classes, file and gallery parsers</li>
					<li>updated the shimmie file page parser to pull source time and md5</li>
					<li>improved the 'process now' advanced button to only focus on actual specific outstanding processing. previously, it was also checking for new metadata when due, which, when the server was not available, could seemingly idle for a time before actually processing updates due to the new delaying connection retry code</li>
					<li>wrote a new 'file import report mode' mode to help->debug->report modes</li>
					<li>fixed a progress display issue with the janitorial petitions processing page</li>
					<li>improved accuracy of sibling and parent petition counts, and properly capped them at 1000</li>
					<li>mapping petitions are now grouped by namespace, and will come in more manageable chunks</li>
					<li>fixed the server launch-and-init test debug code</li>
					<li>misc string-to-string control improvements to support the new ipfs edit ui</li>
					<li>removed the old 'continual tag archive sync' legacy code from tag services, which has been semi/non-functional for a long time</li>
					<li>cleaned up the annoying separator hanging on the end of certain tag right-click menus</li>
					<li>cleared out the 'Exception ignored in' spam that is often printed after the log closes</li>
				</ul>
				<li><h3 id="version_358"><a href="#version_358">version 358</a></h3></li>
				<ul>
					<li>duplicates:</li>
					<li>the final large data storage overhaul work of the duplicates work big job is done--potential duplicate information is now stored more sensibly and efficiently. potential pair information is now stored between duplicate file groups, rather than files themselves. when duplicate file groups are merged, or alternate or false positive relationships set, potentials are merged and culled appropriately</li>
					<li>your existing potential data will be updated. the current potential pairs queue size will shrink as duplicate potential relationships are merged</li>
					<li>the duplicate filter now presents file kings as comparison files when possible, increasing pair difference and decision value</li>
					<li>potential pair information is now stored with the 'distance' between the two files as found by the similar-files search system. the duplicate filter will serve files with closer distance first, which increases decision value by front-loading likely duplicates instead of alts. distance values for existing potential pair info is estimated on update, so if you have done search distance 2 or greater and would like to fill in this data accurately to get closer potentials first, you might like to reset your potential duplicates under the cog icon (bear in mind this reset will schedule a decent whack of CPU for your idle maintenance time)</li>
					<li>setting alternate relationship on a pair is now fixed more concretely, ensuring that in various search expansions or resets that the same pair will not come up again. this solves some related problems users have had trying to 'fix' larger alternate groups in place--you may see your alternates compared one last time, but that should be the final go. these fixed relationships are merged as intra-alternate group members merge due to duplicate-setting events</li>
					<li>a variety of potential duplicates code has been streamlined based on the new duplicate group relationship</li>
					<li>improved how a second-best king representative of a group is selected in various file relationship fetching jobs when the true king is not permitted by search domain</li>
					<li>one critical part of the new potential duplicates system is more complicated. if you experience much slower searches or count retrievals IRL, please let me know your details</li>
					<li>expanded duplicates unit tests to test potential counts for all tested situations</li>
					<li>fixed a bug where alternate group merging would not cull now-invalid false-positive potential pairs</li>
					<li>the rest:</li>
					<li>updated the default pixiv parser to work with their new format--thank you to a user for providing this fix</li>
					<li>fixed the issue where mouse scroll events were not being processed by the main viewer canvas when it did not have focus</li>
					<li>file page parsers that produce multiple urls through subsidiary page parsers now correctly pass down associated urls and tags to their child file import items</li>
					<li>updated to wx 4.0.6 on all built platforms--looks like a bunch of bug fixes, so fingers-crossed this improves some stability and jank</li>
					<li>updated the recent server access-key-arg-parsing routine to check access from the header before parsing args, which fixes an issue with testing decompression bomb permission on file POST requests on the file repository. generally improved code here to deal more gracefully with failures</li>
					<li>the repositories now max out at 1000 count when fetching pending petition counts (speeding up access when there are large queues)</li>
					<li>the repositories now fetch petitions much faster when there are large queues</li>
					<li>frames and dialogs will be slightly more aggressive about ensuring their parents now get focus back when they are closed (rather than the top level main gui, which sometimes happens due to window manager weirdness)</li>
					<li>rewrote a bad old legacy method of refocusing the manage tags panel that kicks in when the 'open manage tags' action is processed by the media viewer canvas but the panel is already open</li>
					<li>hitting 'refresh account' on a paused service now gives a better immediate message rather than failing after delay on a confusing 'bad login' error</li>
					<li>improved login errors' text to specify the exact problem raised by the login manager</li>
					<li>fixed a problem in the duplicates page when a status update is called before the initial db status fetch is complete</li>
					<li>the manage tag siblings panel now detects if the pair you wish to add connects to a loop already in the database (which is a rare but possible case). previously it would hang indefinitely! it now cancels the add, communicates the tags in the loop, and recommends you break it manually</li>
					<li>added a link to https://github.com/cravxx/hydrus.js , a node.js module that plugs into the client api, to the help</li>
					<li>a variety of user-started network jobs such as refreshing account and testing a server connection under manage services now only attempt connection once (to fail faster as the user waits)</li>
					<li>the 'test address' job under manage services is now asynchronous and will not hang the ui while it waits for a response</li>
					<li>fixed some unstable thread-to-wx code under the 'test access key' job under manage services</li>
					<li>improved some file handling to ensure open files are closed more promptly in certain circumstances</li>
					<li>fixed some unstable thread-to-wx communication in the ipfs review services panel</li>
					<li>improved the accuracy of the network engine's 'incomplete download' test and bandwidth reporting to work with exact byte counts when available, regardless of content encoding. downloads that provide too few bytes in ways that were previously not caught will be reattempted according to the normal connection reattempt rules. these network fixes may solve some broken jpegs and json some users have seen from unreliable servers</li>
					<li>fixed watcher entries in the watcher page list not reporting their file and check download status as they work (as the gallery downloader does)</li>
					<li>the client api will now deliver cleaner 400 errors when a given url argument is empty or otherwise fails to normalise (previously it was giving 500s)</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_357"><a href="#version_357">version 357</a></h3></li>
				<ul>
					<li>client api:</li>
					<li>the client api can now receive the access key through a GET or POST parameter rather than the header</li>
					<li>the client api now supports GET /session_key, which provides a temporary key that gives the same access as its permanent access key with the Hydrus-Client-API-Session-Key name through header or GET/POST param. it expires after 24 hours of inactivity or if the client is restarted</li>
					<li>the GET /manage_pages/get_pages call now returns the unique 'page_key' identifier that will be useful in future page management when multiple pages share a name</li>
					<li>the POST /add_urls/add_url command now takes 'destination_page_key' to exactly specify which page you would like a URL to end up on. if the page is not found, or it is the incorrect type, the standard page selection/creation rules will apply</li>
					<li>cleaned up some serverside request processing code</li>
					<li>cleaned up some misc client api permission checking code</li>
					<li>updated client unit tests to check the new changes</li>
					<li>updated client api help to reflect the new changes</li>
					<li>cleaned up some GET and POST parameter parsing</li>
					<li>client api version is now 8</li>
					<li>.</li>
					<li>shortcut and hover window fixes:</li>
					<li>moved the canvas shortcut processing code more towards the new shortcut system</li>
					<li>the OS X shortcut-in-media-viewer issue, which was being boshed in a similar way to the main gui last week, should now be fixed</li>
					<li>when the hover windows have focus, they now pass shortcuts up to the canvas parent more reliably</li>
					<li>removed a legacy menu highlight-tracking system that was malfunctioning and generally throwing a slow-memory-leaking wrench in several places, particularly some non-Windows situations</li>
					<li>the 'menubar is open' test code is now only active for Windows. the other platforms have mixed reliability with menubar open/close events</li>
					<li>some related OS X hover-window flickering and hiding-under the main page problems (having problems due to thinking menus were open) are also fixed</li>
					<li>some hover window flicker on certain focus changes due to clicking focus windows should be fixed</li>
					<li>hover windows now try to size themselves a little better on init, which reduces some initial flicker or false-positive single-frame display on some systems</li>
					<li>extended the hover report mode to report some 'ideal' pos/size info as well</li>
					<li>under file->shortcuts, custom shortcuts are now hidden for non-advanced-mode users</li>
					<li>.</li>
					<li>the rest:</li>
					<li>the popup message toaster now always shows its 'dismiss all' summary bar whenever any messages are being displayed. the summary bar now also has a ▼/▲ button to collapse/expand its messages!</li>
					<li>added duplicate comparison score options (under options->duplicates) for the new jpeg quality estimator</li>
					<li>fixed the default duplicate comparison score values, which appeared to be reversed for higher vs much higher--they will be reset to these new defaults on update, so recheck them if you prefer different</li>
					<li>in manage tag siblings and parents, the filename tagging dialog, and some misc options panels, tag autocomplete input controls now have 'paste' buttons to make entering many results much easier</li>
					<li>to reduce update flicker, the downloader and watcher pages do not list seconds in their 'added' column ('12 minutes 24 seconds ago' is now '12 minutes ago')</li>
					<li>improved clipboard access cleanup on in-clipboard errors, which was sometimes leading to error popups or clipboard lockup</li>
					<li>rather than the simple 'yes', the review bandwidth usage dialog now puts the waiting estimate (like '12 minutes 50 seconds') in the 'blocked?' column</li>
					<li>improved external program launch code for non-Windows to remove hydrus-specific LD_LIBRARY_PATH completely when no OS default exists to restore it to. this should fix ffmpeg connection for certain installs</li>
					<li>fixed a rare bug when initial media results of a page failed to load due to a subset of unexpectedly unfetchable file records</li>
					<li>gave the rare 'ui freezup on dialog close' event yet another pass. closing via escape key should now be immune to this</li>
					<li>'remote' files that were once in the client but since deleted now have the 'trashed' icon and will state so on their right-click info summary lines</li>
					<li>fixed various instances where selection-from-list dialogs were failing to sort their list based on underlying data object uncomparibility. an example of this was when selecting which queries to pull from a separating subscription</li>
					<li>on the edit parser panels, fetching test data successfully via the quick button or the manual URL entry will now set that URL in the example parsing context</li>
					<li>on the edit parser panels, the subsidiary page parser's separation formula now launches with the correct example data (the original data from the parent dialog, rather than the post-separated data) on which to test separation. this should nest correctly for multiple subsidiary page parsers</li>
					<li>to reduce server load spikes, clientside petition processing now approves very large mapping and file petitions (such as a petition to delete one tag from 50k files) as a sequence of smaller chunks</li>
				</ul>
				<li><h3 id="version_356"><a href="#version_356">version 356</a></h3></li>
				<ul>
					<li>duplicates:</li>
					<li>moved better/worse/same quality duplicates relationships to the new 'king' group-based model. rather than tracking every relationship, duplicates are now stored in groups with a single 'best' file</li>
					<li>as a result, duplicate relationships are now transitive! saying that one king is duplicate to another will merge groups. the 'better' king is the new king, and 'same quality' kings choose one of the kings pseudorandomly. advanced exceptions: saying that a king is better than a basic member of another group or saying that two members are same quality is still valid but will simply 'poach' the non-king member from the other group in order to ensure the wrong king doesn't end up on top in the eventual merge. saying KingA is same quality as MemberB will merge the groups with KingB as the new king (since it is presumably same/better quality to all members of A)</li>
					<li>the thumbnail right-click 'duplicates' entry is now renamed to 'file relationships' and is no longer advanced mode only. the 'find similar files' entry is folded into this</li>
					<li>the thumbnail 'file relationships' menu now shows a simple 'duplicates' count rather than the old messy better/worse/equal. it will show all the members of a duplicates group when clicked. the menu also notes if the focused file is the best file of its group. if it is not, you will get the option to show the best file or make the focused file the best</li>
					<li>as a result, it is now much simpler to view a group of duplicates and overrule a 'best quality' member as needed</li>
					<li>added the 'media' shortcut 'duplicate_media_set_focused_king' to shortcut setting a 'best quality' file</li>
					<li>the system:num duplicate relationships now has the simpler 'duplicates' entry, to search on size of the entire group. searching for kings/not kings will come soon</li>
					<li>due to the new duplicate transitivity rules, potential pairs are now eliminated at a much faster rate!</li>
					<li>setting duplicate relationships will overrule false positive or alternate relationships already in place</li>
					<li>manually setting alternate relationships to more than two thumbnails at once will now set each file as alternate to every other file in the selection, completely eliminating potential pairs within the group. if you try to do this to large groups of files you will get a longer yes/no confirmation message just to make sure you aren't overwriting some potential dupes by accident</li>
					<li>all existing better/worse/same relationships will be converted to the new group storage in this update, with appropriate kings determined. potential pair queue counts will be reduce accordingly, and the temporary alternate/duplicate confusion from the alternates update will be auto-resolved by merging truly duplicate 'alternates' together</li>
					<li>fleshed out the duplicate test code significantly to handle the new dupe groups and their interactions with the recent false positive and alternates changes</li>
					<li>refactored some db test code into separate client/server/duplicates files and cleaned up dupe tests readability</li>
					<li>potential pairs are now the only component of the new system still on the old pairs system. the duplicate filter will still serve up some inefficient (i.e. non-king) comparisons</li>
					<li>.</li>
					<li>the rest:</li>
					<li>fixed the issue where many clipboard-watcher-caught URLs that did not match were producing false-positive 'could not generate new page for that URL' error popups</li>
					<li>the clipboard text-fetcher now tests against incompatible clipboard types (like a screenshot) better, and all instances of text fetching now report errors more gracefully and with more information</li>
					<li>fixed the unusual OS X issue where many shortcuts were not being processed after client boot until the top menubar was opened and closed. a variety of other blocking-while-menubar-is-open issues that were false-positive misfiring are now fixed as well, please let me know if you still have trouble here</li>
					<li>the file menu now has an 'exit and force shutdown maintenance' option to force-run outstanding maintenance jobs</li>
					<li>when shutdown maintenance work is going on, the shutdown splash screen now has a 'stop shutdown maintenance' button!</li>
					<li>cleaned up some file maintenance manager maintenance locking and shutdown cancel logic</li>
					<li>moved all the idle-mode maintenance checks to a new system that explicitly defines idle/shutdown/forced maintenance work and tests those states in a unified manner, checking idle mode and the new splash cancel button status and so on more reliably. a lot of maintenance should cancel out quicker when appropriate</li>
					<li>misc shutdown logic cleanup</li>
					<li>added a 'file maintenance' option to the database->maintenance menu that forces the new file maintenance manager to run its queue. it'll make a little popup as it works, or a note that no work is due</li>
					<li>the 'regenerate' thumbnail menu is also available to all users</li>
					<li>jpeg quality estimates are now available for all users in the duplicate filter. they only display when the two jpegs' quality have different labels</li>
					<li>the jpeg quality estimator now handles some unusual jpegs that load with empty quantization table arrays</li>
					<li>the duplicate filter now handles bad jpeg quality estimations gracefully</li>
					<li>cleaned up some ffmpeg communication code</li>
					<li>the ffmpeg debug text that spawns on a help->about call that fails to discover ffmpeg version information now prints stderr output as well. if you have been hit by this, please give it another go and let me know what you get</li>
					<li>the same ffmpeg 'no response' error on file parse now popups and prints some debug info and returns a better error</li>
					<li>dialogs and windows on the new panel system now support a new pre-close tidying system</li>
					<li>the manage tags dialog and window will now cancel any pending large tag autocomplete queries on close</li>
					<li>regular gui pages now support a new pre-close tidying system</li>
					<li>search pages will now cancel any pending search results loading or tag autocomplete queries on close</li>
					<li>improved reliability of the popup message manager chasing the main gui when it is sent to another screen by a keyboard shortcut (such as shift+win+arrow on Windows). it should work now if the mouse cursor is in either window. please let me know if this causes trouble for virtual display navigation</li>
					<li>the network engine now waits significantly longer--60s--on connection errors before trying again, and with every failed attempt will wait n times longer again. when in this waiting state, a manual user cancel command cancels it out faster</li>
					<li>I believe I have fixed/improved a situation where media viewer hover windows would sometimes disappear immediately after appearing on some Linux window managers</li>
					<li>improved hover window report mode to state more focus info in case the above is insufficient</li>
					<li>to better link the two requests and consume bandwidth under strict rules more precisely, the override bandwidth rule that kicks in when a file page has a single file is now 3 seconds instead of 30</li>
					<li>updated options->connection page to specify that 'socks4a'/'socks5h' is needed to force remote dns resolution</li>
					<li>sped up tag parents initialisation</li>
					<li>repositories now group tag sibling and parent petitions by the parent/better tag's namespace</li>
					<li>removed some old network 'death time' code that is no longer useful and was interfering with heavy petition processing</li>
					<li>the log now flushes itself to disk every 60s rather than 300s</li>
					<li>misc fixes and cleanup</li>
				</ul>
				<li><h3 id="version_355"><a href="#version_355">version 355</a></h3></li>
				<ul>
					<li>duplicates:</li>
					<li>retuned the new alternate and false positive setting code to be less aggressive about removing potential pairs. users with alternate groups who updated to 354 may have lost some intra-alternate potential pairs, which I expect to fill back in once the potential pairs system is updated</li>
					<li>the duplicate filter center-right hover window now has a trash button, which is moved to its own row with the cog icon where they will fit on thinner windows better</li>
					<li>users who are in advanced mode now have access to duplicate merge options for 'alternates' again--but be careful with this, it is advanced. if you had merge options for alternates set up before, your old options _should_ return, but make sure to check it</li>
					<li>if you are in advanced mode, the duplicate filter can now show an experimental jpeg quality comparison statement. if this works out, I will add custom scores and improve this otherwise based on feedback , so comments would be appreciated</li>
					<li>.</li>
					<li>client api:</li>
					<li>the client api has a new 'manage pages' permission!</li>
					<li>/manage_pages/get_pages now fetches a structure of the current page session! there's some help for it</li>
					<li>in future, I expect to add a 'select page' command and get/remove/highlight URL(s) for downloader pages, and reveal the unique page identifier for better targeting here and for add_url commands</li>
					<li>client api is now version 7</li>
					<li>.</li>
					<li>the rest:</li>
					<li>fixed a stupid issue related to drawing collection thumbnails that was causing a lot of errors. I apologise for the inconvenience and have added pre-build tests to catch these simple mistakes in future</li>
					<li>added a clipboard url watcher! there are two options now under network->downloaders--one for watcher urls, and one for all other _recognised_ urls (i.e. post and gallery urls, and file urls that have matching url classes). it checks every second, sends urls to pages according to the same rules as a drag and drop event, and will handle newline-separated lists of urls</li>
					<li>when the client is minimised and needs to create a new downloader page because of an 'add url' command through this new clipboard watcher or the client api, it will now queue up the url and its page creation for when the client is next restored (page creation while minimized causes layout bugs). it returns an appropriate result text to the client api in this case</li>
					<li>added four 'show_and_focus_manage_tags_XXX' shortcuts to the 'main_gui' shortcut set that let you select and focus the four possible suggested tags panels on the manage tags dialog. these are slightly special focus events that do some 'first tag selection' work as well and should let you make the whole process keyboard-only</li>
					<li>added a 'focus_media_viewer' shortcut to the 'main_gui' shortcut set that focuses the media viewer from a media viewer's manage tags window</li>
					<li>file viewing statistics gets an update: it now has its own options page where you can set min/max for preview and media viewing times. the global turn on/off control is moved from database menu to this page, as is a new control for enabling it on the duplicate filter (where you will be flicking back and forth and perhaps do not want lots of views recorded). duplicate filter file stats now default to disabled</li>
					<li>added a new command to database->file viewing statistics that will cull your current stats based on the new min/max values to compensate for previous accidental '3day 4hour' preview view that snuck in. a yes/no dialog explains how it works before it goes</li>
					<li>wrote a 'mixin' class to let my buttons automatically note current shortcut mapping information to the bottom of button tooltips</li>
					<li>the duplicate commands and a variety of other media viewer buttons that work in the new shortcut system now report their current shortcuts in their tooltips!</li>
					<li>quick-entering 'namespace:' in a search page's tag autocomplete input will now automatically swap in the special 'namespace:*anything*' predicate</li>
					<li>cleaned up code around setting a custom temp_dir through the "temp_dir" command, and made it test the given path is indeed a directory and writable-to. if not, the program dumps out with an error popup</li>
					<li>the client and server now similarly test that the directory db is a dir and writable-to</li>
					<li>rearranged some critical boot error handling code and made the client's boot error handling throw up some ui</li>
					<li>fixed the client's repairdb function when needing to regen autocomplete caches</li>
					<li>autocomplete regen now publishes status updates to the splash screen</li>
					<li>fixed the client's repairdb to wait correctly for the ui in case the user wants to bail before repair</li>
					<li>the client's repair db now repairs the new local_tags_cache table if missing</li>
					<li>fixed an issue with showing the manage logins panel when the domain had some unusual cookie expiry numbers</li>
					<li>to reduce initial load gui-event crunch (which affects some systems' layout reliability), initial session load now happens after a 0.5s delay</li>
					<li>cleaned up some image load error handling</li>
					<li>when FFMPEG version information cannot be understood in help->about, a popup note appears and debug information is printed to the log</li>
					<li>the advanced content update panel now puts up a 'working...' dialog while it processed a job</li>
					<li>in the client</li>
					<li>all 4XX and 5XX network exceptions' error texts are now prepended with the actual status code</li>
					<li>extended the hover window debug report mode</li>
					<li>improved some misc temp and permission testing code</li>
					<li>improved some misc testing code</li>
				</ul>
				<li><h3 id="version_354"><a href="#version_354">version 354</a></h3></li>
				<ul>
					<li>duplicates important:</li>
					<li>duplicates 'false positive' and 'alternates' pairs are now stored in a new more efficient structure that is better suited for larger groups of files</li>
					<li>alternate relationships are now implicitly transitive--if A is alternate B and A is alternate C, B is now alternate C</li>
					<li>false positive relationships remain correctly non-transitive, but they are now implicitly shared amongst alternates--if A is alternate B and A is false positive with C, B is now false positive with C. and further, if C alt D, then A and B are implicitly fp D as well!</li>
					<li>your existing false positive and alternates relationships will be migrated on update. alternates will apply first, so in the case of conflicts due to previous non-excellent filtering workflow, formerly invalid false positives (i.e. false positives between now-transitive alternates) will be discarded. invalid potentials will also be cleared out</li>
					<li>attempting to set a 'false positives' or 'alternates' relationship to files that already have a conflicting relation (e.g. setting false positive to two files that already have alternates) now does nothing. in future, this will have graceful failure reporting</li>
					<li>the false positive and alternate transitivity clears out potential dupes at a faster rate than previously, speeding up duplicate filter workflow and reducing redundancy on the human end</li>
					<li>unfortunately, as potential and better/worse/same pairs have yet to be updated, the system may report that a file has the same alternate as same quality partner. this will be automatically corrected in the coming weeks</li>
					<li>when selecting 'view this file's duplicates' from thumbnail right-click, the focus file will now be the first file displayed in the next page</li>
					<li>.</li>
					<li>duplicates boring details:</li>
					<li>setting 'false positive' and 'alternates' status now accounts for the new data storage, and a variety of follow-on assumptions and transitive properties (such as implying other false positive relationships or clearing out potential dupes between two groups of merging alternates) are now dealt with more rigorously (and moreso when I move the true 'duplicate' file relationships over)</li>
					<li>fetching file duplicate status counts, file duplicate status hashes, and searching for system:num_dupes now accounts for the new data storage r.e. false positives and alternates</li>
					<li>new potential dupes are culled when they conflict with the new transitive alternate and false positive relationships</li>
					<li>removed the code that fudges explicit transitive 'false positive' and 'alternate' relationships based on existing same/better/worse pairs when setting new dupe pairs. this temporary gap will be filled back in in the coming weeks (clearing out way more potentials too)</li>
					<li>several specific advanced duplicate actions are now cleared out to make way for future streamlining of the filter workflow:</li>
					<li>removed the 'duplicate_media_set_false_positive' shortcut, which is an action only appropriate when viewing confirmed potentials through the duplicate filter (or after the ' show random pairs' button)</li>
					<li>removed the 'duplicate_media_remove_relationships' shortcut and menu action ('remove x pairs ... from the dupes system'), which will return as multiple more precise and reliable 'dissolve' actions in the coming weeks</li>
					<li>removed the 'duplicate_media_reset_to_potential' shortcut and menu action ('send the x pairs ... to be compared in the duplicates filter') as it was always buggy and lead to bloating of the filter queue. it is likely to return as part of the 'dissolve'-style reset commands as above</li>
					<li>fixed an issue where hitting 'duplicate_media_set_focused_better' shortcut with no focused thumb would throw an error</li>
					<li>started proper unit tests for the duplicates system and filled in the phash search, basic current better/worse, and false positive and alternate components</li>
					<li>various incidences of duplicate 'action options' and similar phrasing are now unified to 'metadata merge options'</li>
					<li>cleaned up 'unknown/potential' phrasing in duplicate pair code and some related duplicate filter code</li>
					<li>cleaned up wording and layout of the thumbnail duplicates menu</li>
					<li>.</li>
					<li>the rest:</li>
					<li>tag blacklists in downloaders' tag import options now apply to the parsed tags both before and after a tag sibling collapse. it uses the combined tag sibling rules, so feedback on how well this works irl would be appreciated</li>
					<li>I believe I fixed the annoying issue where a handful of thumbnails would sometimes inexplicitly not fade in after during thumbgrid scrolling (and typically on first thumb load--this problem was aggravated by scroll/thumb-render speed ratio)</li>
					<li>when to-be-regenerated thumbnails are taken off the thumbnail waterfall queue due to fast scrolling or page switching, they are now queued up in the new file maintenance system for idle-time work!</li>
					<li>the main gui menus will now no longer try to update while they are open! uploading pending tags while lots of new tags are coming in is now much more reliable. let me know if you discover a way to get stuck in this frozen state!</li>
					<li>cleaned up some main gui menu regeneration code, reducing the total number of stub objects created and deleted, particularly when the 'pending' menu refreshes its label frequently while uploading many pending tags. should be a bit more stable for some linux flavours</li>
					<li>the 'fix siblings and parents' button on manage tags is now a menu button with two options--for fixing according to the 'all services combined' siblings and parents or just for the current panel's service. this overrides the 'apply sibs/parents across all services' options. this will be revisited in future when more complicated sibling application rules are added</li>
					<li>the 'hide and anchor mouse' check under 'options->media' is no longer windows-only, if you want to test it, and the previous touchscreen-detecting override (which unhid and unanchored on vigorous movement) is now optional, defaulting to off</li>
					<li>greatly reduced typical and max repository pre-processing disk cache time and reworked stop calculations to ensure some work always gets done</li>
					<li>fixed an issue with 'show some random dupes' thumbnails not hiding on manual trashing, if that option is set. 'show some random dupes' thumbnail panels will now inherit their file service from the current duplicate search domain</li>
					<li>repository processing will now never run for more than an hour at once. this mitigates some edge-case disastrous ui-hanging outcomes and generally gives a chance for hydrus-level jobs like subscriptions and even other programs like defraggers to run even when there is a gigantic backlog of processing to do</li>
					<li>added yet another CORS header to improve Client API CORS compatibility, and fixed an overauthentication problem</li>
					<li>setting a blank string on the new local booru external port override option will now forego the host:port colon in the resultant external url. a tooltip on the control repeats this</li>
					<li>reworded and coloured the pause/play sync button in review services repository panel to be more clear about current paused status</li>
					<li>fixed a problem when closing the gui when the popup message manager is already closed by clever OS-specific means</li>
					<li>misc code cleanup</li>
					<li>updated sqlite on windows to 3.28.0</li>
					<li>updated upnpc exe on windows to 2.1</li>
				</ul>
				<li><h3 id="version_353"><a href="#version_353">version 353</a></h3></li>
				<ul>
					<li>duplicate filter:</li>
					<li>duplicate action options no longer handle file deletion</li>
					<li>renamed 'not duplicates' across the program to 'not related' or 'false positive'</li>
					<li>'alternates' and 'not related/false positive' duplicate actions no longer have duplicate action options. no merge content update now occurs on these actions</li>
					<li>the duplicate filter hover panel now splits 'this is better' decisions into two buttons--whether to delete or keep the worse file</li>
					<li>when selecting 'custom action' in the duplicate filter hover panel, it now asks if you would like to delete the current file, the other file, or both</li>
					<li>the 'duplicate_filter_this_is_better' shortcut action will be auto-updated to 'duplicate_filter_this_is_better_and_delete_other'. an alternate 'duplicate_filter_this_is_better_but_keep_both' is now also available</li>
					<li>the 'duplicate_filter_not_dupes' shortcut action will be auto-updated to 'duplicate_filter_false_positive'</li>
					<li>separated the buttons on the duplicate filter hover panel to more carefully split 'yes, files are duplicates' vs other decisions</li>
					<li>in prep for the duplicate db overhaul, refactored all PHash search code and Duplicate management code apart</li>
					<li>misc other prep work for duplicate db overhaul</li>
					<li>.</li>
					<li>file maintenance:</li>
					<li>wrote a new unified manager to handle various long-term file maintenance tasks like regenerating file metadata and thumbnails</li>
					<li>options to govern how this manager can run are now in options->maintenance and processing. you can enable it for idle and shutdown maintenance time and give it a throttle to limit how fast it will work on files, defaulting to 200 per day</li>
					<li>unified the previous db-level attempts at file maintenance to the new system, which supports async job queueing, and moving regen code up to the new manager, out of the db lock</li>
					<li>unified a variety of file and thumbnail regen code to work through the new simpler and saner path</li>
					<li>the right-click->regen thumbnail commands now run through the new manager and no longer need a modal popup. you can keep browsing while they work. they will also not hang the ui as the old system could on big jobs</li>
					<li>when right-click->regenning on more than 50 thumbnails, you now get a dialog asking if you want to do the job now or put it off later</li>
					<li>file maintenance tasks can now run in shutdown time! you will get previews of the jobs with file counts and status progress reports on the shutdown splash</li>
					<li>cleaned up some file extension renaming and dupe-removing code</li>
					<li>in future, I will move the current file integrity check to this new system and have some ui to prompt and set up other big jobs, like fixing various historical misparsing issues</li>
					<li>thumbnail resizing during thumbnail fade that resizes down is now more efficient</li>
					<li>moved the ClientFilesManager to ClientFiles.py</li>
					<li>.</li>
					<li>the rest:</li>
					<li>the 'manage upnp' dialog now moves the duplicated external ip display from the column up to the status text at the top. it fetches the ip after the initial mappings fetch is done. this ip is no longer affected by the external host override option</li>
					<li>cleaned up options->connection page and removed the now defunct external host override option</li>
					<li>the manage services page for the local booru now has optional override for scheme, host, and port for the 'copy external url' function</li>
					<li>fixed an issue with the recent 'collect by' session saving where a restored session that needed a collect was not sorted</li>
					<li>fixed an issue with collections being sorted by approx bitrate</li>
					<li>added a new checkbox to options->sort/collect to set it so the default sort updates every time you choose a new sort anywhere</li>
					<li>fixed an issue with 'remove trashed files from view', which was incorrectly removing on 'all local files' pages</li>
					<li>the 'all local files' file domain, which is frequently confusing to new users, is now no longer an option for new file pages or the autocomplete file domain if the user is not in advanced mode</li>
					<li>the client now searches for versions of urls both with and without a final '/' character when looking up file url import status at the db level and in import lists. system:known_url is unfortunately still an inefficient mess</li>
					<li>improved how the server code deals with some connectionLost errors</li>
					<li>cleaned up and unified some older dialog button code</li>
					<li>fixed a problem in manage tag siblings when petitioning existing pairs and then cancelling when asked for a reason</li>
					<li>fixed a miscount issue when uploading pending tags while many new tags are coming in. progress would sometimes be -754/1,234, ha ha</li>
					<li>db maintenance, repository sync, and file maintenance processing will all now wake on a force idle mode call</li>
					<li>deleted some old code</li>
					<li>misc fixes and cleanup</li>
					<li>some misc gui layout fixes</li>
				</ul>
				<li><h3 id="version_352"><a href="#version_352">version 352</a></h3></li>
				<ul>
					<li>the client now supports importing .ico files! (.cur should be supported too)</li>
					<li>finally, 'collect by' is saved for sessions! if your default collect by previously included ratings services, it will forget them this one time--please reset it under the options->sort/collect</li>
					<li>fixed the issue where the media viewer's hover windows were hovering over child dialogs (manage tags, ratings, or known urls)</li>
					<li>improved some os x hover window focus handling for the new always-on-top duplicate action window</li>
					<li>the entries on the 'sort by' list on gui pages are now subcategorised better. it should be a bit easier to find what you are looking for</li>
					<li>the 'sort by file: approximate bitrate' sort option now sorts still images as well by filesize / num_pixels</li>
					<li>to reduce confusion, sort by mime and system:mime are now renamed to 'filetype'</li>
					<li>fixed an issue where the 'unclose_page' shortcut was restoring pages in reverse order (unclosing least-recently-closed-first rather than most-recently-closed-first)</li>
					<li>improved rigour of video framerate estimation</li>
					<li>stopped the video metadata parser from opting to manually frame count videos with size >128MB or num_frames estimate >2,400</li>
					<li>fixed the forced manual frame count to deal with frame counts >9999</li>
					<li>the 'ffmpeg not found' error on file import will now put up a popup message once per boot informing you of this problem more broadly and steps to address it</li>
					<li>fixed some underreporting issues with subprocess_report_mode</li>
					<li>fixed an issue with some yes/no dialogs returning 'no' on escape/window_close_button rather than 'cancel', which affected cancelability some db maintenance questions</li>
					<li>fixed an issue where media that fitted the media viewer canvas width or height exactly at 100% zoom would not respond to zoom switch events to restore non-100% zoom to 100%</li>
					<li>when a local server's CORS mode is turned on, Access-Control-Allow-Origin is now correctly added to GET/POST requests with an Origin request header</li>
					<li>improved reliability of some timestamp rendering code, which should help some users who had trouble opening cookies management page after malformed cookie import</li>
					<li>I believe I fixed an issue with 'open externally' on certain custom paths where the external program could spawn without an ui (flash projector did this). please let me know if your 'open externally' calls start making terminal windows everywhere</li>
					<li>fixed a runtime stability issue with the new duplicates page and slow-updating counts that come in after the page has been deleted</li>
				</ul>
				<li><h3 id="version_351"><a href="#version_351">version 351</a></h3></li>
				<ul>
					<li>wrote a new (always on top!) hover window for the duplicate filter that sits on the middle-right. the duplicate cog button and action buttons are moved to this new window, as are the file comparison statements</li>
					<li>the duplicate file comparison statements now state the relevant actual metadata along with better '>>'-style operators to highlight differences and green/red/blue colouring based on given score. it is now much easier to see and action clearly better files at-a-glance</li>
					<li>improved some hover window focus display calculations to play with the new always-on-top tech</li>
					<li>both the 'show some random dupes' button and finding dupe pairs for the filter should be a bit faster for very large search domains. the basic file search and indexing still has to run, but the second sampling step in both cases will bail out earlier once it has a decent result</li>
					<li>core image handling functions now uniformly use OpenCV (faster, more accurate) by default, falling to PIL/Pillow on errors. image importing in the client and server should be a bit faster, and some unusual image rotations should now be read correctly</li>
					<li>the server now supports OpenCV for image operations, it _should_ also still work with only PIL/Pillow, if you are running from source and cannot get it</li>
					<li>unified all thumbnail generation code and insulated it from suprises due to unexpectedly-sized source files, fixing a potential client-level thumbnail generation looping bug</li>
					<li>gave all image processing a refactor and general cleanup pass, deleted a bunch of old code</li>
					<li>wrote a new 'local tag cache' for the db that will speed up tag definition lookups for all local files. this should speed up a variety of tag and file result fetching, particularly right after client boot. it will take a minute or two on update to generate</li>
					<li>sped up how fast the tag parent structure builds itself</li>
					<li>the review services panel now uses nested notebooks, rather than the old badly coded listbook control. I don't really like how it looks, but the code is now saner</li>
					<li>similar-files metadata generation now discards blank frames more reliably</li>
					<li>subscription popups now report x/y progress in terms of the current job, discarding historical work previously done. 1001/1003 is gone, 1/3 is in</li>
					<li>made the disk cache more conservative on non-pre-processing calls</li>
					<li>cleaned up some file import code, moving responsibility from the file locations manager to the file import object</li>
					<li>updated the ipfs service listctrl to use the new listctrl object. also cleaned up its action code to be more async and stable</li>
					<li>I believe I fixed a rare vector for the 'tryendmodal' dialog bug</li>
					<li>fixed a bug in presenting the available importable downloader objects in the easy drag-and-drop downloader import when the multiple downloaders dropped included objects of the same type and name--duplicate-named objects in this case will now be discarded</li>
					<li>unified url_match/url_class code differences to url class everywhere</li>
					<li>updated some common db list selection code to use new python string formatting</li>
					<li>plenty of misc code cleanup</li>
				</ul>
				<li><h3 id="version_350"><a href="#version_350">version 350</a></h3></li>
				<ul>
					<li>the duplicate filter no longer applies the implicit system limit (which defaults to 10,000 files) on its search domains, which solves the undercounting issue on large search domains. duplicate operations will be appropriately slower, so narrow your duplicate file queries (adding a creator: tag works great) if they take too long</li>
					<li>fixed the duplicate pairs filter's 'ghost pair' issue. it was failing, when 'both files' was unchecked, to remove pairs that included one file that was non-local. this accidental inclusion resulted in incorrect non-zero count and filter/random pairs that could not display correctly</li>
					<li>insulated against potential future iterations of this problem (likely that one of the pair was deleted by another process while a filter is ongoing), with a notification and graceful exiting of the duplicate filter while saving progress</li>
					<li>the 'show random duplicates' button now puts the 'base' of the group (to which all the others are potentially matched) as the first thumbnail</li>
					<li>added a new 'advanced file deletion' section to 'files and trash' options page to turn on a new advanced dialog and set custom file deletion reasons</li>
					<li>if this new dialog is turned on, a delete event from thumbnail grid, regular media viewer, or the duplicate filter's manual delete will launch it. it permits you to delete physically (skipping trash) in one step or delete physically without leaving a deletion record (for easier later re-import) and choose one of the deletion reasons in the new options panel or set a one-time custom reason</li>
					<li>export folders now have more run-controls: 'run regularly', 'paused', and 'run now'</li>
					<li>the file menu now has a 'run export folder now' submenu just like for import folders-- it is simple now to set up an export folder that only runs when you tell it to</li>
					<li>updated the on-boot missing file folder recovery process to automatically 'heal' file location mappings when a missing folder is actually in a location that is known (essentially, you can now manually move a bunch of folders from one known location to another while the client is off and it will recover automatically now). error dialogs will appear in this case summarising the problem and proposed fixes with a chance to bail out if you do not want it to happen</li>
					<li>added a new frame type to 'gui' options page called 'regular_center_dialog' for yes/no style dialogs that are better in the center of the parent window</li>
					<li>the custom web browser launch path and file type 'open externally' paths are moved from 'files and trash' to a new 'external programs' options page</li>
					<li>as the superior '--temp_path' program launch parameter now exists for both client and server, I have removed the limited 'BUGFIX: temp folder override' option from the client's 'files and trash' page and use in the actual code. if this option was important to you, please migrate to the --temp_path launch parameter, which covers temp usage more comprehensively</li>
					<li>as the artstation downloader is now non-functional, apparently by a cloudflare issue, the default gug for new users (and anyone with artstation set atm) is now safebooru</li>
					<li>added dolphin file manager add-on link to the client api help</li>
					<li>some misc file metadata fetching cleanup</li>
				</ul>
				<li><h3 id="version_349"><a href="#version_349">version 349</a></h3></li>
				<ul>
					<li>duplicate filter:</li>
					<li>the duplicate filter page now has a full-on real-deal file search object to narrow down the duplicate filter, potential duplicate count, and 'show some random dupes' search domains! it also has a 'both files match' checkbox that determines if one of both files of the potential pairs should match the search!</li>
					<li>the duplicate filter page has multiple layout changes as a result:</li>
					<li>the main management area is now split into two pages--'preparation', for doing maintenance and discovery work, and 'filtering', for actioning the potential dupe pairs found</li>
					<li>the 'filtering' page will select by default, but if 'preparation' needs work, its name will become 'preparation (needs work)'</li>
					<li>the 'filtering' page now has file search ui and the 'both files' checkbox instead of the file domain button. this search data is saved on a per-page basis</li>
					<li>the two pages' status texts are now updated on separate calls which have been rewritten to be asynchronous (with 'updating...' text while they work). both now have explicit refresh buttons to force them to update</li>
					<li>the additional non-unknown pair counts listed on the filter area, which were irrelevant to filtering and sometimes confusing, are now gone. it only lists the 'unknown' pair number</li>
					<li>the duplicate filter page's help button no longer has the awful 'simple help' entry. the full html help will get a pass in the coming weeks to reflect the new search changes</li>
					<li>the duplicate file db code received significant refactoring and improvement to support searching the potential dupe space while cross-referencing the new file search context (and still falling back to the fast code when the search is just blank/system:everything)</li>
					<li>misc duplicate file db code cleanup and refactoring</li>
					<li>while in advanced mode, you can no longer select 'all known files' file domain for an export folder (and now the duplicate filter page) search context</li>
					<li>making a file delete action in the duplicate filter (by hitting delete key or the button on the top hover window, which both trigger a dialog asking to delete one or both) now auto-skips the current pair</li>
					<li>.</li>
					<li>manage tags:</li>
					<li>the manage tags has a new 'siblings and parents' button that will auto-replace incorrect siblings and auto-add missing parents! it works on multi-file selections as well! it gives you a summary yes/no dialog before it fires</li>
					<li>the manage tags dialog has a little logic cleanup r.e. siblings and parents and their cog auto-apply options. the auto-application now only applies on add/pend actions</li>
					<li>the manage tags dialog has a new cog button option to not trigger 'remove' actions from an autocomplete dropdown or suggested tag input action when the tag already exists</li>
					<li>.</li>
					<li>the rest:</li>
					<li>gave video metadata parsing another pass--it now detects 'hidden' incorrect framerates due to advanced 'skip frame' codec settings and is more accurate at determining frame count and duration, including some fixed offset calculations that was sometimes adding or discounting a few frames</li>
					<li>manual video frame count, when needed, is now faster and produces better error text</li>
					<li>fixed a critical bug in thumbnail regen that was sometimes potentially looping regen on files with unusual rotation exif information</li>
					<li>significant improvements to how the client file manager handles thumbnail identifier information, saving a great deal of time for file import and thumbnail regeneration code of videos</li>
					<li>fixed an issue where regenerated file metadata was not propagating up to the ui level in real time</li>
					<li>cleaned up some thumbnail cache initialisation code</li>
					<li>the 'generate video thumbs this % in' option is moved from the 'media' to 'thumbnails' options page</li>
					<li>to simplify code, and in prep for the idle-maintenance-rewrite of this system, the database->regen->thumbnails call is now removed</li>
					<li>all three fields of text on serialised pngs now wrap, and they pad a little better as well</li>
					<li>added a new option to the 'gui pages' options page to force input text box focus on page changes</li>
					<li>fixed a small type issue with the server's session cookie code and some new library versions</li>
				</ul>
				<li><h3 id="version_348"><a href="#version_348">version 348</a></h3></li>
				<ul>
					<li>wrote some OR search help to 'getting started with tags' help page</li>
					<li>wrote a new multi-reader, single-writer lock object for the client file manager, along with some unit tests for it.</li>
					<li>updated the file and thumbnail access and regen and maintenance code to use the new lock. various access is now faster when available and overall safer. there is still work to do here</li>
					<li>adjusted file import to be less aggressive about locking, which should reduce some file/thumbnail access lag during heavy imports</li>
					<li>the thumbnail space estimate in the migrate database dialog is now more adaptive to the new more flexible thumbnail size system and specificies better that it is an estimate</li>
					<li>the client api's /add_tags/add_tags call now collapses siblings and expands parents on an add/pend call. this can be turned off by setting the new optional parameter 'add_siblings_and_parents' to false. the help is updated regarding this and the client api version is incremented to 6</li>
					<li>fixed the client api's /add_tags/add_tags call for the 'hashes' parameter, which was failing to parse, and added an accidentally missing unit test to check this in future</li>
					<li>the client local services (the booru and client api) now have two new options under their 'manage services' panel: 'support CORS', which turns on cross-orogin support (which is experimental for now, so defaults to False), and 'logs requests', which controls whether your log will be spammed with request reports (this also defaults to False), which should clear up some 100MB+ log hassle for people using the Hydrus Companion browser add-on</li>
					<li>hydrus services now respond correctly (albeit sparsely) to OPTIONS requests, and if CORS is enabled, to CORS OPTIONS requests. there are unit tests for this that seem to work ok, but I think we'll need to verify it irl</li>
					<li>finished a first version bitmap manager to handle all wx bitmap creation and destruction, including recycling mid-steps</li>
					<li>updated all simple wx bitmap creation and destruction calls across the client to use the new bitmap manager, improving stability and saving some CPU</li>
					<li>fixed some incorrect button alignment flags that were causing problems for clients set to assert check these values</li>
					<li>added a new yiff.party file url class to the defaults that matches a new file attachment format</li>
					<li>updated the 'url' content parser so if a parsed url is in the form 'summary_text url', as some booru source fields sometimes specify, the preceding summary text is removed, cleaning up the resultant url</li>
					<li>silenced an old server connection lost error that was needlessly loud</li>
					<li>silenced the client network engine from additionally log-printing SizeException errors when a downloading file (usually gif) exceeds file import options rules</li>
					<li>improved misc window destruction code</li>
					<li>updated supported mime list in 'getting started with files' help and website index</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_347"><a href="#version_347">version 347</a></h3></li>
				<ul>
					<li>or search:</li>
					<li>under construction OR predicates now present at the top of the regular tag results list, prepended with 'OR: ', and skipping default selection</li>
					<li>this new OR line is enter-able, which will present it as-is, rather than adding new preds</li>
					<li>hitting escape on a 'search' tag input box that is empty but has an under construction or predicate will cancel the or pred</li>
					<li>hitting escape on a 'search' tag input box otherwise should more reliably kill its focus when the dropdown is a float window</li>
					<li>improved OR search efficiency significantly with dynamic OR search triggering based on other search predicates. OR searches including negated '-tag' components should be massively faster when paired with non-OR tag or file search predicates</li>
					<li>I believe I fixed a search issue that would sometimes return insufficient results when OR preds are mixed with certain other combinations of tags</li>
					<li>improved reliability of some thumbnail refresh calls</li>
					<li>cleaned up a bunch of OR handling ui code</li>
					<li>.</li>
					<li>the rest:</li>
					<li>after previous weeks' experiments, wrote new double-layer thumbnail loading system--now too-small thumbs will quckly scale up fuzzily straight to screen, and then in the coming seconds, the nice regenerated full-size thumb will be made and drawn in place as ready. it presents much faster and looks better, but there is some cleanup to do here that I will tackle next week</li>
					<li>all local file trashing events now record a context-appropriate deletion statement such as "Deleted from Media Viewer." this value is recovered in 'deleted' import status 'notes'. You will mostly see 'Unknown deletion reason.', for files deleted before this new system, but it will populate with appropriate info over time</li>
					<li>fixed a search optimisation that was not cross-referencing with file domain, meaning for instance that bare system:rating calls were returning since-deleted files</li>
					<li>upnp management window now uses new listctrl</li>
					<li>cleaned up some old custom page-naming code</li>
					<li>added a 'data' debug call to clear out all cached thumbnails and force an instant ui thumb reload</li>
					<li>fixed the trash bmp misalignment, ha ha</li>
					<li>removed e-hentai login script from the defaults, since this testing script is not appropriate for new users</li>
					<li>dejanked some media viewer video transitions by cleaning up animation bar rendering and smoothing out video buffer initialisation</li>
					<li>cleaned out some surplus subprocess wait calls that were hanging some systems on various 'open externally' calls</li>
					<li>fixed multiple syncing problems with 'synchronise' export folders that produce files with subdirectories. subdirectory structures should now be synced correctly and empty folders deleted</li>
					<li>export folders that collapse multiple file results to the same duplicated name should, after the next run, do less overwriting to this same name</li>
					<li>if an export folder or the regular export dialog makes a file destination path that is above the chosen directory (e.g. if the path starts with ../ or ..\), the export job will error out with an explanation</li>
					<li>big manual file exports _should_ be politer to the ui and cause fewer hangs</li>
					<li>doing page tab drag and drops may have less post-drop ui jank on linux, continued feedback would be appreciated</li>
					<li>moved 'reason' handling for all content updates to its own area, which neatens many content update data handling issues</li>
					<li>fixed petitioning a tag via a shortcut, which had bad reason handling</li>
					<li>fixed an issue with committing pending ipfs items that was overchecking service permissions</li>
					<li>fixed some remaining bad wx code in the unit tests</li>
					<li>misc file status reporting cleanup</li>
				</ul>
				<li><h3 id="version_346"><a href="#version_346">version 346</a></h3></li>
				<ul>
					<li>or search:</li>
					<li>extended the search predicate object to handle more OR stuff</li>
					<li>extended the tag list to handle list objects that have multiple colours</li>
					<li>extended the new OR search predicate to report multiple text-snippet-and-colour pairs based on sub-predicates</li>
					<li>extended tag search input to handle prototype OR predicate creation--hold shift when you enter the tag, and it'll start an OR chain. shift-enter continues the chain, enter alone completes it</li>
					<li>fleshed out the predicate unit tests to cover more of this</li>
					<li>wrote unit tests for OR search predicates. it seems good!</li>
					<li>improved some search logic to apply system preds better in certain edge cases and spend less CPU on OR-search-only searches</li>
					<li>.</li>
					<li>thumbnails:</li>
					<li>thumbnails will now queue for load in a more intelligent order based on estimated difficulty to regenerate, which will tend to put more thumbs on screen faster</li>
					<li>the decision to regenerate a thumbnail from source is now tempered by how different the current thumbnail is from what is desired--the more similar the two sizes, the more (randomly) likely the client will decide to just use the current (resized) this time. this smooths out change-lag while limiting the number of really fuzzy thumbs you get. feedback on how this works IRL would be appreciated--it uses some voodoo distribution polling to figure it out, which I can definitely tweak</li>
					<li>improved visual quality of thumbnail scale-up optimisations</li>
					<li>fixed an issue where a multipage thumbnail grid would incorrectly recalculate the new virtual height after a thumbnail size change event, leading to a bit of invalid extra scrollspace (with noclip rendering errors) at the bottom</li>
					<li>the thumbnail right-click menu's reparse files entry is now extended to a new 'regenerate' submenu with three options: reparse file and regen thumbs (the old action), force regen thumbs, and regen thumbs if wrong size!</li>
					<li>the new 'regen if thumbs wrong size' action sends how many thumbs needed resize up to the popup window, as well</li>
					<li>moved some old thumbnail regen code responsibility out of the db and into the files manager</li>
					<li>cleaned out some old redundant file/thumbnail code</li>
					<li>cleaned and refactored a bunch of general image handling and resizing code</li>
					<li>.</li>
					<li>the rest:</li>
					<li>fixed some bad serialisation code that was making file search objects set their 'include current tags' value to false/true on interleaving loads. on this update, all 'include current tags' values are blanket reset to true</li>
					<li>fixed an issue that was drawing animation canvases pure white on various media update events</li>
					<li>extended manage urls dialog to support multiple files when launched from a selection of thumbnails. there is a warning in this case, noting that only gallery-style urls are appropriate to be added to multiple files</li>
					<li>manage urls dialog now supports multiple selections, including shift-select, and accepts delete key presses for easy mass deletion</li>
					<li>when you ask the database migration dialog to move some files, it now pops up a confirmation dialog that also asks if you would like to limit the max time for the job as 10, 30, or 60 minutes</li>
					<li>improved file permission setting code across the program to be more sensible for non-Windows</li>
					<li>if you are a non-Windows user and were hit with directory permission problems last week on the thumbnail update--which resulted in the rxx directories not being deleted--the update this week will attempt to do the delete again, this time correcting the now missing execute permission bit. if it finds outstanding rxx directories to delete, it will give a popup beforehand summarising the situation and giving you a chance to bail out</li>
					<li>fixed yet another problem that was stopping client api url requests from finding the correct page by name</li>
					<li>when a client api url request includes fixed tags, these tags should now propagate in all scenarios where the single url produces multiple files</li>
					<li>updated sqlite dll and console for windows</li>
					<li>misc fixes and cleanup</li>
				</ul>
				<li><h3 id="version_345"><a href="#version_345">version 345</a></h3></li>
				<ul>
					<li>or search:</li>
					<li>set out a plan to achieve some simple conjunctive normal form (e.g. (blue eyes OR green eyes) AND (blonde hair OR red hair)) OR search support</li>
					<li>started work on the object extension and search code to support this search in a very basic (and likely inefficient-for-some-scenarios) way--we'll work on this as we discover the most common inefficiencies</li>
					<li>.</li>
					<li>thumbnails:</li>
					<li>the client no longer uses both 'master' and 'resized' thumbnails--it uses a single, smarter thumbnail</li>
					<li>only the 'txx' thumbnail directories (formerly referred to as full-size) are now used, and the thumbnails inside will regenerate and scale themselves as needed on demand (and will be careful to not save changes to disk when when their source file is non-local)</li>
					<li>the old 'rxx' 'resized' thumbnail directories are no longer referred to anywhere in the code or ui</li>
					<li>the old 'rxx' thumbnails directories will be permanently (i.e. no recycle bin) deleted on update. this is a big job, and you will be prompted on update before it happens</li>
					<li>if you have migrated your db to put 'resized' thumbs on an SSD but not the formerly 'full-size', you will want to recheck the 'migrate database' dialog once you have booted and set a new thumbnail override to move the txx directories over</li>
					<li>due to the smarter thumbnail, 200x200 is no longer the hard limit for hydrus thumbnails! you can now set up to 2048x2048</li>
					<li>all file storage location information is now stored directly in the client db (rather than the options object), which should make for more easily export/importable options in future and improve manual fixing as needed</li>
					<li>added more thumbnail-resizing related popup spam to file report mode</li>
					<li>fixed a windows-only issue that was making the migrate db dialog close after a file move event concluded</li>
					<li>updated database migration help for new concepts and ui</li>
					<li>cleaned up some misc storage code</li>
					<li>.</li>
					<li>the rest:</li>
					<li>fixed a problem in the client api with fetching file identifiers from file_ids</li>
					<li>fleshed out 'help my db is broke.txt' with more specific clone recovery examples</li>
					<li>fixed import support for a variety of single-frame music webms</li>
					<li>fixed an edge-case preview viewer initialisation bug that was trying to draw the canvas before any media was set</li>
					<li>network report mode now states url classes of urls about to be parsed</li>
					<li>misc small fixes and cleanup</li>
				</ul>
				<li><h3 id="version_344"><a href="#version_344">version 344</a></h3></li>
				<ul>
					<li>final v1.0 client api polish:</li>
					<li>added optional 'show_destination_page' arg to '/add_urls/add_url', defaulting to False, to control whether an URL-add will select (i.e. jump to) the destination page in the ui. this changes the default behaviour for this command</li>
					<li>simplified the routine that finds or creates a watcher or url import page and fixed a bug in the api that was not creating new pages when destination_page_name was specified</li>
					<li>some misc cleanup</li>
					<li>fixed fetching file_metadata by hashes</li>
					<li>fixed the client api help regarding file_metadata response example tags</li>
					<li>client api version is now 5</li>
					<li>.</li>
					<li>the rest:</li>
					<li>psd support added! because of this format's potential multi-layer complexity, it will not render natively, but width and height are parsed. it is treated as 'application/x-photoshop'. PSB is also recognised and treated as psd</li>
					<li>added a 'open_known_url' shortcut to the 'media' shortcut set that lets you quickly open URLs for files. if there is one recognised known url, it will be launched, and if there are multiple, a list with all known urls will appear to select which one you want</li>
					<li>animation scanbars now show an x/y current timestamp! it includes millisecond timings and even works for variable framerate gifs. whether to show a second/shadow caret for timestamp position on variable frame rate is a new discussion to have</li>
					<li>fixed an issue where animations would sometimes not resume animation for several seconds after a big scanbar drag</li>
					<li>when the thumbnail manager cannot produce a thumbnail due to a storage error (like a missing file), it now only puts up a single, more informative error popup on the first problem. subsequent errors are printed silently to the log. (these errors tend to come in en masse, so this cuts down on spam and error-related ui lag that was making loading a bad session difficult)</li>
					<li>improved error reporting when an upload pending command would fail due to service non-functionality--it should now give a popup with error info imediately, rather than obscured through the login system</li>
					<li>added temp_dir parameter to the client and server that will override which temporary directory the program will use</li>
					<li>cleaned up how no_daemons and no_wal mode are handled internally</li>
					<li>no_wal mode now has to be called from the command parameter, the no_wal file hack in the db directory no longer works</li>
					<li>missing ffmpeg errors now prompt the user to check if it is installed</li>
					<li>searching for numerical ratings should now work for files that were rated when the service had a different number of stars (ratings now searches in 'bands' rather than exact values)</li>
					<li>reduced the min height of the new import files frame's list</li>
					<li>doubled the decompression bomb test to permit files up to ~179 megapixel, we'll see how it goes</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_343"><a href="#version_343">version 343</a></h3></li>
				<ul>
					<li>client api:</li>
					<li>fixed an int/str type mismatch issue with service_names_to_actions_to_tags in /add_tags/add_tags in the client api that meant that argument was not working</li>
					<li>fixed up some last /get_files/search_files stuff</li>
					<li>added /get_files/file_metadata</li>
					<li>added /get_files/file</li>
					<li>added /get_files/thumbnail</li>
					<li>added help and unit tests to reflect the above</li>
					<li>updated client api version to 4</li>
					<li>.</li>
					<li>the rest:</li>
					<li>the list of paths in the manual file import dialog is now sortable. this order will be preserved in regular and 'add tags' ok events for this dialog. it has a new '#' column so you can return to 'parse' order if desired</li>
					<li>animation and static image windows in the media viewer canvas are now recycled through media type transitions, making for slightly smoother browsing between mixed media</li>
					<li>increased aggression of media viewer image prefetch</li>
					<li>added support for 'MM' Tiffs</li>
					<li>fixed webm mime parsing for webms with no audio (these were falling back to mkv)</li>
					<li>improved the error reports when a serialised png fails to import</li>
					<li>the mass-open-urls popup is now pausable as well as cancellable</li>
					<li>fixed several recently broken ui unit tests</li>
					<li>misc old code cleanup</li>
					<li>some misc test controller/constant refactoring</li>
				</ul>
				<li><h3 id="version_342"><a href="#version_342">version 342</a></h3></li>
				<ul>
					<li>added support for webp import. it does not yet support animated webps, which, if the local platform supports, will import like apngs used to: just the first frame</li>
					<li>added support for tiff import. it works ok for 24bit and 8bit (monochrome) tiffs, but I am not sure how well it will do with 48bit</li>
					<li>both webp and tiff should work on the duplicate files system</li>
					<li>improved webm detection to include opus audio (previously, these files were falling back to mkv)</li>
					<li>fixed an issue where unusual formats with duration but no frames or frames but no duration were being sorted and otherwise presented incorrectly</li>
					<li>improved autocomplete job cancelability. this job can now cancel much faster on large jobs, meaning typing searches with large result sets will hit less CPU and return faster on subsequent keystrokes</li>
					<li>_all_ of the complicated 'copy url' commands from the thumbnail right-click->known urls menu are now available on the 'open' submenu! if there is more than one url to open (e.g. 'open all of these files blahbooru post urls' on a selection of 50 files), you will be presented with a yes/no dialog to confirm, and it will open one url in your browser every second (with a cancellable popup if num_urls > 5)</li>
					<li>by default, system:everything is now hidden if its total files is >10k. you can force it to always show under options->default system predicates</li>
					<li>the gallery downloader's list's status column now shows gallery status (deferring to active file status) when appropriate and shows 'done!' when all work is complete</li>
					<li>after working back and forth with a user, I _believe_ the linux similar files >0 distance search crash is finally fixed</li>
					<li>fixed sorting by media views/viewtiming with collections</li>
					<li>a single-selected collection right-click now shows total media views for all files in the collection! you can now see how long you have been viewing an artist!</li>
					<li>fixed an issue that lead to export folders not running on always-on clients as often as they should</li>
					<li>updated the gelbooru 0.2.5 file page parser to pull rating tag from the correct location (previously, it was pulling from what appears to be a site-wide 'mature' browser hint)</li>
					<li>improved memory cleanup stability when animations and other parts of the video rendering pipeline are deleted--this _may_ fix some rare crashes</li>
					<li>increased animation rendering aggression overall and particularly in 'future' of frame buffer</li>
					<li>if a video renderer that is asked to start some way into the video fails to render anything, it will now fall back to trying to render from the beginning. this is slightly hacky atm and leads to out of phase rendering frames, but it is better than an error</li>
					<li>added a '--no_db_temp_files' launch parameter that will force the client or server to return to the recent old behaviour of exclusively using memory for journalling. this is useful if your temp directory is small and/or your available ram is very large. if running in this mode, the client will attempt to check available memory (instead of free space on your temp dir) before performing very large transactions</li>
					<li>with the new lighter-weight update transactions, the client now tests for less free space for journalling before running repository update processing</li>
					<li>added /get_files/search_files to the client api, which does the first half of file searching. it allows tag search (including -tag negation) and system inbox/archive. since the second half, which will fetch file metadata, is not yet in, this can't do anything interesting yet</li>
					<li>updated help and unit tests to support this, client api version is now 3</li>
					<li>some misc refactoring</li>
				</ul>
				<li><h3 id="version_341"><a href="#version_341">version 341</a></h3></li>
				<ul>
					<li>client api:</li>
					<li>added /add_tags/add_tags, which does several kinds of tag content updates</li>
					<li>added /add_tags/clean_tags, which shows how hydrus will handle potential tags</li>
					<li>added /add_urls/associate_url, which allows you to associate urls with files</li>
					<li>added 'destination_page_name' to /add_urls/add_url, which will choose which destination watcher/url importer to place the url (or create a new one with that name)</li>
					<li>updated client api version to 2</li>
					<li>updated client help and unit tests for the above</li>
					<li>added a linked contents to the client api help</li>
					<li>improved some server error handling, mostly moving 403s to more correct 400s</li>
					<li>improved how missing parameter 400 errors are reported from the server vs deeper keyerrors that should be 500</li>
					<li>.</li>
					<li>the rest:</li>
					<li>tag repository update processing now saves progress to disk every million rows or every minute, whichever comes first. this reduces journaling bloat, improves recovery when the process quits unexpectedly, and makes for significantly faster cancel when requested by the user</li>
					<li>when processing duplicates and copying/merging/moving ratings, the 'source' file will now also overwrite the 'destination' file's rating if that destination rating is lower (previously, the rating would only go over if the dest had no rating set)</li>
					<li>added a new 'thumbnail experiment mode' under help->debug->gui. this will load fullsize thumbs and resize them in memory, please see release post for more details</li>
					<li>reduced menubar replacement flicker while, I believe, keeping and strengthening recent menubar indexing stability improvements</li>
					<li>the tag autocomplete dropdown will now always embed (instead of floating) in non-Windows</li>
					<li>when data seems non-decodable, the fallback encoding format is now that given by chardet, rather than utf-8</li>
					<li>improved serialisability of some pending tag data</li>
					<li>watchers can now hold and pass on fixed pending tag data</li>
					<li>gallery log objects can now hold and pass on fixed pending tag data</li>
					<li>file import objects can now hold and action fixed pending tag data</li>
					<li>hard drive imports now store their paths-to-tags info in this new format, directly in the file import objects</li>
					<li>improved some url-import page drop-target-selection logic</li>
					<li>improved error reporting when dropping/api-adding urls</li>
					<li>adjusted some url import workflow so big 'already in db' download lists should work a bit faster</li>
					<li>attempting to start the program with some external database files but not the main 'client.db/server.db' file will now cause a boot-fail exception with an explanation before any stub db files can be made</li>
					<li>tightened up some hydrus service login-capability-testing code that was previously stopping certain error states from recovering promptly, even on a force account refresh, while the service was maxed on bandwidth</li>
					<li>fixed a source of linux CRITICAL logspam related to several common dialogs</li>
					<li>improved ui stability on boot when file folders are missing (particularly for linux)</li>
					<li>improved stability for the various async tasks on the duplicates processing page, particularly for linux. I am not sure I got everything here, but it is definitely better</li>
					<li>did some more misc stability improvements, particularly in various boot fail scenarios</li>
					<li>completely removed an ancient and janky focus catcher widget from the main gui frame</li>
					<li>now various db caching is improved on the python side, removed a sqlite instruction to force temp information to always stay in memory--hot data returns to staying mostly in memory to start and then spools to disk if the transaction gets too large</li>
					<li>fixed approx bitrate sorting for malformed video files with explicitly '0' duration</li>
					<li>daemon_profile_mode now spams some more info about export folders</li>
					<li>fixed an issue that meant client db maintenance was firing its jobs too aggressively, regardless of idle status</li>
					<li>updated windows build to cv 4.0</li>
					<li>misc refactoring and fixes</li>
				</ul>
				<li><h3 id="version_340"><a href="#version_340">version 340</a></h3></li>
				<ul>
					<li>client api:</li>
					<li>fixed up some api permissions object stuff so that /verify_access_key response can always serialise correctly</li>
					<li>fixed the 'add_url' api call's instability</li>
					<li>the API will now always return JSON on 200. anything else should be presumed to be raw text</li>
					<li>'/api_version' now returns JSON, and after talking with users, it will now start incrementing with every api change. it remains 1 just for this week</li>
					<li>'/request_access_permissions' now returns JSON</li>
					<li>'/add_url' now results JSON on success with more info, 403 on failure</li>
					<li>'/get_url_info' now returns the 'normalised_url' in the response JSON</li>
					<li>added '/get_url_files', which returns 'url_file_statuses', listing known hashes and file import status for that url</li>
					<li>added '/add_files/add_file', which can import a file from a path or bytes</li>
					<li>added '/add_tags/get_tag_services', which will return info on the client's tag services</li>
					<li>updated client api help to reflect the above changes and fleshed out the intro a bit</li>
					<li>fixed the client api permissions enum values in the help, which I somehow transcribed wrong first time</li>
					<li>updated the client api tests to check the above</li>
					<li>refactored client api tests to be neater and in their own file</li>
					<li>.</li>
					<li>the rest:</li>
					<li>fixed the page of pages close bug</li>
					<li>added a downloader for nijie.info to the client defaults (it needs a login)</li>
					<li>updated danbooru file page parsers to get 'rating' tag</li>
					<li>added gelbooru 0.1.11 parser for future application</li>
					<li>fixed an issue that was stopping advanced content updates from fully copying all the desired mappings in the transaction</li>
					<li>added a semi-hacky checkbox to 'options->files and trash' that will delay all new file/thumb requests for 15s after the computer resumes from sleep (useful if your files are on a NAS that takes a few seconds to reconnect on wake)</li>
					<li>wrote some more graceful fallback decoding handling code that attempts original assumed encoding and 'utf-8' if different and returns the one with the fewest unicode replacement characters</li>
					<li>the network engine and the ffmpeg info parsing now use this new 'safe' decoding, so even if a site has borked bytes or the video file has unexpected Shift-JIS title metadata, it'll still go through, albeit with some question marks</li>
					<li>moved some more old daemons to the new job scheduler, deleted some old daemon code</li>
					<li>improved some daemon job wake and shutdown code</li>
					<li>wrote a proper upnp manager object and improved all-around reliability of the auto upnp-service-mapping code</li>
					<li>simplified the upnp check code so it now only ever checks/does anything if the respective services actually want upnp mappings. surplus mappings are now wiped immediately on service update</li>
					<li>fixed upnp mapping fetching to cope with ipv6 results</li>
					<li>improved some memory clearing code to deal with some semi-stubborn objects</li>
					<li>improved some 'iterate through this giant list of single numbers from the db without using a lot of memory' code and applied it to the autocomplete cache regeneration routine</li>
					<li>improved menubar stability, both in finding menus and swapping them out</li>
					<li>if a serialised json object fails to load from the db, this is now caught, the bad object deleted and written to a new file in the db dir, and all logging info captured along with an explanatory popup thrown on screen. so, if a subscription fails to load, it will now be extracted so that a subsequent subscription edit/run will work with the remaining good objects. in the case of backed-up objects (gui sessions atm), reattempting the load should restore the next most recent backup</li>
					<li>fixed an issue with login script validation when the given credentials have surplus ( key, value ) pairs to the script's credential definitions</li>
					<li>fixed two login invalid cookie error handling bugs</li>
					<li>maybe made some dupe filter searching more stable</li>
					<li>fixed a py2 datatype issue that made the client unbootable when updating the client from <296</li>
					<li>the client now pauses to nag and moan about backups if you try to update more than 15 versions in one go</li>
					<li>slightly sped up discord bugfix file drag and drops and expanded file limit up to 25 files/200MB</li>
					<li>added experimental secret discord bugfix dnd mode checkbox</li>
					<li>improved how html parsing deals with some unexpected bad tag data</li>
					<li>turned on primitive high-dpi support for OS X. let me know if it fixes any blurry issues on retina displays</li>
					<li>wrote a new 'ui test' under the debug->gui menu to help catch common-action bugs that slipped through weekly work</li>
					<li>improved how the test code does some wx/ui stuff, but also broke some more and ran out of time to clean it up--this is an ongoing project</li>
					<li>improved how some text import line splitting works</li>
					<li>misc fixes</li>
				</ul>
				<li><h3 id="version_339"><a href="#version_339">version 339</a></h3></li>
				<ul>
					<li>client api:</li>
					<li>wrote some ui to handle client api permissions adding and editing</li>
					<li>wrote a 'catch a permissions request' mini-dialog for external api permissions adding</li>
					<li>wrote api calls:</li>
					<li>GET</li>
					<li>/api_version</li>
					<li>/request_new_permissions</li>
					<li>/verify_access_key</li>
					<li>/add_urls/get_url_info</li>
					<li>POST</li>
					<li>/add_urls/add_url</li>
					<li>and made a new 'client api' help page to describe in detail what these do</li>
					<li>wrote fairly comprehensive unit tests for the new client api</li>
					<li>refactored a bunch of 'hydrus network' specific stuff away from general server code that the client api now uses</li>
					<li>neatened up 401 vs 403 error handling across the program, and replaced some clientside error handling that was inelegantly borrowing these network errors</li>
					<li>deleted very old prototype file/thumbnail client server fetch code, which was no longer in use</li>
					<li>.</li>
					<li>misc and bug fixes:</li>
					<li>added a 'clear ratings' button to the ratings service 'review services' panels. it can clear out ratings for deleted, non-local, or _all_ files</li>
					<li>the '3 downloaders are working, is it ok to close the client?' message is now folded into the 'confirm client exit (auto-yes in 15s)' dialog. this merged dialog will still appear for users who have the regular confirm client exit dialog turned off (and still auto-yeses in 15s)</li>
					<li>the file url downloader now reports 'downloading file' and 'importing url' text status separately</li>
					<li>fixed a typo bug from last week that was breaking asc/desc ratings service sorting</li>
					<li>fixed a typo bug from last week that was stopping manage import folders from opening</li>
					<li>fixed a typo bug from last week that was breaking setting upnp port on the local booru/client api service management panel</li>
					<li>the advanced file reparse-and-re-thumbnailing routine now correctly moves a file to its new extension if its mime changes (e.g. png->apng, or webm/mkv distinctions)</li>
					<li>the client file manager now silently detects and auto-repairs instances of missing files where the file actually does exist, just with the wrong extension</li>
					<li>fixed a url parsing issue that was normalise-mangling url classes with no path but some query parameters</li>
					<li>the network engine now uses utf-8 decoding when no specific encoding is set (previously ISO-8859-1)</li>
					<li>fixed an ffmpeg video parsing bug when the video included Shift-JIS metadata. it should work for other unusual encodings as well</li>
					<li>maybe cleaned up some menubar management code</li>
					<li>the filename tagging dialog now uses a notebook for service choice, like the manage tags dialog, rather than the janky old listbook</li>
					<li>fixed a py2-to-3 issue with the admin-only 'is server currently busy' check while a backup is running</li>
					<li>improved some dialog button event handling. it may completely fix the 'trytoendmodal' issue some users run into</li>
					<li>improved some JSON db serialisation error reporting code, trying to pin down an issue several users have seen with session save</li>
					<li>improved thread-safety of serialisable objects as they serialise</li>
					<li>misc improvements and cleanup</li>
				</ul>
				<li><h3 id="version_338"><a href="#version_338">version 338</a></h3></li>
				<ul>
					<li>after talking with some users, put a bit of time into tag autocomplete wolkflow. both read (search pages) and write (manage tags) autocomplete inputs now operate ~asynchronously~, with the tag fetch working on a separate thread. tag jobs can also now cancel at certain checkpoints in the tag search process if overwritten by a new request. therefore, a variety of tag lookup scenarios _should_ be less painful. this change was executed in a semi-inelegant way, so please report if you encounter bugs from fast typing etc...</li>
					<li>I also improved some of the "I hit enter before results were in" code as a result of this. not sure I have it totally nailed, so please give feedback on errors here</li>
					<li>wildcard search tags now have an explicit '(wildcard search)' after their label</li>
					<li>taglists that have an attached page of media (basically the 'selection tags' box and the 'active search predicates' up top) now have a right-click menu entry to 'select files with (all these tags)' and, if more than one tag is selected, 'select files with (any of these tags)'! This is pretty neat in action, so give it a go!</li>
					<li>added a 'sort by approx bitrate' file sorting option that does a basic filesize/duration so you can filter out dense gifs and other short-but-big vids a bit easier. anything without a duration is shoved to the 'smallest' side</li>
					<li>some of the file sort options now default to their respective 'biggest' first, see how you like it</li>
					<li>folded in updated gelbooru file page parser (fixing the 403 errors that just appeared) and added searches for gelbooru user favourites and pools</li>
					<li>if a gallery or watchable url ends up in the file processing queue (and hence fails), it now says the believed-to-be url class name in the error, which should help some false positive url class matching debugging</li>
					<li>fixed a focused-file selection issue that meant preview viewtime was frequently counting in file viewing statistics even while a page was not currently in view</li>
					<li>fixed the local booru review service panel, which wasn't fully deleting shares when the button was clicked</li>
					<li>wrote a service object and basic server skeleton for the client api (basically refactoring the existing local booru code). client api now appears in manage and review services and can boot and present the normal hydrus browser welcome page at '/'</li>
					<li>the client api and the local booru now have an 'allow non-local connections' checkbox! defaulting to off and on respectively</li>
					<li>updated a wx-thread call function to more safely and universally deal with instances where the responsible window died before the call could be made</li>
					<li>removed some old experimental crypto code that isn't used any more--pycryptodome is no longer needed to run the program from source</li>
					<li>improved some misc client service code</li>
					<li>deleted some old unused code</li>
					<li>misc cleanup</li>
					<li>updated to ffmpeg 4.1 on windows release</li>
					<li>updated to sqlite 3.26 on windows release</li>
					<li>updated to wxpython 4.0.4 on all platforms</li>
				</ul>
				<li><h3 id="version_337"><a href="#version_337">version 337</a></h3></li>
				<ul>
					<li>fixed another couple of unicode encoding problems with the logging and profiling code</li>
					<li>the logger now sticks a unicode BOM at the top of new log files to help text readers guess the utf-8 encoding</li>
					<li>fixed musical webm import when the video stream has no stated duration but the audio stream does and typically stretches out a 'single frame' video</li>
					<li>fixed some 'max size' download file size testing</li>
					<li>'waiting on bandwidth' statements on network job controls now show the specific network context (like 'web domain: somesite.com') they are waiting on (you might need to hover over to see the tooltip for this)</li>
					<li>the downloader easy-importer lain image is now clickable to launch a file selection dialog</li>
					<li>if you are in advanced mode, the manual file export dialog now lets you export symlinks with a new checkbox. this is experimental, so if you are interested, give it a brief test and let me know how it works for you</li>
					<li>duplicate content merging now applies to pending as well as current tags</li>
					<li>the duplicate filter now counts pending tags when saying which file has more tags</li>
					<li>advanced content updates now _copy_ both current and pending tags. the other actions now state what they do more clearly</li>
					<li>stopped printing long server error text on 304 and 404, where actual response content is uninteresting</li>
					<li>removed wx import that accidentally came into server space due to 2to3 check</li>
					<li>improved the path-fixing code that helps environment construction when launching external programs from non-windows frozen builds</li>
					<li>fixed a critical pubsub processing bug that kicked in at a certain stage of client shutdown. this should stop the post-shutdown-processing memory explosion certain users were seeing and should stop any ui jank in the last 0.2s of the program for everyone else</li>
					<li>improved some other shutdown memory cleanup that was sometimes leading to double-log-printing of exit statements</li>
					<li>did a full pass over the daemon scheduling code. it now reacts more responsively to various shut down situations</li>
					<li>reduced db disk cache aggression significantly and added more memory maintenance to the cache population process</li>
					<li>fixed an issue where subscriptions were not promptly responding to shutdown events</li>
					<li>fixed an issue where some delayed network jobs (e.g. while all network traffic is paused) were also not responding to shutdown events</li>
					<li>added a 'pubsub report mode' debug mode for simpler pubsub review</li>
					<li>the db is now less redundantly spammy on certain behind the scenes update notifications</li>
					<li>wrote a first version of the client api manager and permissions handling objects</li>
					<li>misc fixes, cleaned some shutdown code</li>
				</ul>
				<li><h3 id="version_336"><a href="#version_336">version 336</a></h3></li>
				<ul>
					<li>fixed an issue where the numerical rating control was coercing all clicks to either the minimum or maximum allowable rating (e.g. 3/5 stars wasn't working)</li>
					<li>fixed some text file and process i/o, which was handling some unicode decoding/encoding incorrectly. it now mandates utf-8 in all cases</li>
					<li>fixed a referral url encoding problem that was stopping pixiv from downloading when the gallery page url had kana/kanji characters (from a search term)</li>
					<li>fixed a str vs bytes issue when loading the filename tagging panel</li>
					<li>fixed the delete button on the filename tagging quick namespaces panel (the edit and delete buttons are also now 'live' and will disable when nothing is selected)</li>
					<li>improved some json dump deserialisation code</li>
					<li>fixed a data-sorting issue that would appear with certain parsers in the edit parsers panel</li>
					<li>improved video metadata parsing, fixing an issue when the video has a 'title' row containing inconvenient data</li>
					<li>fixed some hex character processing for system preds</li>
					<li>added an advanced check item to the gallery downloader cog icon menu that will 'bundle' multiple query-pastes to the same single gallery downloader (this is helpful if you are pasting a whole bunch of md5 queries in one go and would rather one downloader work through them sequentially than 50+ separate ones blat your CPU simultaneously)</li>
					<li>the different kinds of importer worker threads now have several limits on the max number that can be working at once, to stop accidental ui overload when a hundred or more are in memory and all want to work at once (like after a big paste event or resuming after computer sleep). during periods of heavy import activity, the importers will now naturally space themselves out to smooth out the spike. the limits are hardcoded for now, let me know if it noticeably bottlenecks your situation</li>
					<li>made some menubar update code a bit less complicated and reduced how often it'll spam during heavy update</li>
					<li>the 'what to do?' buttons that appear in manage tags sometimes on a tag action got a simplification pass and are now on the new dialog system</li>
					<li>simplified my new dialog code significantly, clearing out redundant code and classes and pushing all okable/cancellable/vetoable closing checks through one single method</li>
					<li>wrote some new help.txt in the db dir about hanging startups</li>
				</ul>
				<li><h3 id="version_335"><a href="#version_335">version 335</a></h3></li>
				<ul>
					<li class="dealwithit">important:</li>
					<li>hydrus now runs completely and exclusively on python 3!</li>
					<li>for users who are updating, the client has special install instructions for just this week:</li>
					<li>if you are a windows or linux user who extracts to install, you will have to delete your old install's files (but keep your db folder!!!) before installing/extracting the new version so there are no 2/3 dll/so conflicts (don't delete your db folder!)</li>
					<li>if you use the windows installer to install, this v335 installer will do the clean install for you! there is absolutely no way this could go wrong, so no need to make a backup beforehand :^)</li>
					<li>if you are an os x user, I am now only releasing the client in the app. furthermore, the default app db location is now ~/Library/Hydrus (i.e. /Users/[you]/Library/Hydrus). you will have to move your existing db to this location to update, and thereafter you'll just be replacing the app in Applications!</li>
					<li>if you try to boot a non-clean mixed 2/3 install, the client will try to recognise that and give an error and dump out</li>
					<li>please check the release post for more detailed instructions here</li>
					<li>.</li>
					<li>semi-important:</li>
					<li>the db password feature may be one-time broken for unusual keyboard languages, so failures this version will be forgiven with an appropriate error message explaining the situation. feedback from ???? ????? lads appreciated</li>
					<li>I may have fixed the issue some linux/os x users were having launching external programs, including OS ffmpeg (it was a child process environment issue related to pyinstaller)</li>
					<li>although I did most of my devving here on py 3.6, the client seems to run ok on 3.5. I doubt 3.4 will do it, if you mean to run from source</li>
					<li>I moved from the old pycrypto to the new pycryptodome, so users who run from source will want to get this. I also dropped some libraries</li>
					<li>.</li>
					<li>misc bug fixes:</li>
					<li>fixed the 'load one of the default options' button on manage tag import options when a set of default options is orphaned by a deleted url class</li>
					<li>removed some popup flicker related to long error messages</li>
					<li>fixed some parsing testing ui error handling</li>
					<li>cleared up some bad text ctrl event handling that could sometimes cause a recursive loop</li>
					<li>listctrls should now sort text that includes numbers in the human-friendly 2 < 10 fashion</li>
					<li>cleaned up some bad external process calling code and improved how child process environment is set up</li>
					<li>finally figured out the basic problem of a long-time nested dialog event handling error that could sometimes freeze the ui. I may have fixed it in one case and will keep working on this</li>
					<li>.</li>
					<li>boring details:</li>
					<li>ran 2to3 to auto-convert what could be done</li>
					<li>updated environment to python 3</li>
					<li>went over a whole ton of unicode encoding/decoding manually to update it to python 3</li>
					<li>removed all the old tobytestring/tounicode calls in favour of new python 3 handling</li>
					<li>fixed all the file io to do bytes/str as appropriate</li>
					<li>corrected a bunch of / vs // int/float stuff</li>
					<li>fixed up twisted, which has some str/bytes stuff going on</li>
					<li>fixed all the listctrls to deal with column sorting None values amongst ints/strs</li>
					<li>fixed png export/import, which had some fun bytes/bytearray/int/str issues</li>
					<li>updated the swf header parsing code to py3 (more str/bytes stuff)</li>
					<li>misc float/int fixes</li>
					<li>fixed up some http.cookies handling, which has changed in py3</li>
					<li>improved some ancient loopback connection code that was only really checking to see if ports were in use</li>
					<li>cleaned up a bunch of now-invalid parameter tuples that 2to3 helpfully marked</li>
					<li>numerous misc other refactoring and so on</li>
					<li>updated the new network engine to now decode non-utf-8 responses correctly based on actual response header</li>
					<li>removed some old py2 manual http multipart code</li>
					<li>removed the old py2 'matroska or webm' parsing py, replacing it with some direct ffmpeg format inspection</li>
					<li>replaced all % formatting with the new .format system. I will slowly move to this rather than the current endless concatenation mess</li>
					<li>deleted some more misc old code</li>
					<li>tightened up some spammy network error reporting</li>
					<li>converted all /r/n to /n in my environment project, ha ha ha</li>
					<li>the ui seems to better support rarer unicode characters like ??</li>
					<li>updated some of the install/update/backup help for all this, and some misc other stuff as well</li>
					<li>fixed misc bugs</li>
				</ul>
				<li><h3 id="version_334"><a href="#version_334">version 334</a></h3></li>
				<ul>
					<li>wrote a system:file viewing stats to comprehensively search the new viewing stats--it _should_ also be synced with the exact current values</li>
					<li>but for system:everything, inbox, and archive, which remain where they were, system predicates are now sorted alphabetically!</li>
					<li>added a _database->file viewing stats_ menu that lets you suspend file view tracking and clear all records permanently</li>
					<li>mr. bones now welcomes all users under the help menu</li>
					<li>fixed mr. bones's confusion at those who have yet to board the ride</li>
					<li>also mr. bones now makes sure to get the latest file viewing stats</li>
					<li>moved confirm trash/archive from _options->gui_ to _options->files and trash_</li>
					<li>moved a bunch of 'pages' related stuff from _options->gui_ to the new _options->gui pages_</li>
					<li>added an option to options->gui pages to change the number of session rolling backups</li>
					<li>subscription popups now provide an x/y query progress string in their popup text</li>
					<li>the edit subs/sub panels are now a bit shorter by default and the edit sub has its own frame position data, under 'edit_subscription_dialog', and remembers its last size and position by default</li>
					<li>fixed an issue where some dupe watcher urls (like url and url#12345) were not being correctly merged on a mouse drag and drop watcher-import</li>
					<li>the client will now print up to 512KB of server error info to the log (previously 4KB)</li>
					<li>removed the youtube download prototype--if it returns, we'll do a proper youtube-dl solution. as a result, pafy is no longer needed to run the client</li>
					<li>network report mode now shows more network error information</li>
					<li>gave the 'getting started with subscriptions' help page a complete pass. it now reflects the new system and has up-to-date advice based on my new experience</li>
					<li>wrote a 'logins' section to the bottom of the 'getting started with downloading' help page</li>
					<li>misc fixes</li>
				</ul>
				<li><h3 id="version_333"><a href="#version_333">version 333</a></h3></li>
				<ul>
					<li>added a first version of file viewing statistics! the client db now keeps track of how many times a file is loaded in the preview and full media viewers, and for how long!</li>
					<li>you can see the media and preview stats on any single media right-click menu. there are multiple options for how this displays, including hiding it completely, under options->media</li>
					<li>viewing stats update as they happen! (although viewtime typically only updates on the end of viewing. I'll likely make this more live, especially if I end up showing this info in the media media viewer)</li>
					<li>you can now sort files by total media views/viewtime!</li>
					<li>mr. bones's wild ride continues, as well</li>
					<li>deleted the old 'file list' way of updating in-ui media objects in favour of a long-planned global media cache. there is now only ever one active copy of any particular media, and all data-level updates need only occur once on that single copy. this saves a bunch of CPU, memory, and overall hassle behind the scenes! various search results/lookups for media already loaded elsewhere now load super fast!</li>
					<li>tag siblings refresh is quicker and less memory heavy thanks to this as well</li>
					<li>furthermore, the complicated tag changes from tag repository processing and advanced content updates are now reflected immediately in the gui on the job's completion! (as long as you have fewer than 10k files open, ha ha) previously, these required a search refresh to show the results</li>
					<li>the file sort choice dropdown on all pages is now sorted alphabetically. it has always been a mess picking what you want from here, so let's see if this helps!</li>
					<li>tag and rating sort options are now listed as 'tag:' and 'rating:' respectively</li>
					<li>fixed some misc file sort choice code, which was failing to keep certain defaults in certain situations</li>
					<li>fixed the tag import options' new 'load from defaults' button to correctly load the tag blacklist</li>
					<li>the keyboard icon on the media viewer's top hover window now permits activation of current/default shortcut sets under submenus. it now also omits these entries if no custom shortcut sets exist</li>
					<li>cleaned up some of the hover_window-canvas interaction code</li>
					<li>fixed some long-time sperg-out  buffer-drawing when changing position in a long video</li>
					<li>the database->backup actions are now hidden if the current db has non-default file/thumbnail locations. for now, in these cases, only a custom backup is appropriate</li>
					<li>fixed some ancient repository admin code that fetches summary account info given an account key</li>
					<li>the filename tagging dialog now has a much shorter listctrl by default, so should fit better on smaller monitors</li>
					<li>fixed the 'review session cookies' dialog's clear button, which was not deleting sessions after clear. it now also wraps the operation in a yes/no confirmation</li>
				</ul>
				<li><h3 id="version_332"><a href="#version_332">version 332</a></h3></li>
				<ul>
					<li>the client serialisation system now supports multiple rolling backups!</li>
					<li>client sessions (like the 'last session' that typically loads on boot) are now automatically backed up to ten times in rolling backups! you can review and append the backups if you need to recover from _pages->sessions->append session backup_, where they are listed by their timestamp!</li>
					<li>when the client closes, an additional 'exit session' is now saved. this differs to 'last session', which is overwritten every x minutes, and is now available (especially with the new backup) for various error recovery situations</li>
					<li>gallery import pages now have a little cog icon to control if new import queues will start with files and/or galleries paused. these states persist through a session reload</li>
					<li>tag import options that are 'defaultable' now have a button to let you load in a specific default, so you can easily quickly edit in a one-time slight alteration of the default rather than having to create everything from scratch</li>
					<li>under options->downloading, you can now set the 'delay' times on gallery/watcher network error, subscription network error, and subscription other error, now defaulting to 90mins, 12hours, and 36 hours respectively</li>
					<li>attempting to launch a client with db version > software version now spawns a blocking messagebox on pre-launch informing the user of the risks and advising task manager force-kill of the process</li>
					<li>did a little cleanup on the new tag id database cache and merged some other, older semi-laggy tag-fetching code to use the same system</li>
					<li>wrote a similar 'file id' database cache for caching file hashes and also merged some old hash-fetching code into it. a variety of file operations are now significantly faster</li>
					<li>export folders can now delete files from the client after export. the edit panel will warn you on selecting this and oking the panel. it can't be set if the export type is 'synchronise'.</li>
					<li>fixed the edit export folders dialog's old buttons, which were semi-working due to some recent update work</li>
					<li>when checking for file integrity, you can now choose to export a .txt file listing all the missing files' known urls, so you can try to recover by feeding them all back into a new url downloader!</li>
					<li>the physical file deletion process is now a little simpler and deals with larger jobs in smaller batches, no longer hogging the file read lock the whole time. clearing a large trash should no longer hang other media loads</li>
					<li>adding ngugs in the 'export downloaders' dialog now attempts to add the respective gugs as well</li>
					<li>fixed an issue where the listctrl would accept certain kinds of duplicate data and hence confuse its indices</li>
					<li>fixed all the add buttons on the export downloader panel to exclude all items already in the list when figuring out what additional objects to add</li>
					<li>the 'scroll thumbs at this rate per tick' option now _rounds_ the pixel result, rather than always _floor_ing it</li>
					<li>wrote a new mass-selection database routine that should reduce memory footprint of autocomplete regeneration. if it works out, I will use it in some other places</li>
					<li>improved the errors when a network job that cannot wait fails on an invalid login, and added a separate error when it refers to a hydrus service</li>
					<li>fixed a small typo bug when trying to auto-add url classes and parsers</li>
					<li>updated an old deprecated checkboxlist call</li>
					<li>clarified the integrity section of 'help my db is broke.txt'</li>
					<li>misc fixes</li>
				</ul>
				<li><h3 id="version_331"><a href="#version_331">version 331</a></h3></li>
				<ul>
					<li>added a 'do login now' button to the manage logins dialog. it only enables when the selected logins are active and not invalid and so on, and will ok the dialog and queue up some login attempts, which will make report popups as normal</li>
					<li>'review session cookies' panels now support drag and drop cookies.txt import! cookies.txt importing will also handle errors a bit better and report total number of added cookies</li>
					<li>the 'review session cookies' panel now defaults to not showing sessions with zero cookies. a new checkbox controls this</li>
					<li>login scripts can now be rolled into easy import pngs! should work for export and import just like the other objects (although they won't be auto-added based on domain in export dialog)</li>
					<li>brushed up some of the 'change login script' code--particularly, it now puts login scripts that have matching domains first in the selection list, for easier selection</li>
					<li>after striking a reckless bargain with a daemon from the database-plane, system:num_tags now runs significantly faster and produces accurate tag counts even when searching over multiple tag services that have duplicate tags. if this works out, the immaterial beast promises greater gains for similar jobs with no possibility of anything going wrong</li>
					<li>prototyped a new tag cache in the db that affects (and should speed up) many tag fetching routines. let's see how it goes</li>
					<li>added complete, global proxy support for the new network engine! there are new options under options->connection (with some explanation text) to handle it. if pysocks is installed, socks4/5 proxies are also available!</li>
					<li>updated the e-hentai.org login script to the new one on the github. your existing mappings for e-hentai.org _should_ all be updated right. exhentai.org is likely too difficult to properly support in the current system</li>
					<li>the different panels where you enter system predicate information now all run on the new panel sizing system--if you have had problems with these, please let me know how they size now!</li>
					<li>added a '4channel thread' url class to support watchers for the new 4channel sfw domain. it works for now, but let's see if their api changes when the split actually happens</li>
					<li>the list right-click menu on gallery import and thread watcher panels now has three options to show combined importers' files--presented, new, and all. it also now shows the files (more smoothly) in the same page, clearing any existing highlight.</li>
					<li>misc ui improvements</li>
					<li>updated 'running from source' in help</li>
				</ul>
				<li><h3 id="version_330"><a href="#version_330">version 330</a></h3></li>
				<ul>
					<li>login:</li>
					<li>added a proper username/password login script for hentai foundry--double-check your hf filters are set how you want in your profile, and your hydrus should inherit the same rules</li>
					<li>fixed the gelbooru login script from last week, which typoed safebooru.com instead of .org</li>
					<li>fixed the pixiv login 'link' to correctly say nsfw rather than everything, which wasn't going through last week right</li>
					<li>improved the pixiv file page api parser to veto on 'could not access nsfw due to not logged in' status, although in further testing, this state seems to be rarer than previously/completely gone</li>
					<li>added login scripts from the github for shimmie, sankaku, and e-hentai--thanks to Cuddlebear and any other users who helped put these together</li>
					<li>added safebooru.donmai.us to danbooru login</li>
					<li>improved the deviant art file page parser to get the 'full' embedded image link at higher preference than the standard embed, and only get the 'download' button if it looks like an image (hence, deviant art should stop getting 140MB brush zips!)</li>
					<li>the manage logins panel now says when a login is expected to expire</li>
					<li>the manage logins dialog now has a 'scrub invalidity' button to 'try again' a login that broke due to server error or similar</li>
					<li>entering blank/invalid credentials is now permitted in the manage logins panel, and if entered on an 'active' domain, it will additionally deactivate it automatically</li>
					<li>the manage logins panel is better at figuring out and updating validity after changes</li>
					<li>the 'required cookies' in login scripts and steps now use string match names! hence, dynamically named cookies can now be checked! all existing checks are updated to fixed-string string matches</li>
					<li>improved some cookie lookup code</li>
					<li>improved some login manager script-updating code</li>
					<li>deleted all the old legacy login code</li>
					<li>misc login ui cleanup and fixes</li>
					<li>.</li>
					<li>other:</li>
					<li>sped up tag searches in certain situations (usually huge inbox) by using a different optimisation</li>
					<li>increased the repository mappings processing chunk size from 1k to 50k, which greatly increases processing in certain situations. let's see how it goes for different users--I may revisit the pipeline here to make it more flexible for faster and slower hard drives</li>
					<li>many of the 'select from a list of texts' dialogs--such as when you select a gallery to download from--are now on the new panel system. the list will grow and shrink depending on its length and available screen real estate</li>
					<li>.</li>
					<li>misc:</li>
					<li>extended my new dialog panel code so it can ask a question before an OK happens</li>
					<li>fixed an issue with scanning through videos that have non-integer frame-counts due to previous misparsing</li>
					<li>fixed a issue where file import objects that have been removed from the list but were still lingering on the list ui were not rendering their (invalid) index correctly</li>
					<li>when export folders fail to do their work, the error is now presented in a better way and all export folders are paused</li>
					<li>fixed an issue where the export files dialog could not boot if the most previous export phrase was invalid</li>
					<li>the duplicate filter page now has a button to more easily edit the default merge options</li>
					<li>increased the sibling/parent refresh delay for 1s to 8s</li>
					<li>hydrus repository sync fails due to network login issues or manual network user cancel will now be caught properly and a reasonable delay added</li>
					<li>additional errors on repository sync will cause a reasonable delay on future work but still elevate the error</li>
					<li>converted import folder management ui to the new panel system</li>
					<li>refactored import folder ui code to ClientGUIImport.py</li>
					<li>converted export folder management ui to the new panel system</li>
					<li>refactored export folder ui code to the new ClientGUIExport.py</li>
					<li>refactored manual file export ui code to ClientGUIExport.py</li>
					<li>deleted some very old imageboard dumping management code</li>
					<li>deleted some very old contact management code</li>
					<li>did a little prep work for some 'show background image behind thumbs', including the start of a bitmap manager. I'll give it another go later</li>
				</ul>
				<li><h3 id="version_329"><a href="#version_329">version 329</a></h3></li>
				<ul>
					<li>login:</li>
					<li>the login manager is fully turned on! hentai-foundry click-through and pixiv login now occur fully on the new system</li>
					<li>wrote a Deviant Art login script for NSFW downloading--however, it only seems to work on a client that has done some logged-out downloading first (otherwise it thinks you are a robot)</li>
					<li>updated the DA file page parser to only NSFW-veto if the user is currently logged out</li>
					<li>wrote a danbooru login script for user prefs and special files if you have a gold account</li>
					<li>wrote a gelbooru 0.2.x login script for user prefs</li>
					<li>pixiv recently(?) allowed non-logged in users to see sfw content, so the login script is updated to reflect this. the login script doesn't detect a failed login any more, so I will revisit this</li>
					<li>logging in in the regular order of things now makes a temporary popup message with the overall login status and final result. ~it is cancellable~--and if cancelled, future login attempts will be delayed</li>
					<li>logging in in the regular order of things now prints simple started/result lines to the log</li>
					<li>deleted old network->login menu and related code such as the custom pixiv login management. gdpr click-through is now under downloaders</li>
					<li>subscription login errors will now specify the given login failure reason</li>
					<li>subscription login tests will now occur at a better time, guaranteeing the sub will be correctly saved paused if the test fails</li>
					<li>login errors will now always specify the domain for which they failed</li>
					<li>testing a login script on a fresh edit login script dialog now pre-fills the alphabetically first example domain</li>
					<li>the login script test ui now restores its 'run test' button correctly if the test is abandoned early</li>
					<li>misc improvements to login error handling and reporting</li>
					<li>.</li>
					<li>other:</li>
					<li>any texts across the program that ellipsize when they are too thin to display what they have will now tooltip their text (this most importantly includes the status on the network job control, which will now display full login problem info)</li>
					<li>the copy button on manage tags goes back to copying all if no tags are selected</li>
					<li>the remove button on manage tags now removes only selected if some tags are selected. it still removes all if none are selected</li>
					<li>the remove button on manage tags is now wrapped in a yes/no dialog (as is hitting the delete key on the list's selection). this can be turned off under the cog button</li>
					<li>filename tagging panels now support directory tagging for the last, second last, and third last directories. the related code for handling directory tagging is cleaned up significantly</li>
					<li>the export files panel now lets you delete the files from the client after export. this value will be remembered, and if on will prompt a capital letters warning on export, either via the button or the quick-export shortcut</li>
					<li>in manage tag parents, where there are multiple parents in a pending action (either by importing via clipboard/file or by putting multiple parents in right-hand box), the action will now be treated as one transaction with one 'enter a reason' confirmation!</li>
					<li>in manage tag siblings, when multiple 'better' values are pended in one action via a clipboard/file import, they will now be treated as one transaction with one 'enter a reason' confirmation!</li>
					<li>.</li>
					<li>misc:</li>
					<li>added a new url class that api-links .gifv-style imgur links so they are downloadable like regular imgur single media pages</li>
					<li>the pixiv manga page url class now redirects to the new api, so mode=manga pages should now be drag-and-drop importable and generally downloadable if you have any still hanging around in any queues</li>
					<li>clients now come with an additional danbooru parser that fetches the webm version of ugoiras</li>
					<li>after discovering a pdf that ate indefinite 100% CPU while trying to parse, I have decided to stop pulling num_words for pdfs. it was always a super inaccurate number, so let's wait for a better solution at a later date. hydrus hence no longer requires pypdf2</li>
					<li>fixed an issue with monthly bandwidth estimates rolling over to the new year incorrectly</li>
					<li>in an attempt to chase down a duplicate files content move/copy bug, the duplicate action content updates got a bit of cleanup work. if you have noticed duplicate actions not copying tags/urls, please let me know the exact process in the ui, including services and merge options, you went through</li>
					<li>tag lists should now update their sibling appearance correctly after a tag siblings dialog ok--previously, they were checking for new sibs too early</li>
					<li>tag siblings and parents should now refresh their data more efficiently when spammed with new data notifications (this usually happens janitor-side, which approving dozens at once)</li>
					<li>copy queries/watcher urls on the download pages' lists' right-click menus no longer double-spaces the copied texts (it just does single spaces)</li>
					<li>fixed an issue where certain initialised watchers were erroring out when asked to provide next-check time estimates--in all cases, null timestamps will be dealt with better here</li>
					<li>misc tag parents/siblings ui code cleanup</li>
					<li>wrote some code to catch and report on an unusual dialog dismissal error</li>
				</ul>
				<li><h3 id="version_328"><a href="#version_328">version 328</a></h3></li>
				<ul>
					<li>wrote test ui for edit login script panel</li>
					<li>the login system now works and is turned on, although the legacy hardcoded pixiv and hf logins remain in place. it will not do anything very new this week--it is strictly only for advanced users to experiment with for now</li>
					<li>cleaned up some messy network code</li>
					<li>all subscription and hydrus jobs will no longer wait indefinitely on an invalid login--they will cancel immediately</li>
					<li>network jobs will report a bit more info when they are cancelled</li>
					<li>subscriptions will now attempt to test login validity before and during file downloads and syncing. if they fail, the sub will pause and stop work and a message will be presented to the user</li>
					<li>made a 'thumbnails' options page and moved some things to it</li>
					<li>added thumbnail border and margin to that thumbnails page! you can even set 0 border and/or margin and it works</li>
					<li>fixed up a heap of bad thumbnail drawing code that didn't work with thicker borders</li>
					<li>the tag sibling and parent dialogs now have suggestion buttons in their 'give a reason' dialogs! if your petitions are simple and fit into one of these categories (which is most of them), please use these buttons as they will let janitors (e.g. hydrus dev for the PTR) process them in batches, in fewer clicks</li>
					<li>manage tags dialog's checkboxes and advanced buttons are now wrapped into a cog icon! remove/copy/paste buttons are compacted and put on the same row!</li>
					<li>manage tags dialog's copy button now only copies selected, not all tags</li>
					<li>manage tags dialog now uses the new sizer. some components are smaller by default but will eat up spare pixels better</li>
					<li>misc manage tags code cleanup</li>
					<li>added 'paged file import queues' to the network->pause menu. this will pause any, hdd, url, simple, gallery, or watcher page from processing its file import queue. it is a bit hacky and will take up to 30s to unpause unless you joggle the respective downloader to wake it up--see how it goes!</li>
					<li>added a similar 'gallery searching' to that menu, to pause any url, simple, or gallery page from actioning its gallery-side queue</li>
					<li>and 'watcher checking' for watchers</li>
					<li>fixed a stupid bug that was causing false-positive and _mostly_ harmless errors for certain pixiv and artstation multi-page downloads</li>
					<li>fixed an issue where multi-page data was being mis-metadata'd (mostly, this meant thread watchers were giving the last filename tag to all files, and I think similarly getting the latest source time) due to a mistake in some recent de-duping code</li>
					<li>fixed the new pixiv file page api parser to parse source time, which I must have accidentally deleted previously</li>
					<li>fixed a no-expand bug in my new sizer when in horizontal orientation</li>
					<li>fixed a small bug when making an easy-import downloader png and cancelling the add url class dialog</li>
					<li>misc fixes</li>
				</ul>
				<li><h3 id="version_327"><a href="#version_327">version 327</a></h3></li>
				<ul>
					<li>login stuff:</li>
					<li>finished off some login script data stuff</li>
					<li>fleshed out how login credentials and other linked data is stored in the login manager, including script link recovery when the script changes but name does not</li>
					<li>improved some initialisation login validation error handling</li>
					<li>improved login failure validation error handling</li>
					<li>wrote a dialog panel for managing login credentials and reviewing validity and so on</li>
					<li>a heap of related session and login tie-in/fix-up work</li>
					<li>the login manager will now save changes to the db. it will get the HF and pixiv scripts on db creation/update, and if you have a pixiv login, the login system will pre-fill that info and 'activate' the script (although the login manager will not fire any login scripts yet--if so configured, it'll just delay on a polite error message)</li>
					<li>.</li>
					<li>other stuff:</li>
					<li>with the subscriptions' new more liberal syncing logic, the periodic file limit will now only pop up if the sub does not see any already-seen files</li>
					<li>to give more buffer for the new syncing logic, file import caches will now store 250 entries minimum on compaction (was 100 previously)</li>
					<li>subscription merging now lets you choose the primary subscription into which the other subs will be merged</li>
					<li>cancelling a subscription merge action mid-merge is now safely nullipotent</li>
					<li>post urls that use subsidiary page parsers (such as the new pixiv manga parser) will now correctly insert (rather than append) their manga urls into the file import cache</li>
					<li>removed a couple of places where urls could accidentally be duplicated in a file import cache</li>
					<li>cleaned up some areas where successful file import objects were presumed to have file hashes when they might not (this was causing errors when importing urls that split into multiple url children, like pixiv manga, while also having 'additional tags' set)</li>
					<li>updated tag censorship, parents, and siblings dialogs to the new panel system</li>
					<li>tag censorship, parents, and siblings panels now use a notebook instead of the layout-borked listbook</li>
					<li>tag parents and siblings panels now use the new small-resolution-friendly sizer, are more tight by default, and expand more neatly</li>
					<li>refactored a bunch of tag ui code to clientguitags</li>
					<li>the client video renderer will now deal with videos with (invalid) duration of 0 more gracefully</li>
					<li>finished the 'getting started with downloading' help page, sans the login stuff</li>
					<li>bit of other help work</li>
				</ul>
				<li><h3 id="version_326"><a href="#version_326">version 326</a></h3></li>
				<ul>
					<li>login:</li>
					<li>finished the new login objects. they can deal with multi-step single second-level domain login problems, can pass variables from step to step, and use cookies as success verification</li>
					<li>wrote an ton of ui for the new login objects, now under network->downloader definitions and network->logins. it is not 'active' yet, but advanced users are invited to check it out. there is no good test ui yet, which I think I'll have to figure out in the coming weeks</li>
					<li>wrote a first attempt at HF and pixiv replacement login scripts--please try importing from defaults on the manage login scripts dialog and look through them to see what I am going for. once the system is flipped on and we are happy these work, I'll remove the old hardcoded legacy login stuff</li>
					<li>when a network job that needs a login cannot login, it now waits (rather than bombing out completely), presenting the related error, and checks again every 60 seconds</li>
					<li>if a network job thinks it can login but fails to generate a login process, the network engine now catches the error safely and recovers. the job is put on hold as above</li>
					<li>.</li>
					<li>subs:</li>
					<li>the subscription 'have we caught up to where we were before' test is now more complicated--rather than just stopping after five 'already seen' urls are found, it now only stops if at least the _last_ five contiguous urls of the page are already seen. this will catch more late-tagged files that get inserted out of order</li>
					<li>fixed the 'get quality info' button on edit sub panel to only get the current selection, not all queries wew</li>
					<li>subscriptions can now optionally publish/present their files to a specific label! this is a great way to merge multiple subs to the same final landing page</li>
					<li>.</li>
					<li>layout:</li>
					<li>after a long time thinking about it, wrote a new custom boxsizer that handles resizing multiple expanding items of different reasonable min size by expanding them _beyond minimum size_ by their proportion, rather than forcing them all to have total proportional width/height. I expect to polish this and apply it in multiple locations around the program where tall things were being too tall because something else was forcing it to be (the management panel on the left of most pages was terrible at this, causing a giganto taglist just because the upper panel was tall as well).</li>
					<li>changed my custom boxsizer (the box with a bold header) to the new custom boxsizer, so it is all over now--please report any bad layouts you see</li>
					<li>in an effort to improve layout, the manage tag parents and siblings panels' preview boxes have shorter minimum height--it will get a bigger layout overhaul soon</li>
					<li>.</li>
					<li>bigger misc:</li>
					<li>thanks to work of user kourraxspam on the discord, fixed the pixiv downloader to use a more stable api and added pixiv tag search</li>
					<li>watchers and gallery imports now have a list right-click menu entry to show all selected importers' files in a new page! use this to clear out a bunch of finished queues all at once!</li>
					<li>the tag right-click menu now offers 'open new search pages for each in selection' if multiple tags are selected--this will open three search pages each with one tag, as opposed to the original entry, which would only open one page with all three</li>
					<li>the edit nested gug panel now uses a checklistbox rather than the menu to select gugs to add, which is more reliable and allows for multiple selections</li>
					<li>sped up autocomplete tag fetches' tag sibling integration--irl this may be a reduction in total a/c search time of approx 33%</li>
					<li>page parsers will now generate next gallery urls absent any file/post urls if the only type of url they can generate is gallery urls (so a meta-gallery-search like board->threads that only generates subsidiary gallery pages will now work, whereas before it never could because it was missing post urls)</li>
					<li>the gallery log now provides a shorthand way to restart and resume failed searches from its right-click menu (if the most recent log entry failed)</li>
					<li>'try again (and allow search to continue)' reattempt jobs will now generate next page urls even if no new urls are found (which can happen if a search stopped due to the file limit exactly lining up with the number of files found, for instance, so a reattempt finds nothing new)</li>
					<li>gallery downloaders will now specify their 'delay work for a bit' error states in the ui. this usually means 'could not connect', which has a 4-hour timer (I'll prob add a scrub delays button here at some point)</li>
					<li>the watcher will now show its 'delay work for a bit' error state in more places in the ui</li>
					<li>added a 'media' shortcut 'export_files_quick_auto_export', which will open the export files frame and give you a quick yes/no to confirm you want to export as set. if yes, it will export. then it will close the frame</li>
					<li>added a 'show a "N" to short import summaries' option to options->downloading, which will extend the typical 'x/y' status string to 'x/y - zN' for z 'new files' (as opposed to already in db)</li>
					<li>improved how the video parser estimates frame rate--it _should_ fix some of those low-framerate, low-framecount slideshow-vids where at current they render everything in a rush and then sit on the last frame for ten secs</li>
					<li>.</li>
					<li>smaller misc:</li>
					<li>network report mode now reports url_to_fetch and parser-to-parse-with info</li>
					<li>when the server fails to accept a file upload due to a file parsing issue, it now prints the hash of the file in the error</li>
					<li>if the client sees a possible file hash in a server error message from a file upload, ~it will try to show that file in a new page~</li>
					<li>fixed an issue where wildcard searches were not finding results if the search text included the normally discarded characters [](){}"'</li>
					<li>fixed some domain handling for localhost and other undotted network names</li>
					<li>content parsers will now only launch with permissable content types, which for the legacy 'lookup scripts' scripts system means only tags and vetoes, and for the new login system means only temp variables and vetoes</li>
					<li>as compaction now happens automatically on sync, removed the 'compact' button from edit subs panel</li>
					<li>an unusual network error related to hydrus update files sometimes being cut off mid-stream is now glossed over silently, with the download reattempted after a delay</li>
					<li>the initial gui session load now occurs after a 0.25s delay--let's see if it cleans up some initial layout issues some users have had</li>
					<li>maybe fixed an odd dictionary-initialisation error related to tag siblings/parents dialog boot</li>
					<li>ruggedised against an unusual bandwidth load bug</li>
					<li>gave some of the index help a pass</li>
					<li>did most of a 'getting started with downloaders' page in the help--I'll finish it next week</li>
					<li>updated discord share link to https://discord.gg/3H8UTpb , which should not expire</li>
					<li>some listbox add/edit code cleanup</li>
					<li>some listctrl delete code cleanup</li>
					<li>misc help work</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_325"><a href="#version_325">version 325</a></h3></li>
				<ul>
					<li>added a 'show a popup while working' checkbox to edit subscription panel--be careful with it, I think maybe only turn it off after you are happy everything is set up right and the sub has run once</li>
					<li>advanced mode users will see a new 'get quality info' button on the edit subscription panel. this will some ugly+hacky inbox/archived/deleted info on the selected queries to help you figure out if you are only archiving, say, 2% of one query. this is a quickly made but cpu-expensive way of calculating this info. I can obviously expand it in future, so I would appreciate your thoughts</li>
					<li>subscription queries now have an optional display name, which has no bearing on their function but if set will appear instead of query text in various presentation contexts (this is useful, for instance, if the downloader query text deals in something unhelpful like integer artist_id)</li>
					<li>subscription queries now each have a simple tag import options! this only allows 'additional tags', in case you want to add some simple per-query tags</li>
					<li>selecting 'try again' on file imports that previously failed due to 'deleted' will now pop up a little yes/no asking if you would like to first erase these files' previously deleted file record!</li>
					<li>the watcher and gallery import panels now have 'retry failed' buttons and right-click menu entries when appropriate</li>
					<li>the watcher and gallery import panels will now do some ui update less frequently when they contain a lot of data</li>
					<li>fixed the new human-friendly tag sorting code for ungrouped lexicographic sort orders, where it was accidentally grouping by namespace</li>
					<li>downloader easy-import pngs can now hold custom header and bandwidth rules metadata! this info, if explicitly present for the appropriate domain, will be added automatically on the export side as you add gugs. it can also be bundled separately after manually typing a domain to add. on the import side, it is now listed as a new type. longer human-friendly descriptions of all bandwidth and header information being bundled will be displayed during the export and import processes, just as an additional check</li>
					<li>for advanced users, added 'do not skip downloading because of known urls/hashes' options to downloader file import options. these checkboxes work like the tag import options ones--ignoring known urls and hashes to force downloads. they are advanced and should not be used unless you have a particular problem to fix</li>
					<li>improved how the pre-import url/hash checking code is compared for the tag and file import options, particularly on the hash side</li>
					<li>for advanced users, added 'associate additional source urls' to downloader file import options, which governs whether a site's given 'source urls' should be added and trusted for downloaded files. turn this off if the site is giving bad source urls</li>
					<li>fixed an unusual problem where gallery searches with search terms that included the search separator (like '6+girls skirt', with a separator of '+') were being overzealously de/encoded (to '6+girls+skirt' rather than '6%2bgirls+skirt')</li>
					<li>improved how unicode quoted characters in URLs' query parameters, like %E5%B0%BB%E7%A5%9E%E6%A7%98 are auto-converted to something prettier when the user sees them</li>
					<li>the client now tests if 'already in db' results are actually backed by the file structure--now, if a the actual file is missing despite the db record, the import will be force-attempted and the file structure hopefully healed</li>
					<li>gallery url jobs will no longer spawn new 'next page' urls if the job yielded 0 _new_ (rather than _total_) file urls (so we should have fixed loops fetching the same x 'already in file import cache' results due to the gallery just passing the same results for n+1 page fetches)</li>
					<li>in the edit parsing panels, if the example data currently looks like json, new content parsers will spawn with json formulae, otherwise they will get html formulae</li>
					<li>fixed an issue with the default twitter tweet parser pulling the wrong month for source time</li>
					<li>added a simple 'media load report mode' to the help debug menu to help figure out some PIL/OpenCV load order stuff</li>
					<li>the 'missing locations recovery' dialog that spawns on boot if file locations are missing now uses the new listctrl, so is thankfully sortable! it also works better behind the scenes</li>
					<li>this dialog now also has an 'add a possibly correct location' button, which will scan the given directory for the correct prefixes and automatically fill in the list for you</li>
					<li>fixed some of the new import folder error reporting</li>
					<li>misc code cleanup</li>
				</ul>
				<li><h3 id="version_324"><a href="#version_324">version 324</a></h3></li>
				<ul>
					<li>downloaders:</li>
					<li>after adding some small new parser tools, wrote a new pixiv downloader that should work with their new dynamic gallery's api. it fetches all an artist's work in one page. some existing pixiv download components will be renamed and detached from your existing subs and downloaders. your existing subs may switch over to the correct pixiv downloader automatically, or you may need to manually set them (you'll get a popup to remind you).</li>
					<li>wrote a twitter username lookup downloader. it should skip retweets. it is a bit hacky, so it may collapse if they change something small with their internal javascript api. it fetches 19-20 tweets per 'page', so if the account has 20 rts in a row, it'll likely stop searching there. also, afaik, twitter browsing only works back 3200 tweets or so. I recommend proceeding slowly.</li>
					<li>added a simple gelbooru 0.1.11 file page parser to the defaults. it won't link to anything by default, but it is there if you want to put together some booru.org stuff</li>
					<li>you can now set your default/favourite download source under options->downloading</li>
					<li>.</li>
					<li>misc:</li>
					<li>the 'do idle work on shutdown' system will now only ask/run once per x time units (including if you say no to the ask dialog). x is one day by default, but can be set in 'maintenance and processing'</li>
					<li>added 'max jobs' and 'max jobs per domain' to options->connection. defaults remain 15 and 3</li>
					<li>the colour selection buttons across the program now have a right-click menu to import/export #FF0000 hex codes from/to the clipboard</li>
					<li>tag namespace colours and namespace rendering options are moved from 'colours' and 'tags' options pages to 'tag summaries', which is renamed to 'tag presentation'</li>
					<li>the Lain import dropper now supports pngs with single gugs, url classes, or parsers--not just fully packaged downloaders</li>
					<li>fixed an issue where trying to remove a selection of files from the duplicate system (through the advanced duplicates menu) would only apply to the first pair of files</li>
					<li>improved some error reporting related to too-long filenames on import</li>
					<li>improved error handling for the folder-scanning stage in import folders--now, when it runs into an error, it will preserve its details better, notify the user better, and safely auto-pause the import folder</li>
					<li>png export auto-filenames will now be sanitized of \, /, :, *-type OS-path-invalid characters as appropriate as the dialog loads</li>
					<li>the 'loading subs' popup message should appear more reliably (after 1s delay) if the first subs are big and loading slow</li>
					<li>fixed the 'fullscreen switch' hover window button for the duplicate filter</li>
					<li>deleted some old hydrus session management code and db table</li>
					<li>some other things that I lost track of. I think it was mostly some little dialog fixes :/</li>
					<li>.</li>
					<li>advanced downloader stuff:</li>
					<li>the test panel on pageparser edit panels now has a 'post pre-parsing conversion' notebook page that shows the given example data after the pre-parsing conversion has occurred, including error information if it failed. it has a summary size/guessed type description and copy and refresh buttons.</li>
					<li>the 'raw data' copy/fetch/paste buttons and description are moved down to the raw data page</li>
					<li>the pageparser now passes up this post-conversion example data to sub-objects, so they now start with the correctly converted example data</li>
					<li>the subsidiarypageparser edit panel now also has a notebook page, also with brief description and copy/refresh buttons, that summarises the raw separated data</li>
					<li>the subsidiary page parser now passes up the first post to its sub-objects, so they now start with a single post's example data</li>
					<li>content parsers can now sort the strings their formulae get back. you can sort strict lexicographic or the new human-friendly sort that does numbers properly, and of course you can go ascending or descending--if you can get the ids of what you want but they are in the wrong order, you can now easily fix it!</li>
					<li>some json dict parsing code now iterates through dict keys lexicographically ascending by default. unfortunately, due to how the python json parser I use works, there isn't a way to process dict items in the original order</li>
					<li>the json parsing formula now uses a string match when searching for dictionary keys, so you can now match multiple keys here (as in the pixiv illusts|manga fix). existing dictionary key look-ups will be converted to 'fixed' string matches</li>
					<li>the json parsing formula can now get the content type 'dictionary keys', which will fetch all the text keys in the dictionary/Object, if the api designer happens to have put useful data in there, wew</li>
					<li>formulae now remove newlines from their parsed texts before they are sent to the StringMatch! so, if you are grabbing some multi-line html and want to test for 'Posted: ' somewhere in that mess, it is now easy.</li>
				</ul>
				<li><h3 id="version_323"><a href="#version_323">version 323</a></h3></li>
				<ul>
					<li>wrote first version of the new downloader easy-import drop-panel. you drop downloader-encoded pngs on it, and it maybe asks you a question and jumbles its way through auto-importing all the required data to the client</li>
					<li>extended this file import to do some cleverer 'example url merging' when parsers are otherwise dupes, rather than spamming similar dupes on import</li>
					<li>wrote first version of the new downloader export panel. it takes gugs, url classes and parsers, and predicts sensible sub-objects to include to make functional downloaders, and bundles it into one png</li>
					<li>fleshed out help for the new easy import/export system</li>
					<li>the client now slows down gallery and watcher processing when the network engine is under heavy load, aiming for no more than 50 jobs in system at once. the solution is a bit hacky for now, but it should alleviate the deadlock issue when there are ~180+ simultaneous gallery/watcher network jobs pending</li>
					<li>the multi-watcher panel's list of watchers now supports right-click menu to copy/open urls and pause/play files/checking</li>
					<li>the multi-downloader panel's list of downloaders now supports right-click menu to copy query texts and pause/play files/searching</li>
					<li>added a 'derpibooru tag search - no filter' GUG that disables the default derpi no-explicit-files rule</li>
					<li>added basic gfycat support to default client--drag and drop any typical video page, and it should import ok</li>
					<li>fixed the canvas/hover window tag sorting discrepancy--all tags are now sorted with the same code, and the media view sort order should be the same as your default sort order (although in this case incidence has no effect as there are no tag counts)</li>
					<li>rewrote the network job control's cog menu to be a bit more dynamic, and added 'override gallery slot requirements for this job' if appropriate</li>
					<li>fixed a stupid typo bug in the shutdown maintenance jobs test code that was causing pending repository work to not report right</li>
					<li>fixed gallery searches that include unicode characters that end up in the path of the url (rather than the query parameters)</li>
					<li>fixed an issue where highlighting a watcher would unpause its checking</li>
					<li>generalised the way the new listctrl class can produce right-click menus</li>
					<li>fixed some api link calculation that was over-prescribing api link display pairs (this affected the artstation file page url class by default). these pairs are now also sorted in the links dialog</li>
					<li>misc png-export improvements to present better with the new easy import/export stuff</li>
					<li>the summary texts in the tag filter panel now ellipsize (...), so if the tag filter is complicated, it won't try to boot a superwide edit panel!</li>
					<li>the manage subscriptions panel now correctly initially sorts in a case-insensitive way (previously, it was usually sorting A-Za-z, which is different to regular aA-zZ resorting behaviour, so it always sort-flickered after the first edit)</li>
					<li>the status bar has a new segment for reporting when the client is 'busy' with different jobs. for most typical usage, it'll just stay blank. let's see how it goes.</li>
					<li>fixed mr. bones's wild review when the client currently has no files</li>
					<li>punched up the new file report mode to specify full paths where available</li>
					<li>improved some misc downloader code</li>
				</ul>
				<li><h3 id="version_322"><a href="#version_322">version 322</a></h3></li>
				<ul>
					<li>wrote gugs help</li>
					<li>gave url classes and parsers help a pass</li>
					<li>wrote e621 html gallery page example help</li>
					<li>wrote gelbooru html file page example help</li>
					<li>wrote artstation json file page example help</li>
					<li>wrote url class links help</li>
					<li>gallery logs for the gallery downloader and url downloader now support 'try again' and 'skip' right-click menu for gallery log entries. the try again allows just the one page or also allowing search to continue) so, if a gallery query fails for some reason, you can now try again/continue where it broke. subs/watcher/simple downloader work on more complicated gallery search logic, so their gallery logs will remain read-only for now</li>
					<li>all gallery log buttons now support right-click menu to mass-export urls to png or clipboard. non read-only also support import</li>
					<li>fixed an issue with gallery searches that rely on both api url conversions and url class next gallery page urls (I think just artstation and tumblr by default) not generating the next page url correctly</li>
					<li>improved some misc gallery url processing logic</li>
					<li>fixed some issues with gallery url generators with invalid example urls causing problems opening the edit gug and gallery selector panels</li>
					<li>fixed an issue where you could only delete a gug if it was in an ngug, ha ha</li>
					<li>thanks to a different submission by prkc on the discord, collections now have a _right-click->set collections as groups of alternates_ duplicate action (note the duplicate menu only appears in advanced mode). the related shortcut action duplicate_media_set_alternate_collections is also added</li>
					<li>export phrases now support '\' ('/' in linux) in the path export phrase in order to create folders. you should also be able to do \[series]\ to create optional namespace folders. slashes in tags will still be replaced with _</li>
					<li>to stop the client sometimes doing laggy vacuum checks every maintenance cycle, vacuums that cannot occur due to limited disk space now will still count as 'done' for the purposes of rescheduling</li>
					<li>added 'file report mode' to the help debug menu. This will spam popups as file and thumbnail actions are requested</li>
					<li>tightened up some network job status setting to help us debug the 'there are a ton of jobs in network engine, but the three active on this domain seem stalled' issue</li>
					<li>wrote a simple 'review threads' panel under help->debug->data actions->review threads. I knocked it together in about ten minutes, and it's likely unstable as hell, but it's pretty neat!</li>
					<li>some instances where many file paths are copied quickly (exporting paths to clipboard and drag and drop) no longer do a safety check for file existence, so should be much faster to go. this particularly reduces startup lag for large file drag and drops!</li>
					<li>the 'would you like to do maintenance work in this shutdown?' dialog now lists a summary of what it thinks it'll be working on. I _could_ make this more detailed, so let me know how it works for you</li>
					<li>tags with numbers should now sort according to the new improved human sorting method--it now shouldn't matter where the numbers are in the tag--as long as the text-and-number-breaks lines up with another tag, they'll be compared each part in turn correctly</li>
					<li>fixed some human sorting code for unusual number characters like ?. they will be treated as text, not a number, for now</li>
					<li>misc fixes</li>
				</ul>
				<li><h3 id="version_321"><a href="#version_321">version 321</a></h3></li>
				<ul>
					<li>downloader overhaul:</li>
					<li>the basic downloader overhaul is complete! at this point, any user can create and share the objects required for a completely new downloader! it is still rough in some places, so a round of EZ-import is coming to make adding new downloaders a single easy drag and drop action</li>
					<li>rounded out the ngug (nested gugs, which contain multiple gugs) code</li>
					<li>updated the edit gug panel to deal with gugs and ngugs on different notebook pages</li>
					<li>added a bunch of logic to this panel and backend data handling to deal with missing gugs in ngugs</li>
					<li>if an ngug cannot find a gug by its internal identifier key, it will now attempt to fallback to its simple name, and will silently fail if no gug can be found. all gug tracking now uses this 'key first, name later' id method, so downloaders and subs should generally survive gug renames and same-name overwrites</li>
					<li>the gallery selector now works in gugs. it has two 'pages', depending on which gugs are set to 'display', and will note if the chosen gug is cannot be found in the current definitions. the gugs have slightly more specific names ('gelbooru tag search', 'hentai foundry artist lookup', etc...) than before</li>
					<li>the gallery selector also puts 'non-functional' gugs (i.e. those with no parsable gallery url class) to a third page</li>
					<li>moved the gallery downloader gallery and file pipeline completely over to the new system</li>
					<li>the gallery downloader will now bundle nested gugs (like hentai foundry artist, which searches both works and scraps) into a single downloader</li>
					<li>moved the subs gallery and file pipeline comppletely over to the new system</li>
					<li>the subs gallery sync now handles nested gugs (like hentai foundry artist, which searches both works and scraps) in an interleaved manner and make behind-the-scenes checking decisions in a clearer and more logical way</li>
					<li>subs should now make correct 'hit limit' stop reason reports and not generate new gallery pages when the current page has exactly enough results to hit the current file limit</li>
					<li>artstation artist lookup is now available as a default downloader</li>
					<li>newgrounds artist lookup makes a triumphant return. it works pretty well, given how flash and NG has changed since</li>
					<li>derpibooru tag lookup is now available as a default downloader. due to unusual search syntax on derpibooru, please enter queries exactly as you would on derpi, using ',' or ' AND ' to separate tags (such as 'rainbow dash,straight')</li>
					<li>pixiv now has multiple artist lookup options--either images, manga, ugoira (doesn't work yet!), or everything</li>
					<li>the old downloader code is deleted!</li>
					<li>the old manage booru dialog is deleted!</li>
					<li>'custom' boorus (i.e. new ones you created or imported to 'manage boorus'), cannot be completely automatically updated to the new system. I've figured out a way to generate new gugs and gallery&post parsers, but they will miss url classes to get working again. your custom-booru subs will notice this and safely pause until the issue is fixed. if you rely on custom boorus, please check the release post for info on this--you might like to put off updating</li>
					<li>many misc changes and fixes to gugs and overall gallery url handling pipeline</li>
					<li>some misc refactoring and concept-renaming in gallery pipeline r.e. gugs</li>
					<li>when the downloader tries to import what looks like a raw html file, its error notes will specify this and suggest a parser may be needed</li>
					<li>moved the 'media viewer url display' options panel from the manage url match links dialog to the new network->downloaders->manage downloader and url display</li>
					<li>this new dialog also hosts a list for managing which downloaders to show in the first list of the downloader selector</li>
					<li>.</li>
					<li>misc:</li>
					<li>gave the video rendering pipeline communication logic a quick pass, cleaning up a bunch of bad code and other decisions. the video renderer should be quicker to respond to various changes in scanbar position, and incidences of the frame buffer suddenly sperging out (usually inexplicably falling behind the current frame position or deciding to regen for no apparent reason) should be greatly reduced if not completely eliminated</li>
					<li>the test that stops repository processing if there is not enough disk space now uses half the current size of client.mappings.db for its estimate (previously 1GB) and also tests temp folder location free space (just as the vacuum test does) and reports this nature of the error along with pausing the repo, stopping further attempts</li>
					<li>might have fixed another out-of-order dialog close/open event combination during manage tags close->advanced content update open</li>
					<li>fixed gallery queries that include '/' (or some other unusual characters) that end up in the 'path' of the url (as opposed to the query). this fixes 'male/female' on e621, for instance</li>
					<li>'advanced mode' users now have a 'nudge subs awake' menu entry below 'manage subs'. this simply wakes the subs daemon (which usually only checks once every four hours), in case any subs are due</li>
					<li>'db report mode' now reports every db job as it comes in (formerly, it only reported some optimisation esoterica). this makes it a more lightweight version of 'db profile mode' for several debugging tasks</li>
					<li>fixed a tiny issue in fetching the 'how boned am I?' stats when the user had zero inbox/everything count</li>
					<li>fixed a typo in the default new url class object that was breaking the edit ui panel</li>
					<li>highlighted the quiet filename tagging options on edit import folder panel</li>
				</ul>
				<li><h3 id="version_320"><a href="#version_320">version 320</a></h3></li>
				<ul>
					<li>clients should now have objects for all default downloaders. everything should be prepped for the big switchover:</li>
					<li>wrote gallery url generators for all the default downloaders and a couple more as well</li>
					<li>wrote a gallery parser for deviant art--it also comes with an update to the DA url class because the meta 'next page' link on DA gallery pages is invalid wew!</li>
					<li>wrote a gallery parser for hentai foundry, inkbunny, rule34hentai, moebooru (konachan, sakugabooru, yande.re), artstation, newgrounds, and pixiv artist galleries (static html)</li>
					<li>added a gallery parser for sankaku</li>
					<li>the artstation post url parser no longer fetches cover images</li>
					<li>url classes can now support 'default' values for path components and query parameters! so, if your url might be missing a page=1 initialsation value due to user drag-and-drop, you can auto-add it in the normalisation step!</li>
					<li>if the entered default does not match the rules of the component or parameter, it will be cleared back to none!</li>
					<li>all appropriate default gallery url classes (which is most) now have these default values. all default gallery url classes will be overwritten on db update</li>
					<li>three test 'search initialisation' url classes that attempted to fix this problem a different way will be deleted on update, if present</li>
					<li>updated some other url classes</li>
					<li>when checking source urls during the pre-download import status check, the client will now distrust parsed source urls if the files they seem to refer to also have other urls of the same url class as the file import object being actioned (basically, this is some logic that tries to detect bad source url attribution, where multiple files on a booru (typically including alternate edits) are all source-url'd back to a single original)</li>
					<li>gallery page parsing now discounts parsed 'next page' urls that are the same as the page that fetched them (some gallery end-points link themselves as the next page, wew)</li>
					<li>json parsing formulae that are set to parse all 'list' items will now also parse all dictionary entries if faced with a dict instead!</li>
					<li>added new stop-gap 'stop checking' logic in subscription syncing for certain low-gallery-count edge-cases</li>
					<li>fixed an issue where (typically new) subscriptions were bugging out trying to figure a default stop_reason on certain page results</li>
					<li>fixed an unusual listctrl delete item index-tracking error that would sometimes cause exceptions on the 'try to link url stuff together' button press and maybe some other places</li>
					<li>thanks to a submission from user prkc on the discord, we now have 'import cookies.txt' buttons on the review sessions panels! if you are interested in 'manual' logins through browser-cookie-copying, please give this a go and let me know which kinds of cookies.txt do and do not work, and how your different site cookie-copy-login tests work in hydrus.</li>
					<li>the mappings cache tables now have some new indices that speed up certain kinds of tag search significantly. db update will spend a minute or two generating these indices for existing users</li>
					<li>advanced mode users will discover a fun new entry on the help menu</li>
					<li>the hyperlinks on the media viewer hover window and a couple of other places are now a custom control that uses any custom browser launch path in options->files and trash</li>
					<li>fixed an issue where certain canvas edge-case media clearing events could be caught incorrectly by the manage tags dialog and its subsidiary panels</li>
					<li>think I fixed an issue where a client left with a dialog open could sometimes run into trouble later trying to show an idle time maintenance modal popup and give a 'C++ assertion IsRunning()' exception and end up locking the client's ui</li>
					<li>manage parsers dialog will now autosort after an add event</li>
					<li>the gug panels now normalise example urls</li>
					<li>improved some misc service error handling</li>
					<li>rewrote some url parsing to stop forcing '+'->' ' in our urls' query texts</li>
					<li>fixed some bad error handling for matplotlib import</li>
					<li>misc fixes</li>
				</ul>
				<li><h3 id="version_319"><a href="#version_319">version 319</a></h3></li>
				<ul>
					<li>started the new convert-query-text-to-gallery-urls object. these objects, which I was thinking of calling 'Searchers', will be called the more specific and practical 'Gallery URL Generators', or GUGs for short</li>
					<li>the first version of GUGs is done, and I've written some test ui for advanced users under network->downloader definitions->manage gugs. this ui doesn't save anything yet, but lets you mess around with different values. if we don't think of anything else needed in the next week, I will fix this code for v320 and start filling in defaults</li>
					<li>watchers now have a checking slot, much like the recent change to galleries and subs. it safely throttles dozens of threads so they don't rudely hammer your (or the destination server's) CPU if they all happen to want to go at once (like just after your computer wakes up). the option is similarly under options->downloading</li>
					<li>moved the new gallery delay/token management code to the better-fit bandwidth manager (it was in domain manager before)</li>
					<li>the gallery delay/token code now works per-domain!</li>
					<li>moved the gallery delay/token checking code into the network job proper, simplifying a bunch of import-level code and making the text display now appear in the network job control. token consumption now occurs after bandwidth (it is now the last hoop to jump through, which reduces the chance of a pileup in unusual situations) I expect to soon add some kind of 'force-go' action to the cog menu</li>
					<li>the network engine will now not permit more than three jobs active per domain, and the overall limit has been raised from ten to fifteen</li>
					<li>the media right-click menu now supports copying: all of a files recognised urls; all of a files urls; all selected files' urls of a specific url class; and all selected files urls</li>
					<li>reworked and harmonised a bunch of urlparsing and generation code--all urls should now appear as full unicode across the program, generally without %20-type encoding characters unless explicitly entered by the user. character encoding now all happens on the backend in requests</li>
					<li>non-url-class-matched urls now have their query parameters alphabetised as part of the normalisation process</li>
					<li>all urls in the db will have their query params alphabetised on update, and any file relationships merged to the new/existing normalised url</li>
					<li>the manage urls dialog will now normalise newly added urls (but should also still permit the removal of non-normalised urls)</li>
					<li>reworked how gallery hits update file import object caches, particularly for subscriptions</li>
					<li>fixed an issue in subscriptions gallery logging where the gallery log would always state it had found the max number of files and typically redundantly generate an 'ignored' stub--it should now say something like 'found 7 files - saw 5 previously seen urls, so assuming we caught up' as originally intended</li>
					<li>simplified some gallery->file import object creation</li>
					<li>galleries now compact until 100 entries (was 25)</li>
					<li>watchers now gallery-compact after a successful check</li>
					<li>watchers now show the 'just added'/'already watching' status for 15s, up from 5s</li>
					<li>network report mode now reports three time--once each for job addition, start, and successful completion</li>
					<li>fixed an issue with the new 'max width' popup sizing calculation that was sometimes not fitting for new height requirements correctly</li>
					<li>fixed an issue with the new url class next page generation code</li>
					<li>fixed an issue where TIOs with data regarding since-deleted services were failing to initialise at the ui level</li>
					<li>misc status text cleanup</li>
				</ul>
				<li><h3 id="version_318"><a href="#version_318">version 318</a></h3></li>
				<ul>
					<li>downloaders:</li>
					<li>extended url classes to support 'next gallery page' generation--a fallback that predicts next gallery page url if the parser cannot provide it (as is often the case with APIs and unreliable next-page-url galleries such as gelbooru)</li>
					<li>integrated this new next page generation into new gallery processing pipeline</li>
					<li>updated gelbooru, tumblr api and artstation gallery api url classes to support the new next gallery page business</li>
					<li>fixed the url class for xbooru, which wasn't recognising gallery urls correctly</li>
					<li>wrote new gallery parsers for rule34.paheal and mishimmie (which are both shimmie but have slightly different gallery layout). this should finally solve the 'one paheal gallery url is being parsed into the file list per page' problem</li>
					<li>'fixed' the tumblr parser to fetch the 1280px url (tumblr killed the raw url trick this past week)</li>
					<li>misc text/status fixes</li>
					<li>wrote a gallery parser for tumblr that fetches the actual tumblr post urls and hence uses the new tumblr post parser naturally! (tumblr post urls are now more neatly associated as 'known urls' on files!)</li>
					<li>note that as the tumblr downloader now produces different kinds of urls, your tumblr subs will hit your periodic limits the next time they run. they will also re-download any 1280px files that are different to the previously fetched raws due to the above raw change (protip: keep your subscription periodic file limits low)</li>
					<li>cut the 'periodic limit' subscription warning popup down to a much simpler statement and moved the accompanying help to a new help button on the edit sub panel</li>
					<li>multi-gallery pages now have an 'added' column like multi-watchers</li>
					<li>the new 'pause' ? and 'stop' ? characters shown in the multi-downloader pages are now customisable under options->downloading (some users had trouble with the unicode)</li>
					<li>the watcher now shows the 'stop character' if checking is 404/DEAD</li>
					<li>fixed an issue where the new gallery imports on the same multi-page were all sharing the same identifier for their ephemeral 'downloader instance' bandwidth tracker, which meant they were all sharing the same '100rqs per 5mins' etc... rules</li>
					<li>the page and subscription downloader 'gallery page delay' is now program-wide (since both these things can run in mass parallel). let's see how it goes, maybe we'll move it to per-site</li>
					<li>subscription queries now auto-compact on sync! this means that surplus old urls will be removed from their caches, keeping the whole object lean and quick to load/save</li>
					<li>gallery logs now also compact! they will remove anything older than twice the current death velocity, but always keep the newest 25 regardless of age</li>
					<li>.</li>
					<li>misc:</li>
					<li>the top-right hover window will now always appear--previously, it would only pop up if the client had some ratings services, but this window now handles urls</li>
					<li>harmonised 'known urls' view/copy menu to a single code location and added sorted url class labels to entries (which should reduce direct-file-url misclicks)</li>
					<li>greatly sped up manage tags dialogs initial calculation of possible actions on a tag alteration event, particularly when the dialog holds 10k+ tags</li>
					<li>greatly sped up the second half of this process, when the action choice is applied to the manage tag dialog's current media list</li>
					<li>the buttons on the manage tags dialog action popup dialog will now only show a max of 25 rows on their tooltips</li>
					<li>some larger->smaller selection events on large pages with many tags should be significantly faster</li>
					<li>subscription popups should now 'blank' their network job controls when not working (rather than leaving them on the old job, and without flickery-ly removing the job control completely)</li>
					<li>the file cache and gallery log summary controls now have ... ellipsized texts to reduce their max width</li>
					<li>fixed an issue where larger 'overriding bandwidth' status wait times would sometimes show instead of legit regular smaller bandwidth wait times</li>
					<li>removed a now-superfluous layer of buffering in the thumbnail grid drawing pipeline--it seems to have removed some slight lag/flicker</li>
					<li>I may have fixed the issue where a handful of thumbs will sometimes remain undrawn after several fast scrolling events</li>
					<li>gave the some-linux-flavours infinitely-expanding popup message problem another pass. there _should_ be an explicit reasonable max width on the thing now</li>
					<li>added a 'html5lib not found!' notification to the network->downloaders menu if this library is missing (mostly for users running from source)</li>
					<li>help->about now states if lz4 is present</li>
					<li>gave 'running from source' help page another pass, including info on running a virtual environment</li>
					<li>in file lookup scripts, the full file content now supports string transformations--if this is set to occur, the file will be sent as an addition POST parameter and the content-type set to 'application/x-www-form-urlencoded'. this is a temp fix to see if we can get whatanime.ga working, and may see some more work</li>
					<li>if the free space on the db dir partition is < 500MB, the program will not boot</li>
					<li>if the free space on the db dir partition is < 1GB, the client will not sync repositories</li>
					<li>on boot the client can now attempt to auto-heal a missing local_hashes table. it will give an appropriate error message</li>
					<li>misc post-importing-cleanup refactoring</li>
				</ul>
				<li><h3 id="version_317"><a href="#version_317">version 317</a></h3></li>
				<ul>
					<li>completely overhauled the tag filter panel:</li>
					<li>the tag filter panel now has 'whitelist' and 'blacklist' pages beside the old 'advanced' sub-panel. these new simple pages are much more human friendly for common workflows and provide easy-select checkboxes for namespace classes (which are compiled from all the namespaces your parsers can currently do)</li>
					<li>the tag filter rule entering workflow now stops you from creating overcomplicated rulesets: when adding a blacklist rule, it will now only add an explicit entry if it is not already blocked by a higher rule (otherwise it will just discard from whitelist, if there)--and when adding a whitelist rule, it will now only add an explicit entry if it is already blocked by a higher blacklist rule (otherwise it will just discard from blacklist, if there)</li>
					<li>tag filters now provide more human-friendly summary statements</li>
					<li>misc improvements to tag filter ui logic</li>
					<li>the various help texts surrounding the tag filter panel all got passes</li>
					<li>the tag filter panel now uses text-and-paste controls for mass-adding of tags</li>
					<li>namespace checkboxes have been completely removed from the tag import options panel and various other related places. any existing TIO with checked namespaces will be automatically updated to 'get tags' with an appropriate filter. this is an important step in the rewrite--everything is now handled in the new tag filter panel</li>
					<li>simplified and sped up the actual tag filtering code</li>
					<li>.</li>
					<li>numerous multi-importer improvements:</li>
					<li>the gallery and watcher page lists will now ~dynamically~ resize in height based on number of entries, from roughly four columns to twenty four. this relayout code somehow seems to work on all platforms</li>
					<li>sped up the 'results loading' step of gallery/watcher highlighting immensely--on a typical list of a couple hundred files, it should now be about 50ms total (before, depending on presentation rules, it could be 0.8-3s)</li>
					<li>added an additional db-skipping optimisation for calculating presentation status</li>
					<li>watcher and gallery highlights will now filter out trash and completely deleted files (the ones that appear with a dark default 'hydrus' icon) on reloads</li>
					<li>added two checkboxes to options->downloading for 'if nothing is highlighted when I add a new X, highlight that new X' for watchers and galleries</li>
					<li>adding or removing a query or watcher from the new multi-lists should now be reflected in the list ui instantly, rather than after a <=1s delay</li>
					<li>added url classes and parsers for imgur single and multiple urls--thanks to the community for providing some examples</li>
					<li>added url class and parser for derpibooru single file pages--again thanks to the community. derpibooru hence now supports basic drag and drop import</li>
					<li>fixed an issue where the watcher was often still checking despite 404 status</li>
					<li>watchers and galleries use a little less CPU to update some of their ui</li>
					<li>added simple subsidiary page parsing support to file import objects (previously, this only worked in the gallery log)</li>
					<li>.</li>
					<li>gave the thumbnail scrolling code a pass--it is now a bit cleverer about drawing and uses a larger number of smaller 'tile' bmps rather than pages</li>
					<li>added an 'EXPERIMENTAL' option to options->gui to change the number of thumbnails each scroll tick scrolls. it defaults to 1.0, but you _should_ be able to set 0.5, 0.37, whatever. please report any bugs!</li>
					<li>added a thumbnail debug mode to help see the new thumbnail layout boundaries</li>
					<li>.</li>
					<li>misc:</li>
					<li>the max subscription file limits are now 10,000 for users in advanced mode</li>
					<li>the default subs initial/periodic limit is now 100/100 (bumped up from 100/50)</li>
					<li>the file import dialog now has a little cog icon to change whether human sort is applied on path addition events (for e.g. if you want to add in some date order from an explorer window)</li>
					<li>humansort now sorts case-insensitive</li>
					<li>by default, unmatched urls will no longer display in the top-right of the media viewer. see how you like this and let me know if you would like an option to put them back</li>
					<li>the speed text on the right-side of the network job control now dynamically resizes to its min size, which gives the text on the left side (where it is often cut off, saying 'overriding bandwidth ...') more space when available</li>
					<li>I think I fixed an issue where the popup frame could spam-resize in odd ways (such as growing a pixel wider every update tick)</li>
					<li>watchers will no longer include the '* ' highlight prefix in subject-based sort comparisons</li>
					<li>in prep for an eventual major code refactoring, the thumbnails' underlying media object now stores a faster db-based numeric file identifier</li>
					<li>'duplicate' calls on the new listctrl will now insert the dupes in the current correct sort location, rather than tacking them on the end</li>
					<li>drag and drop imports to the new listctrl will also now insert like this</li>
					<li>caught up edit subscriptions panel to the finalised common listctrl panel code, including the import/export/duplicate buttons</li>
					<li>the multiple checkboxlist selection dialog now sorts by label</li>
					<li>converted all old checkboxlist dialogs to the new panel system</li>
					<li>massively sped up certain kinds of parsing that were wasting time hitting a cache test way too often</li>
					<li>fixed an old hash filtering system</li>
					<li>moved to a simpler and more stable way of calculating certain text extents</li>
					<li>fixed an issue where the include directory (which has the original source, which isn't a big deal but is nice to have) wasn't being correctly copied into the linux build</li>
					<li>the os x .tar.gz build now has the include directory</li>
					<li>refactored some client tags code around</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_316"><a href="#version_316">version 316</a></h3></li>
				<ul>
					<li>gallery:</li>
					<li>gallery url classes can now be linked to parsers!</li>
					<li>if parsers are linked, gallery pagewalk can now work on the new parsing system. gallery import pipeline has been significantly updated to reflect this</li>
					<li>gallery import objects are now 'multiple' gallery imports, much like the multi-watcher, with each separate query having its own entry in a list (they also run in parallel!)</li>
					<li>the multi-gallery list will show file/gallery pause status in slender columns, and will show a 'stop' character when gallery parsing is done</li>
					<li>wrote a 'gallery selector' button and added it to the new multi-gallery page, so you can spawn queries for ~different sites~ on the same import page! it always defaults to 'deviant art' for now, but when the next 'searcher' overhaul step is done, this will be customisable</li>
					<li>the new page selector and related 'pages' menu is now simpler--with the new selector, you just select 'gallery'</li>
					<li>added 'new_gallery_downloader_page' shortcut action to the 'main gui' set to allow quick opening of this new page type</li>
					<li>wrote a 'gallery import panel', which reviews a single gallery import stream, and added it to the multi-gallery page to show the current highlighted query</li>
					<li>as all gallery imports now run in parallel and work on the new system, the now almost-useless 'cancel' gallery pagewalk button is now removed</li>
					<li>with the wider availability of the new gallery log for file count and error reports, shifted around and smoothed out some gallery status text presentation</li>
					<li>improved the auto url_class->parser linking 'try to fill in gaps' logic to work with gallery urls (this was surprisingly complicated)</li>
					<li>fixed a misc stupid waste of time in auto url_class->parser linking</li>
					<li>many misc updates to gallery pipeline</li>
					<li>.</li>
					<li>subscriptions:</li>
					<li>wrote a new gallery pagewalk pipeline for subscriptions, which still does oldest-to-newest url addition and obeys file limits and so on</li>
					<li>numerous subscription pipeline and error handling tweaks and improvements, particularly in regards to the new code</li>
					<li>subscriptions now have max initial and periodic file limits of 1000. existing subs with >1000 or infinite will be cut to 1000. there is a help button on the edit sub panel to explain why you should do large syncs with the manual downloader and not subs</li>
					<li>the ugly and dangerous-if-you-scroll-in-the-wrong-place gallery selector mismash control in the edit subscription panel is now replaced with the new gallery selector button</li>
					<li>fixed an issue where the edit subs panels could sometimes say '48 years ago' (i.e. displaying a literal time delta since 0, 1970) on initial timestamps</li>
					<li>juggled some 'periodic limit' reporting logic to skip an unusual false positive that affect hentai foundry subs for now and more in future</li>
					<li>.</li>
					<li>urls:</li>
					<li>the url downloader now accepts gallery urls and will receive drag-and-dropped gallery urls. at the moment, it only parses the one page (i.e. it doesn't start a new 'searching' pagewalk) and sends the parsed links to its file queue</li>
					<li>.</li>
					<li>watcher:</li>
					<li>finished 'watcher panel', which reviews a watcher, and added it to the multi-watcher page to show the current highlighted watcher</li>
					<li>the single watcher page is completely removed--it is only the multiple watcher now. all singles will be converted to multiples on update</li>
					<li>some single-watcher options (like watchers naming their own page tabs and the [404]-style page name prefixes) are removed</li>
					<li>multiple watcher panel now lists file/checking pause status and has separate buttons to control these paused statuses</li>
					<li>fixed some misc watcher highlight code--highlighted watchers should correctly publish to the page from the start of session load now</li>
					<li>improved some 'repage' logic in how highlighted threads get removed</li>
					<li>.</li>
					<li>misc:</li>
					<li>discovered a scroll-setup parameter that stops janky scroll-to-click-focus behaviour on all the new scrolling panels, thank the LORD</li>
					<li>improved some 'can't parse' error handling for post url parsing</li>
					<li>reworked how all importers present their network jobs to the ui, including fast response if the switch happens during a job</li>
					<li>in prep for searcher switchover where all downloader sources will be harmonised into one system, booru identifiers now present in several ui locations as 'name', not 'booru: name'</li>
					<li>updated the danbooru parser to deal with the new 'next page' markup they use</li>
					<li>wrote a gelbooru gallery parser that works with 0.2.0 and 0.2.5 gelb sites--an ancillary issue where gelb-related downloaders could sometimes not accurately figure out the magic '42' next-page offset is hence now fixed</li>
					<li>wrote an e621 gallery page parser</li>
					<li>these sites hence now support single-page gallery drag-and-drop</li>
					<li>added url classes for artstation gallery url and its api counterpart, but didn't go further yet--we aren't quite there with api pagewalking just yet</li>
					<li>updated deviant art gallery url classes</li>
					<li>added an e621 'search initialisation' gallery url class to improve some future drag-and-drop stuff</li>
					<li>url normalisation no longer cuts off 'www.'-style prefixes</li>
					<li>url comparison is more careful to test 'www.'-style prefixes, so a file import cache should recognise that 'http://www.blah.com/blah' is the same as 'https://blah.com/blah'</li>
					<li>did a bunch of refactoring to further split up the bloated ClientImporting.py</li>
					<li>fixed some misc downloader layout that may have been hiding some texts previously</li>
					<li>some multi-watcher and multi-gallery events like add/pause query should be a bit snappier</li>
					<li>in the parsing ui, url and title priorities are now 50 by default</li>
					<li>prepped a little subscription unit test code for when searcher object is done</li>
					<li>misc downloader layout improvements</li>
					<li>misc listctrl refactoring</li>
				</ul>
				<li><h3 id="version_315"><a href="#version_315">version 315</a></h3></li>
				<ul>
					<li>got started on the big gallery update, but decided not to pull the trigger just yet. I hope to do it next week, switching the whole thing over to a two-object multi-watcher kind of deal</li>
					<li>updated to wxPython 4.0.3 for all platforms</li>
					<li>cleaned up some menubar replacement code, and the update to the new wxPython should also fix a "event for a menu without associated window" bug some gtk2 users were seeing on quick menubar changes</li>
					<li>manage default tag import options panel now has copy/paste buttons that work on the listctrl</li>
					<li>added some 'paste tag import options' safety code to make sure no one accidentally pastes a subscription or something in there, wew</li>
					<li>added default checker options for subscriptions to options->downloading</li>
					<li>unified how checker options are edited from their button, much like how file and tag import options work. it also has a summary tooltip on the button</li>
					<li>the checker options under options->downloading are now these slimmer buttons</li>
					<li>in the manual import dialog (which pops up when you drop a folder/files on the client), the files will now be added in 'human friendly' number sorting, so files of the sort 'Favourites - 10.jpg' will sort [10, 11, ..., 99, 100] rather than the purely lexicographic [10, 100, 11, ..., 99]</li>
					<li>gave the migrate database dialog a pass--a bunch of misc presentation changes and a general simplification of workflow, now based more on just increase/decrease location weight</li>
					<li>a bunch of texts on page management (left-hand) panels that share horizontal space with buttons should now ellipsize ("downlo...") when they get too long for the width instead of drawing in an ugly way over the buttonspace</li>
					<li>moved the manage import folders dialog to the new listctrl and added a 'paused' and better 'check period' column</li>
					<li>if a user tries to run a 'paused' import folder specifically from the menu, the import folder will now unpause (I will probably remove this old paused variable in the future--it isn't of much use any more)</li>
					<li>tightened up some repository reset code that wasn't deleting all service tables and hence recovering from some service id malformation errors correctly</li>
					<li>wrote a 'clear orphan tables' db maintenance routine that kills some spare tables some users who have previously deleted/reset repositories may have floating around</li>
					<li>fixed an issue with parsing folders after hitting cancel button on the import files pre-dialog</li>
					<li>if watchers encounter non-404 network errors during check, they should now just delay checking for four hours (before, they were also pausing checking completely)</li>
					<li>if watchers are in 'delay' mode, they'll also not work on files.</li>
					<li>file and gallery downloads that hit a 403 (Forbidden) will now present a simpler error status, like they do for 404</li>
					<li>the new post downloader will no longer fail if one of the parsed source urls is not a url. the borked string will also not be associated as a url</li>
					<li>regular gallery downloads now override bandwidth for the file download step, which is almost always the second half of a pair of post_url/file downloads, just to keep things in sync in edge cases</li>
					<li>cleaned up some timestamp generation and 'overriding in x seconds' strings to be more human friendly</li>
					<li>improved some serverside file parse error handling to propagate the actual error description up to the client a bit better</li>
					<li>fixed typo causing incorrect num_ignored count in file import status button right-click menu</li>
					<li>parseexceptions will now present more data about which page and content parser caused the problem. I am not totally happy about how this solution works and may revisit it</li>
					<li>the lz4 import error catching is now more broad to catch some odd problem I discovered in new Linux build environment</li>
					<li>the moebooru parser now fetches the original png of an image, if available</li>
					<li>added a new tumblr parser that also gets post tags--it _shouldn't_ be the default</li>
					<li>the new login pipeline now kicks in for the legacy logins--pixiv and hentai foundry--on a per-url basis, so adding pixiv/hf urls to the url downloader will trigger a login even if needed (previously, this was tied to legacy gallery initialisation, which explains some pixiv 'missing' login stuff some users and I were having trouble with)</li>
					<li>if the legacy login system fails in the new pipeline, it now sets a flag and won't try again that client boot</li>
					<li>the old 'default tag import options' panel is now completely removed from options->importing. please check 'network->downloaders->manage default tag import options' for the new url-based settings</li>
					<li>misc fixes</li>
				</ul>
				<li><h3 id="version_314"><a href="#version_314">version 314</a></h3></li>
				<ul>
					<li>tag import options can now be set to 'default', meaning 'use whatever the default is at the time of import', which will be an easier way of managing TIOs for many subs that you'd prefer all share the same TIO settings anyway</li>
					<li>updated tag import options ui to enable this default setting where appropriate</li>
					<li>updated the newer import pipeline to work with 'default'-set tag import options</li>
					<li>new downloaders, subscriptions, watchers, and multi-watchers now start with 'default' tag import options</li>
					<li>deleted the old default tag import options management code and put some text up on options->importing making notice about the impending shift. a popup message will also say this on update</li>
					<li>tag import options buttons now have a right-click menu with copy/paste/default options for quick assignment and duplication!</li>
					<li>added 'overwrite tag import options' to manage subscriptions--once you are comfortable with the new 'default' TIO mode, and after some small tests, you might want to switch all your subs over to 'default'</li>
					<li>the 'urls' downloader now has a tag import options--it initialises as 'default'</li>
					<li>added furry.booru.org to gelbooru 0.2.0 parser</li>
					<li>wrote a hentai foundry file page parser</li>
					<li>wrote a moebooru file page parser (this works for konachan, yande.re, and sakugabooru)</li>
					<li>wrote a shimmie parser (this works for rule34.paheal, rule34hentai, and mishimmie)</li>
					<li>wrote a newgrounds parser</li>
					<li>integrated the user-created sankaku parser</li>
					<li>wrote a tumblr parser that handles photo, photoset, and video posts, auto-converts to 'raw' urls for those post-2012 urls that can handle it, figures out a creator tag (reverting to the reblog root if it is a reblog post!), and cooks you breakfast</li>
					<li>(hence all these above sites now support drag and drop!)</li>
					<li>rolled out some new tumblr url classes to handle all this.</li>
					<li>added sakugabooru url classes</li>
					<li>fixed an issue where url classes were not normalising api urls in all cases, meaning some url classes would not api-link correctly in 'manage url class links' panel</li>
					<li>fixed an issue with deviant art legacy gallery parser pulling some funky 'creator:' tags</li>
					<li>some misc new downloader error handling improvements</li>
					<li>the watcher now uses the new gallery object to parse and generate file import objects</li>
					<li>the downloaders with gallery logs should now report non-success gallery fetches, along with error tracebacks (this will include some no-worry 404s the legacy downloader sometimes uses to terminate searches)</li>
					<li>added image and thumbnail cache timeout time delta buttons to options->speed and memory</li>
					<li>added a 'show the D on short file import summaries' checkbox to options->downloading--it defaults to off</li>
					<li>the 'I' on short file import summaries is now 'Ig' to clear up 1/I confusion</li>
					<li>added 'copy queries' to the edit subscription panel, which lets you copy all the selected queries' search texts to clipboard, newline separated</li>
					<li>added a checkbox to options->gui that commands 'last session' only be autosaved during idle time. this is useful if you usually have a huge (200k+ file) session and your client is always on</li>
					<li>fixed file import status button right-click, which I messed up somehow last week with the 'retry ignored' add</li>
					<li>shook up and collapsed the network menu into neater categories</li>
					<li>tightened-up the rarely used pre-parsing conversion panel on the edit page parser panel to just a button with a bit of explaining text</li>
					<li>if database errors include the word 'malformed', the client now throws a little extra error text pointing people to the help.txt in the db dir</li>
					<li>cleared out some legacy download code</li>
					<li>cleared out legacy hard drive import error handling, moving it all to the new file import object</li>
					<li>misc refactoring and cleanup</li>
				</ul>
				<li><h3 id="version_313"><a href="#version_313">version 313</a></h3></li>
				<ul>
					<li>fleshed out the new gallery log and its constituent log entry objects</li>
					<li>added gallery logs to gallery downloaders, subscriptions, url downloaders, simple downloaders and watchers</li>
					<li>added very simple gallery log reporting to these downloaders</li>
					<li>added first, read-only version of gallery log ui to these downloaders</li>
					<li>fleshed out some new gallery/file-object pipeline stuff</li>
					<li>wrote a simple danbooru gallery page parser and added it on update. it doesn't do anything yet, but if you are into the new parsing system, please check it out as an example</li>
					<li>the url downloader now has a full file import status control with status text</li>
					<li>fixed a url count issue on completely fresh gallery downloads that was stopping gallery searches one file (like 199 vs 200) before the file limit</li>
					<li>the pixiv downloader now fetches 'type=all' gallery pages, which include specifically manga file pages (as opposed to merely multi-file 'illustrations')</li>
					<li>added 'retry ignored' to the file import status button's right-click menu</li>
					<li>fixed the deviant art url class and parser to use the new file page format. also added an '(old format)' class to match the old way for legacy purposes (this legacy class also uses an api conversion to connect to the new parser--we'll also figure out a way to convert all these over at the db level en masse later!)</li>
					<li>updated some similar deviant art gallery stuff as well</li>
					<li>tag import options now has a tag filter to go along with the 'get all tags' checkbox! ('get all tags' is now renamed to 'get all' as a result). this filter lets you make more complicated tag filtering decisions like 'get all tags except "species:" tags'.</li>
					<li>the new 'only get tags if they already exist' checkbox now also has a filter, if you want to only apply this test to a subset of tags (like the unwashed mess of unnamespaced tags many boorus and sites provide)</li>
					<li>generalised a 'tag filter' button class to make it simpler to edit tag filters across the program, and cleaned up some related status code</li>
					<li>fixed a problem with deriving tag import options for specific url classes when that url class was part of an api-url-class chain</li>
					<li>if the domain manager cannot now find a url match for a pending download, it now assigns the file post default tag import options to that import</li>
					<li>added a new 'duplicates' options page that has a hacky way to edit the weighted scores used to determine which of the pair of files to present file in the duplicates filter</li>
					<li>unifed how some file import status generation works, adding a new 'simple status' string to briefly summarise progress in multi-watcher and edit subscriptions columns</li>
					<li>cleared out some old redundant status caching in the urls downloader</li>
					<li>simplified how almost all timestamp strings are generated</li>
					<li>simplified how time delta strings are generated</li>
					<li>brushed up some simple common ways to present timestamps as 'human pretty' strings</li>
					<li>all places where timestamps would be presented as a mix of '5 days ago' and complete datetime strings will now present as '5 days ago' unless you set the new options->gui 'always show iso' checkbox. going back to simple to clear up confusion in workflow and code. I may revisit this, as turning on ISO mode now spams it all over the place</li>
					<li>cleaned up the 'looks like the computer just woke from sleep' check and reduced its grace period to fifteen seconds. foreground daemons (like the subscription daemon) and the network engine will now also obey it</li>
					<li>added a 'simulate wake from sleep' debug action to better test the sleep-wake detection code</li>
					<li>improved my custom statictext class to auto-wrap text without flickering</li>
					<li>used this new autowrapping to improve wrapping and layout of popup message texts</li>
					<li>replaced all other st wrapping with this new code</li>
					<li>wrote a little helper function to better dedupe lists in future</li>
					<li>did a bunch of refactoring to neaten some long common func names</li>
					<li>deleted some old unused code</li>
				</ul>
				<li><h3 id="version_312"><a href="#version_312">version 312</a></h3></li>
				<ul>
					<li>converted much of the increasingly complicated tag import options to a new sub-object that simplifies a lot of code and makes things easier to serialise and update in future</li>
					<li>tag import options now allows you to set whether tags should be applied to new files/already in inbox/already in archive, much like the file import options' 'presentation' checkboxes</li>
					<li>tag import options now allows you to set whether tags should be filtered to only those that already have a non-zero current count on that tag service (i.e. only tags that 'already exist')</li>
					<li>tag import options now has two 'fetch if already in db' checkboxes--for url and hash matches separately (the hash stuff is advanced, but this new distinction will be of increasing use in the future)</li>
					<li>tag import options now applies sibling and parent collapse/expansion before tag filtering, which will improve filtering accuracy (so if you only want creator tags, and a sibling would convert an unnamespaced tag up to a creator, you will now get it)</li>
					<li>the old 'all namespaces' checkbox is now removed from some 'defaults' areas, and any default tag import options that had it checked will instead get 'get all' checked as they update</li>
					<li>caught up the ui and importer code to deal with these tag import option changes</li>
					<li>improved how some 'should download metadata/file' pre-import checking works</li>
					<li>moved all complicated 'let's derive some specific tag import options from these defaults' code to the tag import options object itself</li>
					<li>wrote some decent unit tests for tag import options</li>
					<li>wrote a parser for deviant art. it has source time now, and falls back to the embedded image if the artist has disabled high-res downloading. if it finds a mature content click-through (due to not being logged in), it will now veto and set 'ignored' status (we will revisit this and get high quality nsfw from DA when the login manager works.)</li>
					<li>if a check timings object (like for a subscription or watcher) has a 'static' check interval, it will now apply that period to the 'last next check time', so if you set it to check every seven days, starting on Wednesday night, it will now repeatedly check on Wed night, not creep forward a few minutes/hours every time due to applying time to the 'last check completed time'. if you were hit by this, hit 'check now' to reset your next check time to now</li>
					<li>the multiple watcher now sorts by status by default, and blank status now sorts below DEAD and the others, so you should get a neat subject-alphabetical sort grouped by interesting-status-first now right from the start</li>
					<li>added 'clear all multiwatcher highlights' to 'pages' menu</li>
					<li>fixed a typo bug in the new multiple watcher options-setting buttons</li>
					<li>added 'retry ignored' buttons to edit subscription/subscriptions panels, so you can retry pixiv manga pages en masse</li>
					<li>added 'always show iso time' checkbox to options->gui, which will stop replacing some recent timestamps with '5 minutes ago'</li>
					<li>fixed an index-selection issue with compound formulae in the new parsing system</li>
					<li>fixed a file progress count status error in subscriptions that was reducing progress rather than increasing range when the post urls created new urls</li>
					<li>improved error handling when a file import object's index can't be figured out in the file import list</li>
					<li>to clear up confusion, the crash recovery dialog now puts the name of the default session it would like to try loading on its ok button</li>
					<li>the new listctrl class will now always sort strings in a case-insensitive way</li>
					<li>wrote a simple 'fetch a url' debug routine for the help->debug menu that will help better diagnose various parse and login issues in future</li>
					<li>fixed an issue where the autocomplete dropdown float window could sometimes get stuck in 'show float' mode when it spawned a new window while having focus (usually due to activating/right-clicking a tag in the list and hitting 'show in new page'). any other instances of the dropdown getting stuck on should now also be fixable/fixed with a simple page change</li>
					<li>improved how some checkbox menu data is handled</li>
					<li>started work on a gallery log, which will record and action gallery urls in the new system much like the file import status area</li>
					<li>significant refactoring of file import objects--there are now 'file seeds' and 'gallery seeds'</li>
					<li>added an interesting new 'alterate' duplicate example to duplicates help</li>
					<li>brushed off and added some more examples to duplicates help, thanks to users for the contributions</li>
					<li>misc refactoring</li>
				</ul>
				<li><h3 id="version_311"><a href="#version_311">version 311</a></h3></li>
				<ul>
					<li>wrote a new parser that muddles its way through pixiv's new dynamic javascript layout. it seems to get everything working again. it gets tags in kanji, although the unnamespaced pixiv tags remain low quality, and you may wish to just not parse them at all anyway</li>
					<li>fixed some misc parser text handling, unicode conversion etc...</li>
					<li>the new pixiv parser has a 'page' tag stub that should inform tag import options in the old downloader</li>
					<li>the multiple watcher now remembers the highlighted watcher through a session restart</li>
					<li>the multiple watcher now shows the highlighted watcher's url up top</li>
					<li>the multiple watcher now has checker, file import, and tag import options, which it will assign to all new watchers it creates</li>
					<li>the multiple watcher now has a 'set options to watchers' button that will force-set the current options to all the selected watchers</li>
					<li>the multiple watcher now has an 'added' column with watcher creation time listed. storing this creation time is new, so any existing watchers will get a new creation time of their next load time, but it is remembered henceforth. the listctrl here is now pretty crushed for width, so maybe we'll rejigger some stuff here</li>
					<li>watchers added to a multiple watcher will now have a status of 'just added' for five seconds</li>
					<li>watchers that are added to a multiple watcher that is already watching them will now have the status of 'already watching' for five seconds</li>
					<li>the multiple watcher list now has a much taller minimum height--layout here is another work in progress</li>
					<li>fixed the inkbunny parser (and a related tweak to the inkbunny url class)--it now uses the new 'multiple-file-per-post' import object generation to actually walk through the pages of the mini-gallery (which for inkbunny have -p2- suffixes on the url) to fetch only the correct files and url-associate them neatly</li>
					<li>tag import options now has a 'get all tags' checkbox, which can override the normal namespace checkboxes. it gets all tags, even those with namespaces not listed, which happens for several reasons in the new download system. (eventually, the namespace list may be replaced with a slightly different system)</li>
					<li>watcher tag import options no longer list 'filename' under their namespace checkboxes--they just have this 'get all tags', which works for everything (so watching yiff.party pages should now get tags)</li>
					<li>simplified and sped up similar files search at the db level</li>
					<li>sped up some ratings search code</li>
					<li>generalised some common file search optimisations, meaning they now apply in more situations and can take advantage of some other speed-ups:</li>
					<li>similar files system predicate is now faster</li>
					<li>inclusive ratings searches are now faster</li>
					<li>duplicate relationship count searches with non-zero-inclusive count are now faster</li>
					<li>removed some clumsy old ratings search optimisation code</li>
					<li>exporting serialised objects as pngs is a bit easier--now, it displays current export path better, will remember the last export location used, and for single png exports will pre-fill the filename and 'title' value with a reasonable default</li>
					<li>the content parser, page parser, and url class listctrls now accept serialised png files when drag and dropped!</li>
					<li>the simple downloader should recover and continue better from malformed urls during a page parse</li>
					<li>the url downloader should now recover better from various situations where it cannot not derive some tag import options (including urls with a 'file' url class, such as 4ch/8ch direct file links)</li>
					<li>parse test results will now state the priority value of urls</li>
					<li>gave the 'updating' section of help a pass and wrote a little more on how to do a big-version-gap update</li>
					<li>when a new multi-file import object inserts its child file import objects while being looked at in the ui, the listctrl should now correctly refresh the displayed indices</li>
					<li>subscriptions will now wait up to 90s for bandwidth (was 30s before, I think) before quitting, which should avoid a few more early-quit events</li>
					<li>cleaned up some server decompression bomb testing</li>
					<li>users with admin-level accounts can now upload decompression bombs to file repositories, better options on this will be avaliable in future</li>
					<li>the manage urls dialog will now OK on the same 'manage_file_urls' shortcut action that can open it (like manage tags and ratings already do)</li>
					<li>fixed the string converter for new file lookup parsing scripts</li>
					<li>started work on some in-the-background mass file reparsing, but I want to get some nicer ui going before I pull the trigger on any of it</li>
					<li>file reparsing now repopulates the table for md5, sha1, and sha512 hashes if they are missing</li>
					<li>improved some ffmpeg error parsing</li>
					<li>moved from basic list to a pop-faster collections.deque for importable path parsing and duplicate search branch regen</li>
					<li>added a BUGFIX option to options->gui that forces minimum width for popup messages in the continuing attempt to deal with some funny fit/layout calculation in certain Linux WMs</li>
					<li>fixed how some 'unrepairable db' error messages are displayed in Linux systems</li>
					<li>cleaned up a ton of old tuple-stripping code from the db</li>
					<li>updated to new sqlite for windows build</li>
					<li>misc improvements</li>
				</ul>
				<li><h3 id="version_310"><a href="#version_310">version 310</a></h3></li>
				<ul>
					<li>updated the inkbunny file page url class to acknowledge that inbunny pages can have multiple files</li>
					<li>updated the inkbunny file page parser to handle multiple file urls (although they may be out of order and possibly sometimes include the artist profile image--this was not super easy)</li>
					<li>added a parser for twitter tweets (only images supported atm, but it can handle multiple!) (hence tweet drag and drop now works!)</li>
					<li>updated the artstation file page url class to redirect to a new api url class</li>
					<li>wrote an artstation file page parser that also handles multiple file urls</li>
					<li>updated/added pixiv file page, manga page, and mange_big url classes</li>
					<li>updated pixiv file page parsers to be ok with manga links</li>
					<li>wrote parsers for pixiv manga and manga_big pages to fetch manga files (with page tags)!</li>
					<li>file import objects can now create semi-duplicate children for multi-file post urls and insert them just after themselves in the file import queue.</li>
					<li>file import objects can now receive and remember referral urls. this referral url is associated with the file if appropriate. the watcher and simple downloader now uses this in addition to the multi-file post system</li>
					<li>jumbled around some parameters and merged the two new file import url commands (import 'file' vs import 'post') into one single simple 'work on this url, thanks' call that is now used across the program</li>
					<li>the parsing system's 'content parser' no longer fetches file urls and post urls, but 'download urls' and 'source urls'. this helps some pipeline logic and also lets post urls be download urls</li>
					<li>when file import objects parse post urls as the urls to download, it now creates 1-n new import objects, just like if multiple file urls.</li>
					<li>improved some file import object file association code</li>
					<li>the new parsing system will de-dupe parsed urls</li>
					<li>refactored the 'seed' code, which handles all basic file import objects, to the new ClientImportSeeds.py</li>
					<li>added a new string transformation type, 'integer addition', for shifting page number tags up and down</li>
					<li>fixed thumbnail generation for some videos that failed to do the new x%-in generation--it reverts more reliably just to the old frame 0 method</li>
					<li>file reparsing popup now has a stop button</li>
					<li>fixed an issue where extremely thin or wide (ratio > 200:1) images would not generate a full-size or resized thumbnail</li>
					<li>the file reparsing/re-thumbnailing now reports errors better (including with full path) and does not abandon the larger job as it works</li>
					<li>misc thumbnail generation code improvements</li>
					<li>improved some thumbnail and file regeneration/moving code when the existing file has read-only status</li>
					<li>the multiple watcher now has a 'check now' button</li>
					<li>added a checkbox to options->gui that will put new notebook page tabs on the left</li>
					<li>for all file download network jobs working in the new download system, the file import options for min size, max size, and max size (gifs) are now applied _during the download_! if the server tells the client the exact file size in the response headers, it will test max and min size before the content is actually downloaded--otherwise, it will test the max size as it downloads. if the server clearly says the file is a gif, the max gif size rules will also be tested in the same way</li>
					<li>cleaned up some bandwidth announcement code--now, if bandwidth is due in less time than override time, that will now correctly be the status text</li>
					<li>the bandwidth status no longer says 'in in' typo</li>
					<li>fixed up some tag repair code from last week</li>
					<li>the 'print garbage' debug function now dumps a whole bunch more data to the log</li>
					<li>the thumbnail cache should now be a bit more stoic about missing repository thumbnails--it should now just present the hydrus default backup without error popup spam</li>
					<li>the repository thumbnail sync will now get as thumbs in blocks as high as 10k at a time, rather than the old 100</li>
					<li>hydrus network requests no longer generate web domain network contexts (and so won't have a default one-request-per-second bandwidth limit and should stream through thumbnails a bit faster)</li>
					<li>hydrus network services are now willing to wait longer for bandwidth, so big thumbnail queues should keep working even if other bottlenecks pause them for a bit</li>
					<li>hydrus network services will no longer sometimes have double-sync popups if synced from the advanced 'sync now' button in review services</li>
					<li>changed the default global 'stop-accidents' bandwidth rule of 120rqs per minute to 512MB per minute. this only affects new users, but users trying to sync to large file repos might like to make a similar change manually</li>
					<li>doing giant full file delete (i.e. purge from trash) jobs should now be a bit gentler on the gui</li>
					<li>improved how the client deletes paths, clarifying in the code when and when not to allow recycle (usually disabled for thumb disposal)</li>
					<li>switched the hacky text widgets on the popup system to a newer object. seems to still render ok, so lets see if it fixes some unusual layout issues some users have seen</li>
					<li>if the temp folder cannot be created on boot, the client will continue anyway</li>
					<li>fixed some url-domain text handling in db storage that was also breaking v309 update for some users</li>
					<li>fixed some additional domain generation error handling at the db level</li>
					<li>the list of url classes in the system:url panel is now the list of all url classes that are considered associable (before, it was file and post urls)</li>
					<li>if a url class now api-links to itself or otherwise forms a loop with n other api url classes, the client will now throw an error (rather than lock up in an infinite loop!)</li>
					<li>in the parsing ui, tag parse test results are now cleaned before being displayed</li>
					<li>fixed misc url matching error reporting bug</li>
					<li>when consulting the current file limit, the gallery page downloader will now try, when it has that number, to consult the total number of urls found it the current search (old behaviour is to only consult the number of _new_ urls, which lead to some bad edge-case workflows)</li>
					<li>misc refactoring</li>
				</ul>
				<li><h3 id="version_309"><a href="#version_309">version 309</a></h3></li>
				<ul>
					<li>wrote a fix for the tumblr GDPR issue under _network->DEBUG: misc->do tumblr GDPR click-through_. you will also get a popup about this on update</li>
					<li>the tumblr downloader will try to detect the GDPR problem and present a similar popup guiding you to the GDPR click-through solution</li>
					<li>the client and server now generate video (but not gif yet) thumbnails 35% in by default. the client can now change this percentage value under options->media. this was highly requested and was being put off for a longer rewrite, but I figured out a simple way to hack it in. please let me know if you get failures</li>
					<li>on adding a parent, all files with the child tag will now also get all applicable grandparents (with no limit on recursive generations and dealing with accidental loops)</li>
					<li>on adding a sibling, all files with any of the siblings will now also get all applicable parents and grandparents for the whole group. a maintenance call to retroactively fill in the sibling/parent gaps that are now filled will also come soon</li>
					<li>this logic still does not apply in cross-service situations, which _will_ likely have to wait for a big data/gui overhaul and us figuring out what we actually want here</li>
					<li>added a simple pause/play button to the multiple watcher</li>
					<li>if the multiple watcher is set to catch watchable url drag and drop events and the current page is a multiple watcher, this current page will catch those new urls (as opposed to the _leftmost_ multiple watcher)</li>
					<li>improved some thread unpause logic which was failing to lock pause during 404 status</li>
					<li>the multiple watcher should now ignore case when it sorts by subject</li>
					<li>added url class and file page parser for inkbunny (so this site is now supported in drag and drop!). it fetches creator tag, some artist-made unnamespaced tags, source time, and md5</li>
					<li>added file page parser for gelbooru 0.2.0, which by default works for rule34.xxx, tbib, xbooru but certainly should work for a bunch of others. it fetches source time and source url</li>
					<li>html formula parsing rules can now additionally test the tag 'string' using a standard StringMatch object. this greatly helps to parse otherwise indistinguishable 'a' tags that have string 'Original image' and so on</li>
					<li>the 'have I seen this url's file before?' pre-import test is now much more strict and will cause fewer accidental false-positive 'already in db'/'deleted' results:</li>
					<li>the url pre-import test now does not trust source urls if they do not have a url class</li>
					<li>the url pre-import test now no longer trusts urls that are supposed to only be mapped to one file but are actually mapped to multiple</li>
					<li>this url pre-import test now treats url-classless original post urls and intended file urls with a special level of trust</li>
					<li>urls are now stored in the db in a more powerful and in-future easily searchable way--your db will take a moment to convert to the new format on update</li>
					<li>did some prep work for multi-file post urls (like pixiv manga) but did not have time to finish it</li>
					<li>the filename tagging options panel (in the 'add tags based on filename' of file import dialog and import folder dialog) now updates its tags/list 0.5s after the last change event, which means typing on a giant list will not cause megalag</li>
					<li>improved stability of some client-screen coordinate conversion</li>
					<li>misc bmp handling stability improvements</li>
					<li>improved some parsing ui stability when example data gets set after the dialog is closed</li>
					<li>improved some misc dialog close stability</li>
					<li>converted all but one final ui update timer to the new job scheduling system</li>
					<li>there are still problems with linux stability--I will continue to work on it</li>
					<li>an ugly (but basically harmless) shutdown exception sometimes caused by Animations being a bit slow on deleting their underlying bmps _should_ be fixed</li>
					<li>the export files dialog now generates its paths in sort order, meaning (1), (2) de-dupe filename suffixes should now be generated nicely in order</li>
					<li>the network domain manager should now always chase API URL links to get the right parser</li>
					<li>made some 'the db is broke, let's try to fix it' tag recovery code more forgiving</li>
					<li>misc improvements to some media indexing backend, which may fix some unusual session ghost files</li>
					<li>fixed the 'sure it is ok to close this importing page' dialog to also veto on a 'cancel' event, rather than just a 'no'</li>
					<li>added a guide to database_migration.html on how to move the db from just an HDD to straddle both an SSD and HDD.</li>
					<li>cleaned up the help->debug menu a bunch</li>
					<li>added run fast/slow memory maintenance calls to help->debug->data actions</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_308"><a href="#version_308">version 308</a></h3></li>
				<ul>
					<li>the multiple watcher will now discard new urls if it is already watching them</li>
					<li>the multiple watcher will list x/y progress as just 'x' if x==y (making it easier to scan the list)</li>
					<li>the multiple watcher now lists a couple of 'total' summary lines on its ui--the top lists total number of watchers and queue progress, the bottom lists the usual '23 successful, 3 deleted' line, but summed for all watchers</li>
					<li>the multiple watcher will now warn you if you try to remove the highlit, alive or un-caught-up watchers</li>
					<li>the multiple watcher will now resort if the thread subject (or rather, any data in the current sort column) changes (which usually happens right after it is added, when you see it change from from 'unknown subject' to 'mlp is kino')</li>
					<li>fixed an issue where multiple watchers were not unscheduling down their update job correctly on page close</li>
					<li>the booru selector in the edit subscription panel should now be in the tab traversal order for keyboard/automated focusing tasks</li>
					<li>the boorus in that selector are now alphabetised</li>
					<li>tag import options namespaces are now alphabetised</li>
					<li>removed/renamed pretty much all references to 'thread' in the watcher code and ui presentation, since it can now do a bunch of other stuff. it is now just the 'watcher' and the 'multiple watcher'</li>
					<li>deleted a bunch of old static thread watcher and page of images code from the old downloading system</li>
					<li>added an experimental 'compact' button to advanced mode users' manage subscriptions panels. this removes urls from the selected subscriptions' caches that are no longer useful, keeping their load/save snappy. this is still in testing--be careful with it!</li>
					<li>the hydrus splash screen now has a bare frame caption and will appear in the taskbar--which helps with some alt-tab and 'where the hell did it go?' stuff if you need to enter a password</li>
					<li>wrote five 'reasonable defaults' buttons for the 'check timings' options panel for quick entry for different thread/subscription scenarios.</li>
					<li>added a checkbox to this panel that will swap the reactive options with a simpler single checkbox</li>
					<li>also clarified/fleshed out the help button on this panel</li>
					<li>fixed an important source of program instability related to page alive/dead status checking that was inadvertantly talking subtly to the main gui frame even on non ui threads</li>
					<li>improved how some 'page is closed but not destroyed' test logic for pages inside a closed-but-not-destroyed notebook</li>
					<li>fixed another small place where the db was talking to the main gui object about status bar updates in a potentially unstable way</li>
					<li>fixed another small place where the foreground daemons were talking to the main gui frame in a trivial but potentially unstable way</li>
					<li>played around with some taglist sizer and layout settings</li>
					<li>the gallery and simple download pages are now a little shorter--the pause and cancel buttons are now just to the right of the status texts, rather than on their own row beneath the network job controls.</li>
					<li>the various bandwidth-overriding network jobs in the download system--like gallery page downloading--now wait 30s before overriding their bandwidth. hence these jobs will now obey the usual bandwidth rules up to a point</li>
					<li>the simple downloader also obeys the usual bandwidth rules for 30s but no longer has a static wait, so it can run much faster in certain situations</li>
					<li>network jobs that will override bandwidth in the future will now report that countdown in their status texts</li>
					<li>fixed a bug in the old booru code that meant some boorus were superfluously requesting the 0th indexed page of a gallery more frequently than needed in order to reestablish a 'page size' cache. this value is now cached globally and will be replaced by a completely different system in the new gallery downloader</li>
					<li>added a decent tooltip to the 'gallery fixed delay' widgets in the options->downloading panel</li>
					<li>the autocomplete input should clear itself after a 'broadcast' event a bit quicker and stop some dupe inputs in certain edge cases</li>
					<li>the tumblr url class now recognises that tumblr posts can have multiple files, which helps some source url lookup logic</li>
					<li>added a url class for artstation file pages</li>
					<li>the primary file import url (the one listed in the file import list) will now correctly not associate with the resulting file if its url class is so set</li>
					<li>all the import objects now have much lower idle CPU time and thread needs and start in slightly offset times, smoothing out the thread count spikes</li>
					<li>all the import objects will now respond quickly to changes to the underlying file import cache (like right-click->try again events)</li>
					<li>the new job scheduling system now uses two queues--fast and slow, in order to reduce some resort/insert overhead</li>
					<li>a couple more improvements to the new job scheduling system to smooth out spikes</li>
					<li>if the temporary path override does not exist, the client will now compain with spammy popup messages and fall back to the default</li>
					<li>if the temporary path override does not exist or is not writeable-to on options dialog ok, a veto exception will be raised</li>
					<li>refactored the watcher and multiple watcher to their own file, ClientImportWatchers</li>
					<li>misc fixes</li>
				</ul>
				<li><h3 id="version_307"><a href="#version_307">version 307</a></h3></li>
				<ul>
					<li>wrote a gelbooru 0.2.5 (which matches gelbooru itself) parser in the new system. it now has some more redundancy and produces md5 hash and source urls</li>
					<li>fixed the e621 parser for flash files</li>
					<li>manage tags is now a notebook rather than a listbook!</li>
					<li>a problem where OS X was displaying the wrong label in the manage tags listbook is now fixed (as it no longer uses the buggy old listbook)</li>
					<li>improved autocomplete focus setting in OS X in general</li>
					<li>moved all paged importer loops to the new job scheduling system, which will massively cut down on idle time thread count (and some idle CPU usage) on clients with a bunch of import pages open</li>
					<li>the main thread pool (which the job scheduling system uses) can now temporarily grow much larger (200 threads) when it gets hammered</li>
					<li>recalibrated some thread watcher code to deal with being embedded in a larger object better (and sharing a page with other watcher importers)</li>
					<li>finished the first version of a multiple watcher. it is ugly and only for advanced users for now--please check release post for more information</li>
					<li>added 'use the multiple watcher on DnD events' to options->downloading, which will send thread url drag and drops straight to a new/existing multiple watcher!</li>
					<li>gui session load now 'shows' the first page but loads everything to the right in the background, which saves some CPU and memory for large sessions. this means it now starts focused on the leftmost page rather than the right--see if you like it or not</li>
					<li>'clear and load session' now fully deletes old pages and takes a little break between the clear and load step to make sure old large sessions are deleted tidily before loading the new stuff</li>
					<li>cleaned up the new leaner popup message display code to react better to (and re-layout) sub-changes in its popups (so now when a subscription popup spawns a new progress gauge, it _should_ be positioned in the right place immediately)</li>
					<li>if an import folder/subscription publishes files to a page while the main gui is minimised (and the action would result in a new page creation), the page add will be delayed until the gui is no longer minimised (new page layout in this case was broken due to minimised parent frame)</li>
					<li>the edit subscription query panel will now spawn with the query text input focused</li>
					<li>added a patch to ensure new booru import pages get query input focus after a second if the focus attempt on init failed (this will be fixed better in the new downloader system)</li>
					<li>restored the 'clear deleted files record' button to the 'combined local files' service on _review services_, which was previously hidden during a significant service rewrite.</li>
					<li>if critical master tables are missing on boot, the client will warn and provide info and then abandon the boot</li>
					<li>if cache similar files tables are missing on boot, the client will warn and provide info and offer to recreate them empty and try to boot the client anyway (this replaces some old repair code that wasn't always kicking in at a good time)</li>
					<li>if cache autocomplete tables are missing on boot, the client will warn and provide info and offer to recreate and repopulate them</li>
					<li>if mappings tables are missing on boot, the client will warn and provide info and offer to recreate them empty and try to boot the client anyway</li>
					<li>the emergency 'repair missing file locations' panel now runs in a more stable way</li>
					<li>this emergency dialog will now also recognise 'I fixed all the file paths but cannot do the thumbnail paths' situations and will present the same 'ok, make sure you run regen thumbs after boot' dialog as if all the missing paths were thumbnail related</li>
					<li>you can now turn off x/y page name import progress under options->gui</li>
					<li>fixed an issue where tags that begin with ':' like ':p' were not getting through the new importing system</li>
					<li>fixed an issue where tags that begin with ':' like ':p' could sometimes get prepended extra escape characters and end up looking like ':::p'</li>
					<li>fixed sibling tag searching (e.g. if a->b exists and you search for b, results with a but not b should also appear), which the recent tag search optimisation accidentally disabled</li>
					<li>whole bunch of refactoring and cleanup of ClientData and ClientGUICommon</li>
					<li>cleaned up some spammy splash text status setting that was flooding some debug info with useless garbage</li>
					<li>gave getting_started_tags.html's tag repo section and access_keys.html a pass, updating the ancient screenshot and linking advanced users to the latest QuickSync location</li>
					<li>some misc help updates</li>
					<li>misc autocomplete logic improvements</li>
					<li>misc ui display fixes</li>
					<li>misc wx destroy code stability improvement</li>
					<li>updated ffmpeg for windows builds to the new 4.0 release</li>
					<li>updated sqlite for windows builds</li>
				</ul>
				<li><h3 id="version_306"><a href="#version_306">version 306</a></h3></li>
				<ul>
					<li>the file import status list now has 'open selected import files in a new page', which should show up where it is possible. this is a bit prototype and ugly--it'll show _all_ files, including in-trash and permanently deleted (which will show up with the hydrus thumbnail)</li>
					<li>the file import status list now prefixes the already in db/deleted notes with 'url' or the hash type that lead to the recognition</li>
					<li>these redundant/deleted notes now also propagate up from 'during import' recognition phase as well</li>
					<li>the 'delete seeds of type x' entries on the file import status button's right-click menu are now split into three smaller individual tyes and are more explicit about exactly which status types they will remove</li>
					<li>like import folders, subscriptions can now optionally publish their files to pages as well as popup buttons. also, subscriptions can optionally publish their files separately for each query instead of all merged together</li>
					<li>sped up multiple tag queries significantly</li>
					<li>sped up simple (file size, mime, etc...) system predicate queries that also include a tag/namespace/wildcard predicate significantly</li>
					<li>added a pixiv parser that pulls the japanese tags to the defaults--users can switch to this if they prefer under network->manage url class links</li>
					<li>fixed the 4chan parser to get part of comment as backup subject/page title</li>
					<li>removed the 'newgrounds' entry from the normal gallery page creation ui, as the basic gallery parser no longer works due to a dynamic loading change on their end. I hope to have it back with the new gallery parsing system I will soon be writing</li>
					<li>the edit url classes panel now has a little text box to put in example urls and see which class, if any, that they match to</li>
					<li>improved layout of edit url class links panel</li>
					<li>all url types are now displayable in the media viewer--only post url classes are default on</li>
					<li>the new (x/y) import page page_name progress count is now updated on all alterations to this value (previously, this was not updating when a user interacted with the import queue, only when the natural downloader loop cycled)</li>
					<li>added 'can produce multiple files' option to post url url classes, which informs client url-checking logic whether the url can be relied upon for 'already in db/deleted' calculations</li>
					<li>the pixiv file page url class now has 'can produce multiple files' checked, meaning some bad pixiv url association logic due to other sites referencing it as a source url is now fixed</li>
					<li>added a 'twitter tweet' url class, which is also a 'can produce multiple files' post url</li>
					<li>added a 'sync known urls?' action choice to the duplicate merge options panel, which governs whether urls should be copied from worse to better or in both directions</li>
					<li>gave the edit duplicate merge options panel a layout pass</li>
					<li>the edit duplicate merge options panel will now disable pointless/over-complicated choices on non-custom actions, let me know if this is a pain for your workflow</li>
					<li>added a 'manual' web browser path override to the 'files and trash' options panel, which fixes the new share->open->in web browser option for Windows and also fixes some #anchor link propagation</li>
					<li>consolidated all URL/Path web browser launching code to one location</li>
					<li>'open in web browser' is now available for non-advanced_mode users and the 'open' submenu of the share menu is available in the preview window and the media viewer</li>
					<li>fixed a bug that was causing import folders to publish incorrect file identifiers, which was poisoning popup buttons and import page destinations</li>
					<li>gui sessions that fail to load a page will recover and continue to attempt loading the rest of their pages. some popups detailing the page's serialised data and error will be presented</li>
					<li>gui sessions that fail to save a page will recover and continue to attempt saving the rest of their pages. some popups detailsing the page's rough info and error will be presented</li>
					<li>the core controller inside all media pages will now present itself in a more beautiful way when asked to dump itself to a log (which should beautify the above save error a bit)</li>
					<li>wrote a subsidiary database->check->just repo update files that tests integrity of only repository update files</li>
					<li>fixed an issue where default tag import options were sometimes not being saved from the new dialog in the networking menu</li>
					<li>wrote a couple of layers of bad tag protection to help the new downloader deal with some occasional bad output from the old downloader</li>
					<li>network jobs can now reattempt connection attempts up to three times on POST requests (if you ever got inexplicable immediate 'could not connect' errors on repository uploads, this should now be fixed)</li>
					<li>replaced some archaic misc old import code with the new system, cleaning up a bunch of stuff and making space for further refactoring along the way</li>
					<li>fixed tags blacklist not being inherited in the old (through options dialog) system</li>
					<li>improved some invalid domain error handling</li>
					<li>fixed an animation update issue that would pause naturally updating controls on non-main-gui  frames when there were no regular media pages open on the main gui</li>
					<li>added a BUGFIX option to 'files and trash' option page to override the default temp path for almost all client temp path requests</li>
					<li>the minimum value for the 'vacuum period' in maintenance and processing options is now 28 days. the control also has a little explanatory tooltip</li>
					<li>the 'try to auto-link url classes and parsers' function now always preferences parsers alphabetically</li>
					<li>fixed a typo in the string transformations prettyfication code that incorrectly summarised 'take the last x characters' as the opposite</li>
					<li>misc fix to file hash generation and status checking code</li>
					<li>the 'export tags to .txt files' checkbox on the export files panel will no longer bother you with a dialog as you uncheck it</li>
					<li>wrote some code to make it easier and more fool-proof to update the domain manager with new url classes and parsers on my end</li>
					<li>improved some popup message manager ok-to-alter-ui logic when the main ui is minimised and so on</li>
					<li>fixed some potential crash conditions (affecting linux mostly, seems like) in the service credential testing and access key fetching ui code</li>
					<li>fixed a bug when 'stopping' a gallery parse during a long error pause (like when it holds on '404')</li>
					<li>sped up some old set intersection code</li>
					<li>some import file presentation refactoring</li>
					<li>some url content application pipeline cleanup</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_305"><a href="#version_305">version 305</a></h3></li>
				<ul>
					<li>fixed the pixiv url class, which was unintentionally removing a parameter</li>
					<li>wrote a pixiv parser in the new system, fixing a whole bunch of tag parsing along the way, and also parses 'source time'! by default, pixiv now fetches the translated/romaji versions of tags</li>
					<li>finished a safebooru parser that also handles source time and source urls</li>
					<li>finished an e621 parser that also handles source time and source urls and hash!</li>
					<li>wrote a danbooru parser that also handles source time and source urls and hash!</li>
					<li>as a result, danbooru, safebooru, e621, and pixiv post urls are now drag-and-droppable onto the client!</li>
					<li>finished up a full yiff.party watcher from another contribution by @cuddlebear on the discord, including url classes and a full parser, meaning yiff.party artist urls are now droppable onto the client and will spawn thread watchers (I expect to add some kind of subscription support for watchers in the future). inline links are supported, and there is source time and limited filename: and hash parsing</li>
					<li>fixed some thread watcher tag association problems in the new system</li>
					<li>when pages put an (x) number after their name for number of files, they will now also put an (x/y) import total (if appropriate and not complete) as well. this also sums up through page of pages!</li>
					<li>if a call to close a page of pages or the application would present more than one page's 'I am still importing' complaint, all the complaints are now summarised in a single yes/no dialog</li>
					<li>url downloader pages now run a 'are you sure you want to close this page' when their import queues are unfinished and unpaused</li>
					<li>if the subscriptions for 'manage subscriptions' take more than a second to load, a popup will come up with load progress. the popup is cancellable</li>
					<li>added a prototype 'open in web browser' to the thumbnail right-click share menu. it will only appear in windows if you are in advanced mode, as atm it mostly just launches the file in the default program, not browser. I will keep working on this</li>
					<li>harmonised more old download code into a single location in the new system</li>
					<li>created a neater network job factory system for generalised network requests at the import job level</li>
					<li>created a neater presentation context factory system for generalised and reliable set/clear network job ui presentation at the import job level</li>
					<li>moved the new downloader simple-file-download-and-import to the new file object and harmonised all downloader code to call this single location where possible</li>
					<li>did the same thing with download-post-and-then-fetch-tags-and-file job and added hooks for in the subscription and gallery downloader loops (where a parser match for the url is found)</li>
					<li>the simple downloader and urls downloader now use 'downloader instance' network jobs, so they obey a couple more bandwidth rules</li>
					<li>harmonised how imported media is then presented to pages as thumbnails through the new main import object</li>
					<li>the new post downloader sets up referral urls for the file download (which are needed for pixiv and anything else picky) automatically</li>
					<li>improved file download/import error reporting a little</li>
					<li>entering an invalid regex phrase in the stringmatch panel (as happens all the time as you type it) will now present the error in the status area rather than spamming popups</li>
					<li>fixed a bug in the new parsing gui that was prohibiting editing a date decode string transformation</li>
					<li>fixed enabling of additional date decode controls in the string transformations edit panel</li>
					<li>added a hyperlink to date decoding controls that links to python date decoding explainer</li>
					<li>if a source time in the new parsing system suggests a time in the future, it will now clip to 30s ago</li>
					<li>misc downloader refactoring and cleanup</li>
					<li>fixed an issue where new file lookup scripts were initialising with bad string transformation rows and breaking the whole dialog in subsequent calls, fugg</li>
					<li>hid the 'find similar files' menu entry for images that have duration (gifs and apngs), which are not yet supported</li>
					<li>added 'flip_debug_force_idle_mode_do_not_set_this' to main_gui shortcut set. only set it if you are an advanced user and prepared for the potential consequences</li>
					<li>silenced a problem with newgrounds gallery parser--will fix it properly next week</li>
					<li>fixed some old busted unit test code</li>
					<li>rejiggered some thumb dupe menu entry layout</li>
				</ul>
				<li><h3 id="version_304"><a href="#version_304">version 304</a></h3></li>
				<ul>
					<li>renamed the new 'tagcensor' object to 'tagfilter' (since it will end up doing a bunch of non-censoring jobs) and refactored it into clienttags</li>
					<li>attached a tag filter object to all tag import options to act as a tag blacklist. all tags that go through the import pipeline (except for a couple of old legacy instances) are now checked against the blacklist, and if a bad tag is found, the file vetoes! tag import options has some new ui to handle this and background code to deal with inheritance from defaults and so on</li>
					<li>new file import urls that have url classes, no matter their source, are now normalised!</li>
					<li>all new file import urls are now tested against both the original and normalised version of the url, so even though previously parsed urls remain un-normalised, new urls that are pre-normalised the same will not count as new! -fingers crossed-</li>
					<li>on update, the db will get normalised copies of all existing urls. this means many files will now have two versions of its urls--some ui to collapse everything down to only the normalised version (after some human eyes have passed in front of this big change) will come in the coming weeks</li>
					<li>some sites where normalisation is a consistent problem for later redownloads (like e621, which appends 'preview' tags to the post url) _should_ now be caught reliably!</li>
					<li>the 'allow subdomains' on edit url class panel is now named 'match subdomains' and has a tooltip to better explain how it works</li>
					<li>'keep subdomains' is now 'keep matched subdomains' and has a tooltip as well</li>
					<li>the 'keep matched subdomains' enabled behaviour (and some normalisation calculation) is now additionally governed by the 'associate url with files' value and api url conversion info rather than just 'match subdomains' and raw url type</li>
					<li>fixed an issue that was stopping the 'associate url with files' option sticking in edit url class panel</li>
					<li>edit url matches now resorts after an add or edit action</li>
					<li>all listctrls with a wrapper panel now resort after an import from clipboard, png, or defaults call</li>
					<li>url matches now match against www*. versions of their domain regardless of 'match subdomains' settings</li>
					<li>updated xbooru url classes to prefer https</li>
					<li>the manage url class links panel now has a 'clear' button to clear a url_class->parser link</li>
					<li>introduced three new simple downloader parsers for yiff.party, thanks to @cuddlebear on discord for the submission</li>
					<li>the old 'uninteresting mime' status has been expanded to a wider 'vetoed' status to represent all file imports that are abandoned without a particular error (e.g. tag blacklist, wrong filesize or resolution)</li>
					<li>the import system now reports the total of 'num vetoed' as 'num ignored' in its summary statements</li>
					<li>it now also reports 'num skipped'</li>
					<li>the 'num successful' and 'num already in db' are now folded more neatly together in import cache summary statements</li>
					<li>file downloads that are cancelled will now set a 'veto' state rather than a 'skip' state</li>
					<li>improved file import exception handling across the board</li>
					<li>improved how single-file-result parsing vetoes propagate up to the file import status cache</li>
					<li>404 network errors will now provide a 'veto' status rather than an 'error'</li>
					<li>vetoes will not count as errors when deciding whether a subscription should be abandoned early (so a bunch of decomp bombs or 404s will no longer stutter a subscription!)</li>
					<li>misc fixes and improvements to the new download stuff</li>
					<li>wrote a new parsing cache that saves a lot of work in the new parsing system</li>
					<li>improved the 'is this url known?' test to better deal with situations where all the given urls are galleries or unrecognised--a better aggregate of file status is formed, and 'already in db'/'deleted' statuses will apply if there is no evidence otherwise (the dev got the new logic for this from a legit nightmare about urls downloading over and over, so let's hope it works out)</li>
					<li>the 'is this url known?' logic also recovers from 1->n url->hash relationships where it does not expect them, trying to find 'already in db' hashes over 'deleted' ones</li>
					<li>to clear up some ambiguity, galleries or subscriptions now give a different 'checking in x seconds' status when waiting on the first page of a query</li>
					<li>the 'noneablebytescontrol', as seen in edit file import options, will now correctly disable/enable its bytes sub-control when it is none'ed</li>
					<li>a persistent issue with the new network engine sometimes failing to correctly error after certain broken connections (the computer going to sleep mid-download was a common cause here) should now be recovered from and the connection naturally reattempted</li>
					<li>added three new shortcuts to the 'main_gui' shortcut set that allow for opening a new 'urls', 'simple', or 'thread watcher' downloader page</li>
					<li>added two more shortcuts to 'main_gui' for new 'page of pages' and 'duplicate filter page'</li>
					<li>moved some old 'new page' menu code to the new application command system</li>
					<li>added numerous 'duplicates' shortcuts to the 'media' shortcut set that will work on selections of thumbnails</li>
					<li>the thumbnail duplicates menu actions now go through the new application command system</li>
					<li>fixed an issue where the current tag parents caches was not refreshing when notified</li>
					<li>inputting a short invalid syntactic input on a 'read' tag autocomplete such as '-' will now clear the system predicates list--system preds should now only show on a completely empty input</li>
					<li>fixed an issue where certain combinations of 'remove a tag, then re-add it' nullipotent actions in a single manage tags dialog transaction were not applying reliably (sometimes, the subsequent mirror action was not occuring due to a processing re-order optimisation at the db level)</li>
					<li>made some animation code a little safer and quieter as a test for some users who were getting blitzed with some deadwindow error spam in certain situations--let's see if this changes anything</li>
					<li>replaced all the em dashes in the help with double hyphens as github pages was rendering them wrong</li>
					<li>added CrystalDiskInfo recommendation to 'help my db is broke.txt'</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_303"><a href="#version_303">version 303</a></h3></li>
				<ul>
					<li>file post url classes can now be linked to parsers!</li>
					<li>the 'raw url' downloader is now just the 'url' downloader. if a dropped url is matched as a 'file post' url and links to a parser, it will download it with that parser and default tag import options</li>
					<li>url drag and drop now recognises file post urls that have linked parsers and will send them on to a url import page, just like 'raw' urls! they will use the new parsing system to parse tags and known urls and all that</li>
					<li>wrote a way for the new download system to store and edit default tag import options--this can now be found under network->manage default tag import options, although it does not do much yet. eventually the old options will be transferred here, and the different downloaders will consult it more</li>
					<li>refactored and cleaned up how some default tag import option calculation is done</li>
					<li>the fixed 5 second wait time between gallery page fetches is now editable for downloader pages and subscriptions under options->downloading. subscriptions default remains 5s, gallery default is now 15s</li>
					<li>the gallery downloader will present its 'x urls found so far' string in a more uniform and reactive way. it will also count down until the next page fetch</li>
					<li>subscriptions will now similarly react quicker while the gallery parse step is ongoing, and it will count down to the next page fetch</li>
					<li>the manage subscriptions dialog will now note in BIG RED TEXT if subscriptions are currently globally paused</li>
					<li>subscriptions now consume less parallel-timeslot overhead, meaning they sync much faster when they have no work to do (which is most of the time)</li>
					<li>separating subscriptions is now more sophisticated--if you wish, you can now choose just to separate a subset of the large subs's queries, and if you do so, you can decide whether to merge the extracted subs into a new larger sub or just have them as individuals. also, you will be asked for name/base_name for what to name the new subs</li>
					<li>since separating subs is more complicated, the button is only enabled when a single large sub is selected. please do your separating one sub at a time!</li>
					<li>merging subs will now ask if you want to rename the merged subs as it goes</li>
					<li>refactored a giant heap of duplicate import code into single locations in the new file import object--things like applying tags and generating pre-import status are all now done in one place. a number of weird behaviours (like not applying known url associations in certain circumstances) should now be a lot better and unified</li>
					<li>the way the db and other import testers handle whether a pending import is new or unknown is simplified</li>
					<li>optimised the way the importers figure out whether to display a new import</li>
					<li>the 'has the client seen this url before?' test used to figure out whether to download a file now explicitly ignores anything it isn't certain is a single-file File URL or Post URL (according to current url classes). associating 'gallery' known urls is no longer catastrophic to this system</li>
					<li>the simple downloader now associates the entered url with the files subsequently imported</li>
					<li>file import objects working in the new parsing system are aware of the new 'should this url be associated' option and will be given gallery urls to hold on to as appropriate</li>
					<li>url classes now have an explicit option as to whether they should be associated with files imported from them, which is not appropriate for dynamic CDN File URLs but is appropriate for multi-image tweet links (which will likely be Gallery URLs in the new system), for instance</li>
					<li>general importer code cleanup across the board</li>
					<li>threw together some early ui to show current jobs in the network engine under network->review network jobs</li>
					<li>popup messages will now try to set a max width of roughly 56 characters wide rather than 400 pixels. this value is editable under options->gui</li>
					<li>updated the listctrl in the export files frame and the way this frame generates and stores export filenames. let's see if linux users who had crashes with this have better luck</li>
					<li>refactored stuff out of the bloated ClientImporting file into seperate new files</li>
					<li>refactored client network bandwidth and session code out to their own files as well</li>
					<li>refactored client network objects to its own file</li>
					<li>cleaned up some open externally debug code linked to callto report mode</li>
					<li>a common grid layout used across the program will copy control tooltips to the string on the left</li>
					<li>removed the 'downloader' network context type, which was never fully introduced and wasn't turning out to offer much in the new bandwidth tracking system</li>
				</ul>
				<li><h3 id="version_302"><a href="#version_302">version 302</a></h3></li>
				<ul>
					<li>improved how simple downloader parsing formulae are stored and passed around</li>
					<li>the edit simple downloader parsing formulae panel now has an 'add defaults' menu button</li>
					<li>the simple downloader formula edit panel handles its buttons better and can now do import from/export to clipboard/png and reimport from the defaults, and fixes duplicate names automatically</li>
					<li>simple downloaders now remember their current parser through a session save/load</li>
					<li>simple downloaders will set a new default parser selection for new simple downloader pages on any choice event</li>
					<li>renamed all the default simple downloader parsers to more clearly explain what they do</li>
					<li>added 'all files linked by images in page' to the simple downloader, which does the old page of images' behaviour, and is hence pretty decent for most imageboards</li>
					<li>added a simple mewch thread html parse formula to the simple downloader</li>
					<li>added a very simple webmshare parse formula to the simple downloader</li>
					<li>added 'imgur image album' to the simple downloader, which will fetch the first 'page' of results from an image album. full parsing will have to wait for the gallery downloader update</li>
					<li>subscriptions can now run simultaneously! you can set the max number at options->downloading page--the default remains 1, so default behaviour will not change</li>
					<li>if subscriptions guess they can eat some bandwidth in the next 30s but it turns out they can't, they will bandwidth-override that last job after the 30s expires. this will stop some edge cases from causing subs to potentially hang for hours just on one last request</li>
					<li>'explicit tags' are now renamed to 'additional tags'</li>
					<li>you can now set media to initially scale to 100% even when it is larger than the media or preview canvas</li>
					<li>the html parsing formula can now 'ascend' as well as search down the DOM tree--so, for instance, you can find all 'img' below an 'a' and then jump back up to the 'a' to fetch the 'href' of that image link!</li>
					<li>html parsing formulae can now search without a tag name--so, for instance, 'find all tags with class = "whatever"' is doable, without having to specify div or span etc..</li>
					<li>the html parsing formula rule panel is hence a bit richer. it also presents a preview of the rule's string as you edit</li>
					<li>the client no longer needs lxml to boot, and if html5lib is present, it will prefer that for html parsing. if both libraries are missing and html parsing is requested, it will raise an exception explaining the error</li>
					<li>the builds now include html5lib, which is better at recovering from some bad markup than lxml, and as a result some parsing jobs that formerly did not work (such as 'akaiha_(akaihasugk)' on danbooru) now do</li>
					<li>rewrote how services test their functional status to better account for different states. the logic here should be a bit better now--repositories will still be able to process if their network side is down, but everything will pause if any pause is set, and it should all propagate up to higher levels of error catching and status reporting better</li>
					<li>hydrus can now deal with really big decompression bombs (>~180 megapixel)</li>
					<li>filtered out en-dashes (as an alternative to standard hyphens in a "? + -" link-prefix) from booru tag parsing</li>
					<li>fixed a string generation issue that was stopping date decode string transformations from summarising themselves</li>
					<li>fixed some catastrophic boot failure gui reporting</li>
					<li>cleaned up a double-exit error on dialogs that could occur when spamming exit events with a script like AutoHotkey</li>
					<li>improved some dead cpu thread clearout code</li>
					<li>updated misc old code</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_301"><a href="#version_301">version 301</a></h3></li>
				<ul>
					<li>after discussions with Sankaku Complex about their recent bandwidth problems, added a new 64MB/day default bandwidth rule for sankakucomplex.com--please check the release post for more information</li>
					<li>the 'page of images downloader' is now called the 'simple downloader' that uses the new parsing system (particularly, a single formula to parse urls)</li>
					<li>the simple downloader supports multiple named parsers--currently defaulting to: html 4chan and 8chan threads, all images, gfycat mp4, gfycat webm, imgur image, imgur video, and twitter images (which fetches the :orig and also works on galleries!)</li>
					<li>there is some basic editing of these parsing formulae, but it isn't pretty or easy to import/export yet</li>
					<li>the new parsing test panel now has a 'link' button that lets you fetch test data straight from a URL</li>
					<li>added a 'gather to this page of pages->dead thread watchers' menu to the page of pages right-click menu--it searches for all 404/DEAD thread watchers in the current page structure and puts them in the clicked page of pages!</li>
					<li>cleaned up some page tab right-click menu layout and order</li>
					<li>fixed tag parents, which I previously broke while optimising their load time fugg</li>
					<li>the new favourites list now presents parents in 'write' tag contexts, like manage tags--see if you like it (maybe this is better if hidden?)</li>
					<li>sped up known_url searches for most situations</li>
					<li>fixed an unusual error when drag-and-dropping a focused collection thumbnail to a new page</li>
					<li>fixed a problem that was marking collected thumbnails' media as not eligible for the archive/delete filter</li>
					<li>wrote a 'subscription report mode' that will say some things about subscriptions and their internal test states as they try (and potentially fail) to run</li>
					<li>if a subscription query fails to find any files on its first sync, it will give a better text popup notification</li>
					<li>if a subscription query finds files in its initial sync but does not have bandwidth to download them, a FYI text popup notification will explain what happened and how to review estimated wait time</li>
					<li>delete key now deletes from file import status lists</li>
					<li>default downloader tag import options will now inherit the fetch_tags_even_if_url_known_and_file_already_in_db value more reliably from 'parent' default options objects (like 'general boorus'->'specific booru')</li>
					<li>the db maintenance routine 'clear file orphans' will now move files to a chosen location as it finds them (previously, it waited until the end of the search to do the move). if the user chooses to delete, this will still be put off until the end of the search (so a mid-search cancel event in this case remains harmless)</li>
					<li>the migrate database panel should now launch ok even if a location does not exist (it will also notify you about this)</li>
					<li>brushed up some help (and updated a screenshot) about tag import options</li>
					<li>fixed a problem that stopped some old manage parsing scripts ui (to content links) from opening correctly</li>
					<li>improved some parsing test code so it can't hang the client on certain network problems</li>
					<li>misc ui code updates</li>
					<li>misc refactoring</li>
				</ul>
				<li><h3 id="version_300"><a href="#version_300">version 300</a></h3></li>
				<ul>
					<li>wrote system:known url to find files that have--or do not have--certain types of urls. it works but is still a little slow--I can optimise it later!</li>
					<li>added exact match, domain, regex, and url class search types for system:known url</li>
					<li>added a button to the top media viewer hover window that will start a file export drag and drop event if dragged from</li>
					<li>moved the autocomplete dropdown results list down into a paged notebook</li>
					<li>wrote a new 'favourites' page tab for the autocomplete dropdown results</li>
					<li>hitting left or right arrow keys on an empty text input will move between the results tabs</li>
					<li>hitting arrow up/down/page up/down/home/page or passing mouse scroll events will now go to the current selected page</li>
					<li>typing regular search text into the input will automatically return the current page to the search results list</li>
					<li>moved the 'tag suggestions' part of the 'tags' options page to a new page</li>
					<li>added 'tag favourites' to the 'tags' options page to edit which tags show in this new tab</li>
					<li>added import/export buttons to the tag siblings and parents dialogs. they'll export to clipboard or .txt file, and import from the same with an additional option to add_only (i.e. to not delete/petition conflicts with the existing list)</li>
					<li>added some quick-and-dirty 'set as alternates/same/notdupes' buttons to the duplicate filter, which will quickly apply that status to the dupes and show some more dupes</li>
					<li>sped up db loading time of tag siblings and parents significantly</li>
					<li>added a short delay check to tag siblings/parents regeneration so rapid regenerations (such as when processing certain admin-side petitions) can be merged</li>
					<li>fixed an issue where similar_to searches could return results not in the current file domain</li>
					<li>fixed some spinctrls that were sizing to thin</li>
					<li>fixed a bug in the manage server services dialog that was incorrectly dealing with port conflicts on edit service dialog ok</li>
					<li>added a clientside and serverside assertion to test that all the services on a serverside modify services call have unique ports</li>
					<li>fixed an issue where hydrus network services without access keys would sometimes try to sync their accounts (this was messing up some admin server setup)</li>
					<li>fixed some misc dialog window structure</li>
					<li>messed around a little with how the autocomplete dropdown hides and shows when in float mode--I _think_ it will now be less flickery and will otherwise position itself and receieve focus better</li>
					<li>converted the 'export files' dialog to the new sizing system and also made it non-modal (i.e. you can now interact with the rest of the program while it is open)</li>
					<li>wrote a more rigorous force-fit-all-tlws command to the debug menu</li>
					<li>misc fixes</li>
					<li>misc refactoring</li>
				</ul>
				<li><h3 id="version_299"><a href="#version_299">version 299</a></h3></li>
				<ul>
					<li>wrote ui to review and even edit session cookies by network context. it is still a bit rough but will help with future development.</li>
					<li>added a 'open_selection_in_new_page' shortcut to the 'media' shortcut set that will work on the thumbnail view</li>
					<li>added a 'export_files' shortcut to the 'media' shortcut set that will work on the thumbnail view</li>
					<li>fudged manage siblings logic to not do the borked 'hey, that sibling already exists' as soon as you type the old sibling--it will now auto-petition any existing siblings when you click 'add' with a good automated petition reason that makes sense to the janitor</li>
					<li>manage siblings now also only shows rows appropriate to the current selection like parents does. it gets a new 'notes' column to specify conflicts that will be auto-petitioned as above</li>
					<li>manage siblings and parents now have a laggy 'show all pairs' checkbox to let you quickly review everything like you used to</li>
					<li>fixed a database-level bug that meant petitioned and pending the same left-hand sibling tag (like petition a->b, pend a->c) would sometimes not both save together</li>
					<li>when you middle-click or right-click->open a new page on a selection of tags/search predicates, the new page will now be named after the tags</li>
					<li>if subscriptions hit their periodic file limit, they will now give a little popup message describing what happened and possible causes and actions the user can take</li>
					<li>added a 'make a modal popup in five seconds' action to help->debug</li>
					<li>modal popups will now hide/show other child frames (like review services) rather than minimise/restore, as this latter action can raise the entire progam to the front</li>
					<li>added a 'make a parentless text control dialog' debug entry to test some key event catching</li>
					<li>added a 'layout all tlws' debug entry to help->debug that'll hopefully help figure out some child window sizing/position issues</li>
					<li>added a 'shortcut report mode', which will report caught shortcut keys and their matched commands, if any</li>
					<li>fixed a little shortcut catching bug in the main gui</li>
					<li>finished adding the new bytes control</li>
					<li>updated ffmpeg for windows</li>
					<li>improved sankaku default bandwidth rules to stop a subscription bandwidth rules mismatch that could sometimes make for subscription delays--existing users may like to add a 2GB/day rule for sankakucomplex.com</li>
					<li>improved some service and account error handling to better propagate the exact problem up the exception handling chain</li>
					<li>the clientside 'update A actually had hash B' repository sync error is now dealt with in a less severe way, and the bad update file is saved to disk with a request for it to be forwarded to hydrus dev for further investigation</li>
					<li>file parsing is now more resistant to invalid negative values for properties like width, height, and duration</li>
					<li>improved some focus code that may have been affecting linux stability</li>
					<li>improved a deviant art url-not-found error</li>
					<li>improved a wx version boot test</li>
					<li>misc fixes</li>
				</ul>
				<li><h3 id="version_298"><a href="#version_298">version 298</a></h3></li>
				<ul>
					<li>wrote a new 'bytescontrol' and related noneablebytescontrol that allows for a uniform way to choose a bytes size value with a wider range--and deployed it all over the place</li>
					<li>hitting a mapped shortcut for 'manage file notes' should now ok the 'manage file notes' dialog as well as open it</li>
					<li>the manage file notes text control will now start with its caret at the end of the document</li>
					<li>manage siblings/parents now state how many pairs they have</li>
					<li>as an experiment, manage parents now only lists pertinent information in its listctrl. this is hacky but potentially a big improvement to the workflow here, feedback would be appreciated</li>
					<li>added a new menu entry, 'network->pause->all new network traffic', which will indefinitely pause any new network jobs. this value will persist through a restart</li>
					<li>'pause subscriptions' is moved from 'services' to 'network'</li>
					<li>'pause import/export folders' is moved to 'file' and all the import/export folder stuff is sent down to its own submenu</li>
					<li>in lieu of proper session inspection gui, added some debug 'reset login' entries to the network menu for pixiv and hf</li>
					<li>if a page has files but none are selected, it will now say the total size in the status bar</li>
					<li>the edit bandwidth rules control and its subsidiary dialog use some saner and more user-friendly layout and presentation</li>
					<li>the previous search distance on the 'review bandwidth usage' frame is now remembered</li>
					<li>fixed some bad logic where a 'copy_bmp' event could trigger despite the current media being None or a non-static image</li>
					<li>you can no longer open multiple copies of the subscriptions or import/export folder manage dialogs if you hit the menu entry multiple times while the first is waiting for the jobs to finish</li>
					<li>like import folders and subscriptions, manage export folders now waits for currently running export folders to quit before opening</li>
					<li>export folders run lighter and quit faster on client shutdown</li>
					<li>the domain manager will give a better error if a URL submitted to it lacks a schema (the http or https part)</li>
					<li>fixed a bunch of unicode error handling</li>
					<li>fixed an issue with similar files metadata orphans prohibiting new file imports</li>
					<li>finished up a simple shared shortcut processing object and replaced most old temp duplicate shortcut code with it</li>
					<li>misc ui cleanup</li>
					<li>misc text rendering fixes</li>
					<li>misc shortcut code refactoring</li>
				</ul>
				<li><h3 id="version_297"><a href="#version_297">version 297</a></h3></li>
				<ul>
					<li>finished a prototype 'file notes' system. thumbnails and media viewer canvas now support 'manage->file notes' in their right-click menus. this launches a simple text box which will save its contents to db</li>
					<li>added 'manage_file_notes' shortcut to the 'media' shortcut set</li>
					<li>tag summary generators now have a simple show/hide checkbox and (for thumbnails) custom colours for background and text including alpha channel!</li>
					<li>fixed a variety of timing and display logic related to subscription query DEAD vs next check time calculation</li>
					<li>all currently dead subscription queries will be revived on update, just in case they were formerly set dead by accident</li>
					<li>the 'fetch tags even if url known and file already in db' option is moved from the download/subscription panel's cog icon to tag import options</li>
					<li>cleaned up tag import options layout, controls, internal workflow, and help button</li>
					<li>added 'select all/none' buttons to tag import options panels with multiple namespaces</li>
					<li>if a subscription is blocked by bandwidth, the manage subscriptions dialog will display that in its 'recent error/delay' column</li>
					<li>the edit subscription dialog will show similar bandwidth blocking info, on a per-query basis, under a new 'recent delays' column</li>
					<li>the review bandwidth usage panel will no longer show some unusual results by default that you can see with 'show all' hit anyway</li>
					<li>the review bandwidth usage panel will show the usage at the current search distance in a new column</li>
					<li>the review bandiwdth usage panel will show number of requests after data usage. this might be info-overload, so I might alter the syntax or roll it back entirely</li>
					<li>fixed an issue with hentai foundry parser pulling images placed in the image description area instead of main image. this particularly affected the artist 'teku'</li>
					<li>tags for deviant art and tumblr and thread watchers, which were formerly stored in volatile session memory--meaning half-completed import queues were losing their tags through a program restart--are now saved to the new import object directly</li>
					<li>removed all the old volatile session memory patch code</li>
					<li>added the new import object through a larger part of the parsing pipeline</li>
					<li>deleted the old remains of the giphy parser--if it comes back, it'll all be rewritten in the new system</li>
					<li>harmonised some other import pipeline code to the new system</li>
					<li>added a new 'management and preview panels' submenu to the 'pages' menu</li>
					<li>added an option to control 'save sash positions on close' to this menu</li>
					<li>added an entry to force-save the current sash positions to this menu</li>
					<li>added an entry to 'restore' the currently saved sash positions to all pages to this menu (this is useful if your window resizes real small and all your pages get crushed up)</li>
					<li>rejiggered how URL Classes are matched with URLs to make sure some Post URLs are not lost (this was affecting Hentai Foundry Post URLs, which were sometimes not displaying in the media viewer despite matching)</li>
					<li>fixed an issue where the duplicate filter page's jobs would not trigger an update after a job finished</li>
					<li>fixed an outside chance of a crash after running a duplicate filter page job</li>
					<li>improved how strings are coerced to unicode--now the preferred system encoding will be tried before utf-16, which should improve support for characters in various non-unicode sources (like neighbouring .txt files)</li>
					<li>fixed an issue with the client's local booru and flash files (and some other file fetching and mime reporting is a bit faster and neater overall)</li>
					<li>the options should be more reliable about redrawing all thumbnail banner summaries on an option ok now</li>
					<li>the options->media->media zooms option will now remove any <=0.0 values when it saves</li>
					<li>fixed up some old test code</li>
					<li>improved how some thread-to-gui update reporting code works</li>
					<li>deleted some old network object code</li>
					<li>converted manage subscriptions panel to an edit panel--a decoupling refactor I will likely ultimately make across the program</li>
					<li>wrote a help page for content parsers</li>
					<li>did the first half of a help page for page parsers</li>
					<li>misc refactoring</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_296"><a href="#version_296">version 296</a></h3></li>
				<ul>
					<li>the 'allow decompression bombs' option is now moved to 'file import options'. it defaults to False</li>
					<li>file import options now allow max size and max resolution rules. they default to None</li>
					<li>file import options now allows a max gif size rule to deal with THE SFM COMMUNITY. it defaults to 32MB</li>
					<li>file imports will give better quality errors if they fail due to file import option exclusion rules</li>
					<li>file import fail errors will now also specify the incorrect amount--e.g. if a file is 64KB but the minimum limit is 256KB, it will state this in the error</li>
					<li>wrote a bunch of unit tests to make sure the new complicated file import options object works good</li>
					<li>finished the tag summary edit ui and added a new 'tag summaries' page to the options</li>
					<li>you can set the thumbnail top, thumbnail bottom right, and media viewer top summaries here, and everything should link up right!</li>
					<li>the old options to hide thumbnail top and thumbnail bottom right text are removed from the options->gui page</li>
					<li>tag summaries now include pending tags again</li>
					<li>tag summaries will order tags according to hydrus numeric tag sorting rules (0 < 0a < 0b < 1 < 9 < 10)</li>
					<li>tag summaries will collapse namespace groups that all start with decimals into a "min-max" phrase instead of the whole list (so 'collecting' a chapter will list p1-23 for the page phrase instead of each number in turn)</li>
					<li>fixed some potential error popups from the autocomplete dropdown when not in float mode (this hit non-windows users more often)</li>
					<li>split the parser help pages up a bit more and updated the client ui html links</li>
					<li>finished off the formulae help pages</li>
					<li>updated to wx 4.0.1 on all platforms. it promises increased stability!</li>
					<li>default tag import options are now moved to the 'importing' options panel, alongside the default file import options</li>
					<li>the database will deal with and recover from rollback exceptions more reliably. rollback-loops should be fixed, but the original event will now also produce a request to restart the client (which will safely reset everything) anyway</li>
					<li>improved how I create and layout the 'help for this panel -->' help buttons</li>
					<li>the job scheduler now regularly checks for and clears out dead wx-related jobs (this saves a bit of memory)</li>
					<li>cleaned up an old tag retrieval method that was wasting CPU. some larger pages with many thousands of tags should do tag calculation after selection and so on a bit faster</li>
					<li>fixed a thread shutdown test that wasn't working until app shutdown time</li>
					<li>improved some more thread shutdown code</li>
					<li>deleted some old thread-inefficient calllater and wx-safe timer code</li>
					<li>emergency server errors that occur during the response writing stage should be handled better by the client</li>
					<li>emergency server errors are more robust in general serverside</li>
					<li>improved the quality of the errors thrown by the new network engine's login system</li>
					<li>improved some test timing and key press simulation code</li>
					<li>misc refactoring</li>
					<li>misc improvements</li>
				</ul>
				<li><h3 id="version_295"><a href="#version_295">version 295</a></h3></li>
				<ul>
					<li>fixed the runtimeerror popups that would come up on restore from minimise or main gui move after the complete destruction of a general search page</li>
					<li>cleaned up some main gui move code generally, and removed a memory leak on the way</li>
					<li>file queries can now cancel at multiple checkpoints during the first phase, saving a bunch of CPU time on certain large queries that are replaced mid-search</li>
					<li>after a file query has been going three seconds, a little 'stop' button will appear beside the regular autocomplete input. clicking this will cancel the current query! it will stop when it next hits one of the checkpoints above</li>
					<li>the floating autocomplete dropdown should be less flickery in some circumstances</li>
					<li>dejanked some more file query code</li>
					<li>added a 'clear orphan file records' entry to the database->maintain menu. this looks for and purges orphan file rows as you may have seen a notification about recently. this mostly affects the duplicate filter system</li>
					<li>fixed up the delete file code to be a bit more robust--it should lead to fewer orphans in future</li>
					<li>all the parsing edit panels have new layout: they no longer have info panels but instead a help button that points to the html help, and the edit and test panels are now beside each other rather than in notebook pages</li>
					<li>harmonised a bunch of the parser ui test panel code, refactored how the results are stored</li>
					<li>the test panel now presents a better 'preview' of what it contains (the actual text control has like 64KB text limit on some OSes and has unreliable text encoding rules, so using it as the raw container for the example data has lead to problems), and we now read and write the example data with a couple of new copy to/paste from clipboard buttons</li>
					<li>wrote another new test panel for subsidiary page parsers that does the separation formula stuff a bit better. the test results now come back for all posts as well, rather than just the first</li>
					<li>added a new 'deeply_nested_dialog' frame key to options->gui for the parsing ui to better lay out five or six nested dialogs in a nice 'topleft' way</li>
					<li>the 'topleft' frame padding is reduced from 50 to 24 pixels to better fit in deeply nested dialogs</li>
					<li>misc parsing ui improvements and little fixes</li>
					<li>the manage url classes and manager parsers dialogs now have a better 'add defaults' button that allows you to just select the defaults you want (by name) from a checklistbox</li>
					<li>wrote a parser for 420chan and added it to the defaults. it should automatically add and link up when you update</li>
					<li>if the install_dir/db directory is not writable-to (e.g. you have installed the program to a protected location like "C:\Program Files"), the client and server will default to ~/Hydrus as the db directory</li>
					<li>wrote a new 'TagSummaryGenerator' class that will do 'bunch of tags'->'nice summary string' conversions for the thumbnail banners and export filenames</li>
					<li>substituted some static tagsummarygenerators to do thumbnail banners</li>
					<li>did the same for the media viewer top-center namespace summary</li>
					<li>started some edit ui for tagsummarygenerators--I'll have some proper customisable stuff in the near future</li>
					<li>moved the background memory maintenance and misc daemons to the new job scheduler, reducing thread count and idle CPU some more</li>
					<li>added a debug 'show scheduled jobs' entry for the new job scheduler system</li>
					<li>decompression bomb failures will no longer count towards a subscription's fail count, so having a bunch of them won't abandon a sync</li>
					<li>fixed and otherwise improved a potential crash condition when a thumbnail panel closes while a menu is popup'd on it</li>
					<li>to forestall this program instability, the thumbnail window will no longer replace while its menu is open. the behaviour after this delayed window delivery is slightly borked, but it isn't a crash so I'm ok with it for now</li>
					<li>removed some other jank from the thumbnail media panel swap code</li>
					<li>non-cancellable modal popups will no longer have the 'close' button. trying to close them with the dialog's X button will still give the 'sorry lad, can't cancel' error</li>
					<li>rating and file service system predicates for services that no longer exist will now render a neat 'unknown x system predicate' presentation string rather than throwing an error</li>
					<li>searches in 'all known tags'/'specific tag domain' no longer provide system:untagged, wew</li>
					<li>some delayed events are now posted in a more thread-safe way</li>
					<li>misc refactoring</li>
				</ul>
				<li><h3 id="version_294"><a href="#version_294">version 294</a></h3></li>
				<ul>
					<li>fixed video scan</li>
					<li>fixed up some import folder logic--they now run 'look for new files' checks separate from 'import anything still in the queue', so they can now catch up on outstanding files more easily</li>
					<li>the ten minute file-processing break is reverted--import folders now just 'save' every ten minutes, to forestall lost work on a crash</li>
					<li>import folders now have an explicit 'check regularly' checkbox to control whether you want it to check regularly or only when you tell it to. the paused status now means 'do not ever work'</li>
					<li>import folders now make a 'working' popup, like subscriptions do, that shows new file discovery progress and found file import progress. it has a cancel button that will stop the current job and can be hidden in the import folder's options. existing import folders will default to ON for this, so you'll likely see one of these right after you update</li>
					<li>import folders can now publish their files to a new page! this effectively cuts out the button step. furthermore, if a page already exists with the import folder's name (e.g. a previous page the import folder created is still around), the import folder will publish the new files to _that_ page, updating it</li>
					<li>file popup buttons with the same name will now 'merge'! multiple work cycles of a subscription or import folder will now just update the first button rather than spamming several</li>
					<li>running import folders will respond faster to a client shutdown event</li>
					<li>wrote some better controller-level thread management, including surplus thread deletion--idle CPU should be reduced on import-busy clients</li>
					<li>wrote some code to deal with sub-second times a bit better in certain places</li>
					<li>finished off a new scheduled job queue that collapses an old multiple-thread-when-idle system down into just one</li>
					<li>many things are moved to the new job scheduling system--all the old calllater calls, and the popup message timers as well</li>
					<li>completely removed the old wx timers the autocomplete input was using, as they were just too much of a hassle. any crashing these were causing is now gone--it all works on the simpler scheduled job queue now</li>
					<li>the autocomplete dropdowns are better at judging when to engage their timers and so now use far less idle CPU</li>
					<li>fixed a crash that could occur sometime after starting a duplicate filter maintenance task from the dupe filter page</li>
					<li>fixed several unlikely but plausible crashes on the admin-side of petition processing</li>
					<li>wrote a bunch of help for the url classes and new parsing system--it isn't finished yet, but then neither is the new system!</li>
					<li>if the client fails to initialise the db, it will now try to present the error in a bit of screenshottable-gui before the program quits</li>
					<li>improved thread watcher error handling when the given url is unwatchable</li>
					<li>lots of timer related cleanup and tiny fixes</li>
					<li>misc fixes</li>
				</ul>
				<li><h3 id="version_293"><a href="#version_293">version 293</a></h3></li>
				<ul>
					<li>fixed the issue with options dialog not opening again after a save--I apologise for the inconvenience</li>
					<li>the default system:time imported predicate (as set in options) is reset to the default '< 7 days'</li>
					<li>fixed another potential crash with the manage tags dialog (in fact with any dialog that has an embedded autocomplete or any other autocomplete with a non-floating dropdown list, such as the import file path tagging dialog)</li>
					<li>the sankaku user-agent has been updated to be a generic Firefox string "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:56.0) Gecko/20100101 Firefox/56.0", which seems to work with their new rules. if your sank has been broken and you haven't touched the settings that do this stuff, your sank should be magically fixed on update</li>
					<li>the default global hydrus user-agent has been updated to the more polite and compatible "Mozilla/5.0 (compatible; Hydrus Client)". if your previous global user-agent is currently 'hydrus client' (the old default), you'll be updated</li>
					<li>import folders now deal with interruptions more skillfully and take a break and save their progress every ten minutes</li>
					<li>the manage import folders dialog now waits properly for any currently running import folders to quit and save themselves before opening itself (like how the manage subs dialog does it)</li>
					<li>import folders deal with some error states in a better way and are able to cancel out of their loops more reliably when an error occurs</li>
					<li>added a new checkbox option to options->tags that lets your 'write' autocomplete inputs (ones where you can submit new tags, like in manage tags) select the first result with non-zero count by default. this means it will skip over the first result if it is just nonsense like 'boyp' that you typed to get the results</li>
					<li>linked all the final behind the scenes stuff in the thread watcher together with the new parsing system. this stuff remains complicated and non-user-friendly, so please feel free to completely ignore it and the following batch of points:</li>
					<li>-</li>
					<li>wrote new url classes and parsers for 4chan and 8chan--they should all be automatically linked up on update</li>
					<li>the new thread parsers will use the first part of the first post's comment if no subject is set</li>
					<li>the domain manager can now cope with URL->API URL links</li>
					<li>manage url class links now displays the current expected api pairs of URL class links and filters out what cannot be currently parsed as a result</li>
					<li>manage url class links now only displays watchable urls in the bottom listctrl and permits parsers to be linked!</li>
					<li>the domain manager can now try to link url classes with parsers based on example urls!</li>
					<li>a button to fill in missing links is now available on the manage url class links panel</li>
					<li>content parsers that produce urls now define different url types--file, post, and 'next gallery page'</li>
					<li>content parsers can now parse a 'source timestamp' type</li>
					<li>veto content parsers now use a StringMatch object to do their matching. existing veto content parsers will be updated and _should_ work about the same as before (unless the previous string was crazy in regex rules) using a regex match</li>
					<li>html formulas now pick up the 'string' value more reliably in complicated or mangled html</li>
					<li>html and json parsing formulas can now work without any rules, in which case they action the top level node (this is useful to replicate the json/html for subsidiary page parsing)</li>
					<li>activated some of the new file import objects' features for the new parsing system--now, they store tags and known hashes as informed by what is parsed. this information is tested and used in import</li>
					<li>the db can now test all the hash types--md5, sha1, sha256, sha512--during pre-import checking</li>
					<li>the new parsing system now takes a temporary 'parsing context' that will eventually be able to receive and serve temporary variables but at the moment just holds a 'url' entry if the parser would like to use the url used to fetch the data anywhere</li>
					<li>all the new parsing ui now has a button to edit the parsing context, and the example parsing context is saved to the topmost page parser object</li>
					<li>wrote some url classes for 420chan.org--they will be added on update</li>
					<li>fixed an issue with the 4chan thread url class</li>
					<li>-</li>
					<li>the standard new listctrl panel wrapper can now now provide a special 'export to pngs' for certain named objects that will quickly export one object per png</li>
					<li>the 'import from png' dialog as launched from the standard new listctrl panel wrapper now allows multiple png selection</li>
					<li>the default parsers (and now the url classes as well) are stored in install_dir/static/defaults. they are read from here when you create a db or ask to load from defaults, so feel free to play around with this</li>
					<li>the manage services dialog now has an additional Yes/No warning/confirmation dialog if it expects to delete any services on dialog ok</li>
					<li>page tabs escape mnemonic characters (typically '&', which in ui labelling rules makes the following character an underlined shortcut) more reliably</li>
					<li>in an attempt to stop subs making so many separate small file popups, the subscription daemon will now only naturally check every four hours (previously one hour) and will wait up to ten minutes for bandwidth to free up before dumping out (previously 30 seconds). these values will be user-configurable in a future update</li>
					<li>fixed import for some unusual apngs</li>
					<li>corrected some more GMT/local time stuff with the new system:time imported 'date' mode</li>
					<li>misc GMT/local time fixes (profile logs names themselves correctly, etc..)</li>
					<li>improved how the thread watcher reports thread-check errors in unusual situations</li>
					<li>fixed an issue generating network contexts when the initial domain is 'localhost'</li>
					<li>improved some misc program stability</li>
					<li>started a new job scheduler object to reduce idle thread count and CPU usage--will play around with it a bit more and see about integrating it in the coming weeks</li>
				</ul>
				<li><h3 id="version_292"><a href="#version_292">version 292</a></h3></li>
				<ul>
					<li>extended system:age to support searching by fixed calendar date, e.g. "system:age > 2018/01/24"</li>
					<li>'system:age' is also renamed to 'system:time imported' and presents nicer strings</li>
					<li>I believe I have fixed the manage tags dialog crash</li>
					<li>the manage tags dialog now loads related tags, file lookup script info, and recent tags off the main ui thread, meaning the dialog itself should launch much faster in almost all situations</li>
					<li>cleaned up how a bunch of autocomplete<->manage tags events occur</li>
					<li>'set_search_focus' works in the manage tags dialog again, drawing from the new shortcut system</li>
					<li>fixed ctrl+scrollwheel on autocomplete entry, which now correctly scrolls the selection over the results again</li>
					<li>cleaned up a bunch of the taglist scroll and selection code, particularly for tag children/parent selection events</li>
					<li>fixed a potential crash bug initiated by en early exit from the export files dialog</li>
					<li>fixed a potential crash bug initiated by an early petition processing page delete</li>
					<li>fixed a potential crash bug initiated by an edit repository close during access key fetching</li>
					<li>the thumbnail view should be a bit less jittery--the scrollbar should fade neater on mouseover, and maybe the thumbs are smoother as well (I turned off a now-superfluous double-buffering mode, please report any visual bugs)</li>
					<li>added 'check_all_import_folders' to main_gui shortcut actions</li>
					<li>menus off the main menubar that are out of date (this often happens to 'pages' after a session addition/delete) will now be disabled (greyed out) until they are back in sync</li>
					<li>the duplicate filter now detects media it cannot display more carefully. if it runs across undisplayable media due to file orphan status, it will skip over it. if there is nothing else to display, it will ask the user to inform hydrus dev</li>
					<li>added json support to the parsing engine!</li>
					<li>wrote a new json parsing formula object</li>
					<li>wrote a new 'compound' parsing formula object that combines multiple formulae together</li>
					<li>wrote new panel for editing formulae with some cleaner button workflow</li>
					<li>added multiple 'separated' content parsing solutions to page parsers and wrote all new gui to reflect that</li>
					<li>expanded the new separated content parsing solutions to be full-blown nested sub-page-parsers, wew</li>
					<li>put some more general work into the new parsing engine--the new page parser object now saves and serialises, so it can be imported and exported. I don't expect to change it much more, but don't rely on that! this is all still under construction</li>
					<li>added 'file hash' content type to content parsers and improved ui support for when string conversion rules generate bytes data etc...</li>
					<li>new parsing objects now render their parsable content correctly in the 'produces' column</li>
					<li>misc cleanup of new and existing parsing dialogs</li>
					<li>fixed the handling of escape/cancel events on the 'select from a list of strings' dialog</li>
					<li>on update, users with a certain kind of orphaned file will be informed of the numbers and a request to inform hydrus dev</li>
					<li>fixed exporting serialisable object to png, which was failing due to a bmp data change in the new wx</li>
					<li>fixed a couple of places where I was switching GMT and local time around</li>
					<li>deleted some old useless tag editing and commandevent code</li>
				</ul>
				<li><h3 id="version_291"><a href="#version_291">version 291</a></h3></li>
				<ul>
					<li>expanded the permissible shortcut keys to all reasonable ASCII characters, such as comma and ampersand and the types of brackets</li>
					<li>fixed a delayed crash sometimes caused by the file import frame (the one launched by dropping some files on the client or going file->import files)</li>
					<li>the file import frame does its file parsing job in a generally more sensible way, particularly when new drops occur while parsing is ongoing</li>
					<li>fixed a crash that could be initiated by the manage tags dialog setting the favourite tags late</li>
					<li>fixed a crash that could be initiated by manage parents closing before results came in</li>
					<li>fixed a rare possible crash that could be initiated by a review service panel delivering results late</li>
					<li>when media pages load, they will be more thread-crash-polite to wx</li>
					<li>wrote a new 'PageParser' object that will be the primary parser in the new downloader engine. this can deal with a variety of complicated parsing situations. it is still a work in progress, not yet ready for proper use</li>
					<li>started new 'manage parsers' dialog for the new parsing system and arranged a bunch of things around that to make the eventual transition easier</li>
					<li>edited some more old 'parsing scripts' ui to again make the transition easier. file lookup scripts will be converted to something new as we move to the new parsing system</li>
					<li>fixed some bugs in contentparser instantiation</li>
					<li>fixed a bug in the html tag rule edit dialog that wouldn't allow attribute pair editing</li>
					<li>the names in the manage tags file lookup script dropdown are now sorted</li>
					<li>removed some old redundant error-hiding code from the pubsub system</li>
					<li>a common 'is my page closed' check is now a lot simpler and faster</li>
					<li>fixed an edge shutdown bug where log messages were not able to be written to the log file</li>
					<li>some media viewer objects delete themselves more safely</li>
					<li>maybe fixed a rare menu refresh bug in linux</li>
					<li>improved how hydrus deletes temp paths--if they are 'in use by another process', it will now put them aside and try again later. this error typically occurs when file mimetype parsing fails, and due to the error context hanging around, an open file handle is still in scope.</li>
					<li>the client is better about recovering from missing tags in the db--in certain circumstances, it will now generate a 'unknown tag:random hex' as a simple placeholder that can be better used to investigate the error, rather than dumping out</li>
					<li>downgraded os x opencv to 3.1.0 to hoyefully increase compatibility</li>
					<li>the server closes a little more neatly</li>
					<li>upnp errors are more verbose</li>
					<li>misc code cleanup</li>
				</ul>
				<li><h3 id="version_290"><a href="#version_290">version 290</a></h3></li>
				<ul>
					<li>content (tag and rating) shortcuts in the 'media' shortcut set now work on the thumbnail view!</li>
					<li>tags in lexicophically sorted taglists will now sort numerically if their subtags start with decimals (e.g. page:3 will come before page:20 now)</li>
					<li>trying to add/edit a subscription query that is a dupe will now give you a messagebox saying no, and pasting multiple queries will filter out the dupes and inform you (so, if you aren't sure if some of your list of ten artists to add is already in your big 'artist sub', just paste them anyway--it'll take out the dupes for you)</li>
					<li>string converters now support regex substitution! (I expect to eventually integrate this into the filename tag parsing panel!)</li>
					<li>'modal' popup messages (that create a new dialog and stop interaction with the program, like the one launched for repository processing) will now minimise non-main-gui frames while they work. these frames will be restored when the job is done (this should relieve the problem of this modal dialog sometimes letting other semi-stay_on_top frames obscure it while still prohibiting interaction, wew</li>
					<li>simplified and sped up how importers decide whether to do file work or wait</li>
					<li>made file importers do ui-polite pauses during the file import loop more intelligently--if the files make no big change to db or ui (e.g file was known already deleted because of its url), no wait will occur at all, meaning redundant lean queue-sections should work real quick</li>
					<li>fixed an issue with multiply-nested submenus sometimes not deleting themselves neatly and resulting in highlight-related RuntimeErrors.</li>
					<li>fixed an issue where the 'select from list' dialog could sometimes be ok'd without a valid entry--I believe this may be have been causing a delayed crash as well</li>
					<li>added a 'ui timer profile' mode, which profiles some common unified ui update loops that draw animations and keep downloader ui synced and so on</li>
					<li>the 'delete processed' file import status right-click menu entry will no longer show if it has the same count as the 'successful' line</li>
					<li>the options->colours panel has some better layout and the namespace listbox asks a yes/no  to delete if you double-click/enter a colour</li>
					<li>dropping a raw file url onto the client will now automatically pend it to a raw url importer (previously, it would be put in the input box, but after rethinking how this could go wrong, I concluded it wasn't such a big deal). if you use this a lot, see how you like it, and let me know if you would want an option to revert to the old behaviour</li>
					<li>updated domain manager so it tracks url class identity in a neater way (renaming them will no longer break links or display options)</li>
					<li>improved some widget feedback of edit url class panel</li>
					<li>simplified the manage url class links panel</li>
					<li>url classes now normalise gallery and page urls differently (page urls strip all non-declared data, gallery urls just switch scheme). this may change in future</li>
					<li>url classes can now convert a normalised url to an api url--for instance for informing the program that an imageboard thread url has an api version that'll be better to check</li>
					<li>the domain manager can now determine arbitrary url parsability capability, and this is just starting to be integrated into url drag-and-drop--try dropping a known url class on the client, like a booru link: it'll now tell you it sees what it is but can't yet parse it!</li>
					<li>the 4chan and 8chan thread url classes will reset to defaults again this week--replacing with url classes that convert to the api versions--and you'll get the new api url classes themselves</li>
					<li>if missing, the primary tables in client.caches.db can now regenerate on boot. they aren't properly repopulated yet, but the client will boot and you'll get an error message telling you what to do next</li>
					<li>improved .txt and clipboard tag import unicode support</li>
					<li>removed leading BOM (byte order mark) from .txt and clipboard tag imports</li>
					<li>improved some clipboard text fetching code</li>
					<li>added a new 'hover window profile mode' to the debug menu--it will print the logic info behind any media viewer's hover window show/hide decision</li>
					<li>tweaked the locale-setting code, which was stopping some users (on Win10 creator's update, it seems) from booting the client</li>
					<li>added system:rating to 'all known files' query contexts (so you can now search for deleted files that have ratings)</li>
					<li>the manage import folders dialog now has a redtext warning about subdirectories</li>
					<li>some file importers deal with shutdown events more gracefully</li>
					<li>lz4 is no longer required. if it is absent, or the version is too old, a simple statement will be printed to the log and it will not be used in either the client or server</li>
					<li>updated to ffmpeg 3.4.1 on windows</li>
					<li>updated opencv to 3.4 on windows and linux (had trouble with os x--will continue working on it next week)</li>
					<li>fixed an important grammar typo in the help</li>
				</ul>
				<li><h3 id="version_289"><a href="#version_289">version 289</a></h3></li>
				<ul>
					<li>fixed an issue where scrollbars were only appearing on taglists after a resize event</li>
					<li>fixed the raw filename component of file drag and drop events from the client to external programs</li>
					<li>fixed the tag lookup scripts</li>
					<li>fixed some wx menuhighlight issues</li>
					<li>improved some shutdown code</li>
					<li>fixed the add/edit namespace colours options panel, which needed to be updated to deal with the new wx's better alpha channel reporting</li>
					<li>fixed an issue when hitting 'open externally' on a media collection</li>
					<li>fixed a crash on client shutdown whenever closed pages were in the undo menu</li>
					<li>think I fixed another shutdown crash</li>
					<li>fixed a rare issue with the collect by dropdown not being able to generate a string to display</li>
					<li>misc wx fixes</li>
					<li>added a 'importing' page to the options dialog, which now sets the default file import options for quiet and loud file import contexts</li>
					<li>the old and no longer used 'exclude deleted files' option is now removed from the 'files and trash' panel</li>
					<li>finished off default url matches for all downloaders that come with the program--these will be set on update, so if you have custom ones, please export them before you update so you can import them again!</li>
					<li>improved how urls are matched and presented for the user in the media viewer</li>
					<li>added a 'delete "successful" file imports from the queue' entry to the file import status button right-click menu--this only removes 'successful' and 'already in db', leaving anomalies</li>
					<li>improved locale instantiation in the client and added locale strings to the help->about dialog</li>
					<li>you can now set the page name prefix for a paused thread checker. it defaults to a unicode pause character: ?</li>
					<li>thread watchers will no longer pause on a network error during a check--they now have a 'delay' system like subscriptions, and on a network error, they will delay four hours (unless you hit 'check now')</li>
					<li>patched in some simple 'connection cutoff' network error handling, we'll see how it does</li>
					<li>wrote in some more proper error handling for a specific connection cutoff error that is being produced</li>
					<li>the similar files search tree regen code now clears out orphaned files. if you have had blank 'unknown' files appear in similar files searches, please run database->regen->similar files search tree</li>
					<li>bitmap buttons on download pages will now update using less CPU and will flicker less</li>
					<li>improved some video rendering error reporting</li>
					<li>fixed the 'author name' regex favourite default, which had a superfluous asterisk. if you would like to fix it yourself, please try: [^\\]+(?=\s-)</li>
					<li>added 'flush log' debug command</li>
					<li>client.pyw now makes a safe 'system' ui error popup if it fails to boot</li>
				</ul>
				<li><h3 id="version_288"><a href="#version_288">version 288</a></h3></li>
				<ul>
					<li>updated to wxPython Phoenix (4.0) build!</li>
					<li>all builds now require the new wx, so if you run from source, please consult the help files for new info on figuring this out</li>
					<li>did a ton of wx refactoring</li>
					<li>merged a large number of timers</li>
					<li>wrote a new wx-aware timer to replace some of the more awkward old timers that could not be neatly merged</li>
					<li>replaced wx.calllaters (the new ones aren't always garbage collecting nicely) with the new custom timer object</li>
					<li>misc wx deprecation refactoring</li>
					<li>cleaned up some wx test code</li>
					<li>fixed some crashing wx test code</li>
					<li>fixed 'select from list of strings' object, which was no longer processing enter key properly</li>
					<li>cleaned up a bunch of ui object interaction code</li>
					<li>cleaned up a bunch of wx-related shutdown code</li>
					<li>fixed an issue with the splash window not shutting down cleanly</li>
					<li>fixed a shutdown db-gui status report crash</li>
					<li>was unable to get flash embed windows working properly without edge-case crashing on windows, so they are disabled for now (you'll likely get an 'open externally' button instead)</li>
					<li>animations now clean up their memory buffer faster in certain circumstances--all users who view animations in the preview window should notice significantly leaner 'idle' memory usage over time</li>
					<li>fixed a very important inefficiency bug that meant select->inbox/archive on large pages with more than a handful of inbox files was taking extremely long periods of 100% CPU</li>
					<li>wrote a faster way of fetching some media and their paths</li>
					<li>copying files to clipboard is now much faster</li>
					<li>initialising any large file drag-and-drop event is now much faster</li>
					<li>certain redundant image pre-fetching will no longer be done</li>
					<li>'open externally' panels will no longer draw a (slightly buggy and useless) animation bar if the underlying media would have had one</li>
					<li>added a new 'menu profile mode' that will profile any menu click</li>
					<li>cleaned up the debug menu</li>
					<li>deleted some old options code that is no longer used</li>
				</ul>
				<li><h3 id="version_287"><a href="#version_287">version 287</a></h3></li>
				<ul>
					<li>thumbnails can now be drag-and-dropped to other pages!</li>
					<li>dragging and dropping thumbs to another page tab will remove them from the source and append them to the destination, maintaining file order!</li>
					<li>DnDing thumbs to a 'page of pages' tab will put the files in the next lowest selected media page</li>
					<li>DnDing thumbs to a blank notebook area (or a page of pages without a selected media page) will create a new page for the thumbs</li>
					<li>holding down ctrl when you drop thumbnails will not remove them from the source</li>
					<li>please forgive the thumbnail DnD cursor, which for now will be in the 'copy' state, despite the internal DnD being move by default</li>
					<li>improved page tab drag and drop drop logic--dropping onto the page area itself will no longer send the page to the right-end of the current notebook</li>
					<li>the 'file import options' object now supports three 'presentation' booleans--for new/already_in_inbox/already_in_archive files--so you can customise whether new thumbnails appear based on each state. page imports will by default show everything, while 'quieter' import queues like import folders and subscriptions will continue to just show only 'new' files in their files popup buttons. if you have a gui page with 10k+ items in its queue, try reducing the presentation to speed it up!</li>
					<li>all existing import queues will be updated when they are next loaded--but please note that for simplicity and safety they will all initialise to the 'quiet' presentation method, so if you have ongoing download pages in any of your gui sessions (including thread watchers!), they will only add 'new' thumbnails unless you edit them. I apologise for the inconvenience</li>
					<li>the regular hdd import now has a file import options button!</li>
					<li>subscription query 'finished' file popups are now merged up to the subscription level--so, a sub with five queries that each get 20 new files in a run will now ultimately leave one popup with 100 files</li>
					<li>file popups (as produced by subscriptions and a couple other places) now preserve their import order!</li>
					<li>if a subscription with many queries runs out of bandwidth, it should now only give you one 'no more bandwidth to download files' message, rather than one for every outstanding query to sync</li>
					<li>added a checkbox to turn on/off the new random subscription syncing to the options->downloading panel</li>
					<li>the file import status button's menu now supports import/export of sources to clipboard/png! it _should_ also support unicode. be careful not to paste paths into a url cache, or urls from one gallery site to another, or you'll just get errors--this is prototype, so please keep like with like for now</li>
					<li>the png import/export system now supports raw string payloads</li>
					<li>the new listctrlpanel can now hang its buttons in multiple rows</li>
					<li>the manage subscriptions panel now has an 'overwrite checker options' button to mass-set checker options</li>
					<li>the manage subscriptions panel now has a 'select subs' button that selects subs based on a basic query text search</li>
					<li>separating merged subscriptions now sets better new subscription names of 'old_sub_name: query_text'</li>
					<li>saving a session from a page of pages with a custom name will no longer suggest a session name prepended by [USER]</li>
					<li>doubled the subscription and downloader instance default bandwidth rules to 400 and 200 rqs/day</li>
					<li>the 'load_images_with_pil' and 'disable_cv_for_gifs' options are now officially BUGFIX in the options--unless you know you need them on, turn them off!</li>
					<li>added some safeguards to the new dialog-panel system's OK stuff, which sometimes catches a duplicate OK event</li>
					<li>shuffled some db update status texts around</li>
				</ul>
				<li><h3 id="version_286"><a href="#version_286">version 286</a></h3></li>
				<ul>
					<li>simplified how thread watcher assigns DEAD and 404 status--it should do it more reliably now</li>
					<li>thread watchers now publish their page names (including updating dead/404 status) right after they check</li>
					<li>the save session menu under pages now lists the exsting sessions for quick-save--if you select one of these, it will throw up a yes/no overwrite confirmation dialog</li>
					<li>'appending' sessions now loads them in a new page of pages named as the session name!</li>
					<li>right-clicking on a page of pages now gives you a 'save this page of pages to a session' option</li>
					<li>right-clicking on the page tabs lets you append a session anywhere</li>
					<li>'load' session is now 'clear and load', and it throws a yes/no dialog for confirmation</li>
					<li>the gallery pending queries box now allows multiple selection with ctrl/shift clicks. it'll even move up/down correctly on non-contiguous selections!</li>
					<li>the gallery query input is now a new combined textctrl-and-paste button control that will appear in other places across the program</li>
					<li>the page of images input now also uses this new control</li>
					<li>the page of images and raw urls queues will now ignore any input that does not start with 'http'</li>
					<li>pasting a list of texts from the clipboard will now typically strip the pasted content of leading or trailing whitespace</li>
					<li>some text and tag cleaning is a bit faster and neater</li>
					<li>the file import status panel now supports 'open sources' on its right-click menu--it opens in your web browser or file explorer as appropriate. (linux can't do file explorer though)</li>
					<li>thumbnails will no longer 'fade' when their pages are not visible, reducing CPU load in several contexts</li>
					<li>thumbnail fade will use less CPU overhead on very fast computers</li>
					<li>the timer loops that all import pages use to keep themselves updated are now harmonised into one loop at the top gui level (this should reduce some idle CPU overhead and improve some ui responsiveness)</li>
					<li>content (tag and rating) shortcuts can now be set to 'flip on/off' or 'set'</li>
					<li>the manage subscriptions dialog now waits for any currently syncing subs to cancel and save themselves before opening itself (keeping it all synced and rollback-proof)</li>
					<li>added a 'watchable' url class type and wrote examples for 4chan/8chan thread urls</li>
					<li>added 4chan/8chan file url classes to the examples, which if added will auto-hide them from the media viewer</li>
					<li>fixed 'add parameter' in edit url match panel</li>
					<li>simplified some stuff in the existing parsing system</li>
					<li>added preliminary 'url type' support to the parsing system</li>
					<li>the html formula parsing object can now return the full child html of the node it finds</li>
					<li>the new url and html stuff doesn't do anything yet--but it will in the new downloader engine</li>
					<li>added a bunch more booru entries to the url classes defaults. I will continue filling these out, hopefully setting comprehensive defaults next week</li>
					<li>the advanced mode thumbnail right-click menu lets you reparse and regen thumbnails for any files! if you have rotated or stretched files, you can now fix them from the menu!</li>
					<li>added new tools to let the client update media file metadata and thumbnails live!</li>
					<li>the new reparse and regen should update file metadata and thumbnails live!</li>
					<li>improved how some 'quiet' errors are printed to the log. they'll now have the full trace of the error as well as the stack</li>
					<li>added a daemon_report_mode debug mode. it throws up a popup every time a daemon fires its callable</li>
					<li>fixed an issue with the editstringtostringdictcontrol</li>
					<li>fixed an issue with loading (and updating to a new version) import pages or import folders with some kinds of unicode paths</li>
					<li>you can now set the 'woah, you should close some pages' warning value under options->gui. its default remains 165 pages</li>
					<li>system:similar_to searches should be a lot faster on clients with many files</li>
					<li>the manage subscriptions and edit subscription panels now both list their num_urls summary column as '22' if all done but '11/22' if not. this column also sorts based on percentage completion, then num total, then num done</li>
					<li>the database migration dialog now uses the new listctrl--its buttons are now also clever, and will disable when they are invalid</li>
					<li>misc fixes</li>
					<li>fixed an index bug in the new listctrl after certain types of 'setdata' call</li>
					<li>cleaned up some search code</li>
					<li>some veto code cleanup</li>
					<li>cleaned and harmonised how text is pulled from the clipboard</li>
				</ul>
				<li><h3 id="version_285"><a href="#version_285">version 285</a></h3></li>
				<ul>
					<li>added 'network' main gui menu and moved network stuff from services to it</li>
					<li>split the new domain manager stuff up into separate dialogs and menu entries on the new network menu</li>
					<li>manage url classes dialog now lists url type in the listctrl</li>
					<li>added url class links info (which will permit client-specific settings and downloader mappings for url classes) to the domain manager</li>
					<li>wrote a 'url class links' dialog and added it to the new network menu (only the 'display on media viewer' part works atm)</li>
					<li>the domain manager now filters urls on the media viewer depending on whether they have a url match and are set to display in the new links panel</li>
					<li>updated the local booru service code to the new service system</li>
					<li>the local booru's shares can be reviewed again under review services</li>
					<li>the local booru's port and bandwidth settings can be set again under manage services</li>
					<li>the different gui parts of the local booru are updated to new controls</li>
					<li>fixed a local booru 404 reporting error</li>
					<li>the edit subscription panel now has a 'paste queries' button that lets you add queries en masse</li>
					<li>added 'manage_file_urls' to shortcuts system</li>
					<li>added several 'get_similar_to_x' actions to the shortcuts system</li>
					<li>the manage upnp dialog now initialises its mappings on another thread and fails better when UpnP mappings cannot be fetched</li>
					<li>connection and readtimeout network exceptions are now recognised more specifically by the client. subscriptions will only delay for an hour on one of these exceptions</li>
					<li>improved the resilience of the HF login code after wake from sleep (when networking is often not available for a couple of seconds)</li>
					<li>like the recent subscription query randomisation update, subscriptions themselves are now synced in random order (this stops a subscription named 'aadvark' always getting first bite into available bandwidth)</li>
					<li>fixed import for jpegs that have unparsable exif data</li>
					<li>fixed a bug in 'next month' bandwidth estimate calculation when the month is December, wew</li>
					<li>fixed some logic that was setting max page at 165 rather than the intended 200 and added a dialog that even lets you engage the debug override at 200 if you are insane</li>
					<li>all audio mime detection and duration parsing is now done through ffmpeg. hsaudiotag is no longer needed to run the program</li>
					<li>since the old listctrl sort crash bug is still hitting some people, I've disabled sort on the old listctrl class. feel free to try to sort any listctrls now, no matter your situation. I will continue replacing the old class with the new working class over time</li>
					<li>updated another listctrl</li>
					<li>a ton of misc controller options/manager access refactoring</li>
					<li>cleared out some old code</li>
					<li>moved Time controls to their own file and added velocity and checker options stuff as well</li>
					<li>wrote a new edit panel for single controls and updated the time delta button to use it</li>
					<li>misc refactoring</li>
				</ul>
				<li><h3 id="version_284"><a href="#version_284">version 284</a></h3></li>
				<ul>
					<li>fixed subscription queries turning dead on the initial sync</li>
					<li>all dead subscription queries have been set to check again in case they can revive</li>
					<li>added query file velocity to edit subscription panel</li>
					<li>subscription network contexts now reflect the new multiple subscription query system, and are named "sub_name: query_text". as every query now counts as its own separate subscription network context, this will stop query-heavy subscriptions from throttling so much on bandwidth limits</li>
					<li>finished URLMatch object, which matches and normalises URLs into certain 'classes' like 'gelbooru post url'</li>
					<li>expanded some URLMatch subdomain options</li>
					<li>fixed some test logic in URLMatch</li>
					<li>finished the last of the EditURLMatchPanel</li>
					<li>split the 'manage network rules' dialog into two panels--it now has a 'url classes' tab</li>
					<li>wrote a panel for managing url matches</li>
					<li>added export/import/duplicate buttons to EditURLMatchesPanel</li>
					<li>wrote some URLMatches for hentai-foundry as an initial test of the system and added a temp button to add them--please check them out to see how it all works</li>
					<li>all, invert, inbox, and archive (and none, lol) thumbnail 'select' menu items now have counts</li>
					<li>invert is now at the bottom</li>
					<li>the thumbnail select menu now has local/remote entries if applicable (this typically is only true in 'all known files' file domain)</li>
					<li>added png/clipboard export/import/duplicate code to the generic new listctrl button wrapper panel, which will save a bunch of time as the png/clipboard sharing system expands</li>
					<li>added a human-facing serialisable name to all objects on the new serialisation system and tied the new import/export code into it for png presentation</li>
					<li>the edit import folder dialog will now complain (but not veto) on an ok event if any of the entered paths do not exist</li>
					<li>if you attempt to manually run an import folder while import folders are globally paused, you'll get a little popup telling you so</li>
					<li>added an experimental 'thumbnail fill' setting to options->gui. it zooms the existing thumbnails so they fill the whole thumb space. feedback on this from those who would be interested in a prettier system would be appreciated</li>
					<li>added 'paste tags' buttons to filename tagging options panel</li>
					<li>the paths/urls in the file import cache are now their own object that holds the creation/modified/source times and current status and note. this object can also hold prospective urls, tags, and hashes for future use</li>
					<li>a bunch of file import actions are faster</li>
					<li>all the different importers now use this new file import object</li>
					<li>fixed a screen position calculation in the new drag and drop filtering code that was accidentally including too many possible drop candidates on drops in the top-left corner of the main gui (if you had trouble moving tabs to the left, this should be it fixed!)</li>
					<li>fixed a problem display volume/chapter/page tags that included unicode characters in thumbnail banners and media viewers</li>
					<li>fixed a rare media display bug in the dupe filter</li>
					<li>fixed some 'C++ part of panel has been deleted' bugs in review services if the frame is shut down before delayed db info is fetched</li>
					<li>cleaned up some more 'C++ deleted' errors in import files selection dialog</li>
					<li>fixed the network context custom header panel 'add' action, which wasn't saving the value of the panel</li>
					<li>fixed a bunch of bugs in the newish QueueListBox class</li>
					<li>SynchroniseRepositories daemon will be better about quitting early on application shutdown</li>
					<li>cleaned up some pending pretty timestamp grammar</li>
					<li>when the client cannot clean up a temporary file, it will print more error information</li>
					<li>added pylzma to the 'running from source' library recommendations. this is not required, but if available it adds ZWS flash support</li>
				</ul>
				<li><h3 id="version_283"><a href="#version_283">version 283</a></h3></li>
				<ul>
					<li>subscription popups show a bit more info about their individual queries</li>
					<li>subscription popups hide the sub-query info in text and file buttons if it is the same as the subscription name</li>
					<li>subscriptions now work through their queries' downloading phases in random order (so a heavy query named 'aardvark' won't repeatedly choke the sub's other queries if bandwidth is tight)</li>
					<li>if a subscription query dies, a notification popup will now be made</li>
					<li>changed a logical edge case that may have been killing some subscription queries after the first sync</li>
					<li>re-enabled pixiv artist search, as it still uses the old gallery style</li>
					<li>added tentative support for 'ZWS' flash files</li>
					<li>if there is more than one import folder, the 'check import folder now' submenu now has a 'check all' entry</li>
					<li>TimeDelta controls that have the 'days' entry (as in thread/subscription checker options panels) now have a max period of 10 years for those _really_ slow threads</li>
					<li>fixed an issue where the 'quick namespaces' section of the new filename tagging options panel was not initialising correctly when it loaded data from a previously serialised import folder (this was the "unhashable type: 'list'" bug in the edit import folder panel)</li>
					<li>the filename tagging dialog now works on the new panel system. it also has an entry under options->gui: 'local_import_filename_tagging'</li>
					<li>polished StringMatch object</li>
					<li>polished EditStringMatchPanel</li>
					<li>html formulas now have a string match object</li>
					<li>improved parsing error system</li>
					<li>miscellaneous improvements to the parsing system</li>
					<li>misc fixes to StringMatch and parsing system</li>
					<li>the main gui will no longer interpret text drops on child frames as url drops. this fix just quashes the drop--it doesn't allow the initially desired drop on the child frame to occur. I will keep thinking about this</li>
					<li>the dupe filter's 'no media to display' text now says 'Looking for more pairs--please wait'</li>
					<li>the 'remove' media action is now labelled 'remove from view' to reduce 'is it a delete?' confusion</li>
					<li>fixed an icon initialisation order problem that meant pre-boot errors were unable to display</li>
					<li>fixed a graceful-shutdown-on-boot-error bug</li>
					<li>the custom 'listboxtags' controls now post an event on their contents changing</li>
					<li>the tag censorship panel now updates its status text when its listboxes change due to a mouse double-click event</li>
					<li>fixed file import 'source time' column sometimes showing '3e-05 years' kind of garbage that was due to a missed float->int conversion</li>
					<li>cleaned up how some page names are thrown around, which should stop some stray [USER] prefixes slipping though</li>
					<li>the adminside petition management checklistbox will now escape mnemonic characters (typically '&') and hence display them correctly on sibling pairs and so on</li>
					<li>wrote a 'help my client will not boot.txt' that explains the new debug builds and some other common fixes to try</li>
					<li>'all known files' file search domain is now hidden behind advanced mode</li>
					<li>fixed another instance of flashwin causing a failed boot</li>
					<li>cleaned up some old broken unit tests</li>
					<li>some misc help improvements</li>
					<li>updated Windows build to new version of sqlite</li>
				</ul>
				<li><h3 id="version_282"><a href="#version_282">version 282</a></h3></li>
				<ul>
					<li>rolled back to an older version of pyinstaller that does not seem to have the embedded flash window problems windows users experienced</li>
					<li>added an error handler to wx.lib.flashwin import--if it fails to import, the client will print the error to the log and thereafter show 'open externally' buttons instead of the embedded flash window</li>
					<li>created a 'filename tagging options' object to handle the instance-non-specific auto-tagging parts of the filename tagging dialog</li>
					<li>moved all the appropriate tag generation code to this new object</li>
					<li>extracted the simple and advanced panels in the filename tagging dialog to a separate panel</li>
					<li>wrote a new wrapper panel to edit filename tagging options objects directly</li>
					<li>cleaned up some tag generation code--it'll now all be siblinged/parented/censored the same way</li>
					<li>import folders now use the filename tagging options object, harmonising this tag parsing code</li>
					<li>edit import folder gui now has an add/edit/delete listctrl to manage the new tag_service->filename_tagging_object relationship (this replaces the old .txt management button and summary text)</li>
					<li>finished the StringConverter class in the new parsing engine. it applies a series of transformations to text</li>
					<li>wrote a panel to edit string converters</li>
					<li>wrote a panel to edit string converters' individual transformations</li>
					<li>updated html formulas to use string converters instead of the old cull_and_add system</li>
					<li>html formula edit panels can now edit their new string converters</li>
					<li>file lookup scripts now 'stringconvert' their file identifier strings--this should allow the 'md5:md5_hash' fix we've been talking about (i.e. by first encoding to hex and then prepending 'md5:')</li>
					<li>the help->about window now shows the client's default temp directory</li>
					<li>thumbnail regeneration--particularly full-size regen and resized png gen--should be much faster in the client</li>
					<li>the debug exes are now included in the windows build</li>
					<li>the debug exes are now included in the non-windows builds</li>
					<li>the test exe is no longer included in the windows install (can't remember it ever being useful, and it is like 10MB now)</li>
					<li>unfortunately, a recentish change to how pixiv serves gallery page results has broken the hydrus pixiv downloader. this will have to wait for the downloader overhaul, and even then, it might be _slightly_ tricky. pixiv downloader entries are now hidden, and existing pixiv subscriptions will be paused on update</li>
					<li>the thumbnail select submenu now clarifies 'all (all in x)' if all are in the inbox or archive</li>
					<li>you can now archive/delete filter from the thumbnail menu on a single file</li>
					<li>lowered the http session inactivity timeout even more, to 45 minutes</li>
					<li>fixed a couple of instances of the new subscription dialogs being unable to mass-retry failures</li>
					<li>ffmpeg parsing errors now print more info about broken file path</li>
					<li>some daemons will be snappier about shutting down on application shutdown</li>
					<li>took out the sometimes invalid 'booting' phrase in the during disk cache population status report</li>
					<li>the client will now warn you about page instability at 165 pages after one user reported instability at 175. 200 is still the strict limit.</li>
					<li>downloader pages and subscriptions will fail more gracefully if their downloaders cannot be loaded (e.g. they used a since-deleted booru)</li>
					<li>fixed listctrl panel button enabled/disabled status when the child listctrl starts empty</li>
					<li>the new listctrl can now select data in a cleverer way</li>
					<li>misc fixes</li>
					<li>misc refactoring</li>
				</ul>
				<li><h3 id="version_281"><a href="#version_281">version 281</a></h3></li>
				<ul>
					<li>subscriptions can now support multiple queries!</li>
					<li>subscriptions now use the new thread checker system to set their check periods!</li>
					<li>improved some check timing calculations to deal with subscription timestamps</li>
					<li>existing subscriptions will update</li>
					<li>subscriptions can now see any 'delay' reason on their edit page and can scrub it there as well</li>
					<li>subscriptions no longer track 'last error'. everything goes through the delay system and keeps track of reason</li>
					<li>added 'last new file time' to the subscription listctrls</li>
					<li>subscriptions now generate separate 'file button' popups for each query, and file button popups now include their name in the button label</li>
					<li>the subscription listctrl is now breddy wide. I will be adding some way of hiding columns (with persistent memory) on the new listctrl at some point in the future, so please bear with it for now</li>
					<li>manage subs now has a wrapper panel and buttons that disable when invalid</li>
					<li>tumblr simple 'video' posts should now be supported! turns out they are just mp4s</li>
					<li>in the client, static image thumbnails are now generated with opencv</li>
					<li>files that give truncated image errors should now import ok. they'll render with errors. if cv is up to date and working ok, they should have good thumbnails as well (otherwise they will have all-black thumbs)</li>
					<li>updated manage regex favourites dialog to the new panel system</li>
					<li>regex favourites are now editable under the new options->regex page</li>
					<li>ongoing import or export folders will now stop working if their respective manage dialogs are opened</li>
					<li>import folders can now stop working if the client shuts down during the initial file parse phase</li>
					<li>export folders will now stop working immediately if the client shuts down</li>
					<li>export folders can now stop working during the file copy stage</li>
					<li>the splash screen is now a little wider and taller</li>
					<li>the splash screen now has a subtext row for misc technical data</li>
					<li>the boot and exit splash screens show a bit more data about several things</li>
					<li>the repository sync daemons should be a bit snappier about responding to a client shutdown</li>
					<li>the import files dialog is now a non-modal frame! (you can now continue to use the client while this frame parses files) you can even open up several at once!</li>
					<li>the 'import file path tagging' dialog should now never be taller than its spawning screen and also slide up and left if it spawns with its bottom-right corner off-screen (this dialog is still on the old system, however, so the newer sizing stuff that does this stuff automatically is not yet available)</li>
					<li>sliding up-and-left should now also occur on spawn for frames on the new system</li>
					<li>the advanced 'process now' repository button will now disable itself if there is no work to do!</li>
					<li>if simple downloads like gallery pages are larger than 100MB, the client will throw an error (this is a stopgap for an ongoing issue)</li>
					<li>the 'maintenance and processing' page has a bit more warning text</li>
					<li>the new listctrl wrapper panel now supports menu buttons</li>
					<li>libpng's iccp terminal warnings from loading the flash/pdf/zip thumbnails should now be gone!</li>
					<li>misc refactoring</li>
				</ul>
				<li><h3 id="version_280"><a href="#version_280">version 280</a></h3></li>
				<ul>
					<li>the client should now recognise EXIF file rotation and flipping in resolution discovery, thumbnail generation, and image rendering. existing files will be borked, so will have to either be manually deleted&reimported, or wait for a maintenance routine that will retroactively fix all these</li>
					<li>videos with a non 1:1 sample aspect ratio (wew lad) should now import with correct resolutions</li>
					<li>all 'tag import options' are now managed with the new button</li>
					<li>deleted all old tag option management gui, including deleting ClientGUICollapsible entirely</li>
					<li>with the simpler tag import options, increased max page count to 200</li>
					<li>page of images downloader now has two pause separate buttons for queue and files processing</li>
					<li>the page of images downloader should no longer too-quickly blank out its parser status at the end of queue processing</li>
					<li>the default hydrus bandwidth rules now no longer has the choking 'requests per day' limitation that was messing up large mappings uploads. (it is now just 64MB/day)</li>
					<li>your hydrus default bandwidth rules will reset to this on update</li>
					<li>POST requests (which in for our purposes are always user-driven) no longer obey bandwidth rules</li>
					<li>fixed a bug when sometimes hitting the file limit or hitting a siteside 404 in the gallery downloader</li>
					<li>a rare bug due to empty string menu labels is now no longer possible. empty string labels, if they slip through, will be replaced with 'invalid label'</li>
					<li>you can no longer choose the empty string as a gui session name</li>
					<li>improved how network jobs keep track of all applicable network contexts vs the preferred session and login contexts</li>
					<li>cleaned up a bunch of login code, improved verification testing</li>
					<li>fleshed out domain login system</li>
					<li>in the networking engine, the read timeout is now six times the connect timeout--we'll see if this reduces some hydrus and other read timeout problems we've seen</li>
					<li>increased the server transaction period from 10s to 120s--we'll see if this helps reduce some spiky server POST lag or what</li>
					<li>the default tag import options panel now edits on double-click, rather than deletes. it also yes/no dialogs on a delete action. this control is still trash, but it now works more like the rest of the program</li>
				</ul>
				<li><h3 id="version_279"><a href="#version_279">version 279</a></h3></li>
				<ul>
					<li>moved the hydrus service object over to the new networking engine</li>
					<li>hydrus services now appear in the bandwidth review panel</li>
					<li>hydrus requests now obey larger network bandwidth rules (this mostly means 'global')</li>
					<li>service bandwidth usage and rules are no longer managed from manage services--it is now under review bandwidth usage, like all other network contexts</li>
					<li>updated some network engine stuff for misc hydrus states like 'server busy'</li>
					<li>fixed a bug in the server code where the session key cookie had an invalid expiration timestamp--servers should update this week to make sure new clients can log in properly</li>
					<li>hydrus network requests will force-set User-Agent as 'hydrus client/(network_version)' as the network version is used in the protocol to determine compatibility</li>
					<li>fleshed out the hydrus specific network job, giving it the various bandwidth tracking and version checking responsibilities the service object used to have</li>
					<li>moved session cookie decay (only matters for Hentai Foundry atm) to the new session manager (was previously hacked into the login manager)</li>
					<li>moved some hydrus response parsing stuff around, added content type awareness to the new network job</li>
					<li>updated several unusual hydrus 'static/test' requests used to test credentials and fetch access key and so on to the new system</li>
					<li>added a special 'test service' service to better accomodate these requests</li>
					<li>wrote a static login script for hydrus services</li>
					<li>polished up login management system overall</li>
					<li>import folders now support a 'check now' state, like subscriptions, that will cause them to check immediately</li>
					<li>import folders can be 'check now'ed from the file menu under a new submenu! if you would like to have a 'manual' import folder, try pausing it and just running it from this menu!</li>
					<li>added an optimisation to the file search algorithm to search ratings queries super fast when they lack tag or file system preds to otherwise speed them up</li>
					<li>updated the booru presets that now support https to be https</li>
					<li>added a 'restore defaults' button to the manage boorus dialog--you can restore specifics or all of them</li>
					<li>optimised how fading thumbnails are blitted to screen, which may provide a huge performance boost for high-res/small-thumb clients</li>
					<li>pages that have been renamed by the user will no longer be rename-overwritten by any auto-renaming system (currently just thread watchers, I think, but this will expand in future). unfortunately, this is not retroactive--only pages renamed from now on will be aware that they were user-renamed</li>
					<li>in advanced mode, the pages menu now states how many pages are currently open</li>
					<li>the 'page of images' downloader will now say '(x already in queue)' when it reports how many urls were found, if any were already in the queue. (this should clear up some confusion where it would previously say '0 new urls' even when it found some stuff)</li>
					<li>the gallery downloader will do essentially the same, but on a per-page basis. the text is a little crushed, so I may revisit this</li>
					<li>fixed an issue with the manage services dialog not being able to rename dupe-named services on edit subdialog ok</li>
					<li>the manage services dialog now uses the new listctrl! the listed services are no longer a horrific unsorted mess!</li>
					<li>fixed the file import status button not showing on raw url downloader or import folder edit dialog</li>
					<li>improved how some directory tree merging code deals with read_only files in the source</li>
					<li>maybe fixed some unusual selection behaviour with the booru selection popup dialog. it now has a real ok button, rather than a mickey-mouse hidden one</li>
					<li>completely deleted the old networking engine!</li>
					<li>cleaned out some unused imports from the networking code and related entries from running_from_source.html</li>
					<li>changed up and fixed some odd bugs in how how repositories test some error/isfunctional stuff vs regular paused status</li>
					<li>hydrus network contexts now have a prettier name</li>
					<li>ip address-based network contexts will no longer spam the bandwidth tracker with their useless subdomains</li>
					<li>network jobs that are unable to attempt validation or login will now error immediately rather than waiting indefinitely</li>
					<li>fixed up a bunch of test code that was broken due to the mismatch of network engines</li>
					<li>broke some other test code due to the network engine transfer!</li>
					<li>the client is more resilient about broken 'twisted' installs, and _should_ be able to boot without it. this may or may not apply to the built release--more work can be done here</li>
					<li>some network job refactoring</li>
					<li>clientside service code cleanup</li>
					<li>misc fix that I can't remember</li>
					<li>misc cleanup</li>
					<li>misc refactoring</li>
				</ul>
				<li><h3 id="version_278"><a href="#version_278">version 278</a></h3></li>
				<ul>
					<li>fixed the tumblr raw url converter to now point to the data.tumblr.com domain</li>
					<li>added a hardcoded ssl verify exception for data.tumblr.com, which has an incorrectly defined ssl cert (at least for public-facing interactions), wew</li>
					<li>all existing db urls and file import cache urls for media.tumblr.com will be updated to data.tumblr.com on update! (everything _should_ just magically work again)</li>
					<li>fixed apng import, which the decompressionbomb detection code was not handling correctly</li>
					<li>collapsed the different instatiations of the 'file import status' button down to one class</li>
					<li>the file import status button now has a right-click menu that supports 'retry failures' and 'delete processed', if applicable</li>
					<li>misc import status cache cleanup and refactoring</li>
					<li>you can now edit or completely turn off the [404] and [DEAD] thread watcher page name prefixes under options->downloading</li>
					<li>thread watchers should more reliably keep 404 status</li>
					<li>'open selection in a new page' now preserves file order!</li>
					<li>'view this file's duplicates' now sorts the files!</li>
					<li>options->gui now has an option to change how often 'last session' is saved</li>
					<li>'last session' will no longer autosave to the database if there are no changes</li>
					<li>tags exported to neighbouring .txt files are now correctly sibling-collapsed</li>
					<li>tags imported or exported via neighbouring .txt files are now correctly tag censored</li>
					<li>the manage tags dialog will now protest with a yes/no dialog if you attempt to cancel it with uncommitted changes</li>
					<li>the manage parents and siblings dialogs will now protest with a yes/no on an ok event if there are 'uncommitted' pairs in the lower boxes (e.g. if you forgot to click the 'add' button)</li>
					<li>fixed an issue that would sometimes stop old sessions from loading properly</li>
					<li>the duplicates page now does its maintenance jobs in modal popups!</li>
					<li>attempting to apply a duplicate status to more than 100 pairs now throws up a warning yes/no dialog</li>
					<li>the manage urls dialog now has copy/paste buttons</li>
					<li>added a (somewhat debug) option to disable the mouse hide&anchor behaviour on slow Windows canvas drags to options->media</li>
					<li>added a 'regen all phashes' command to the database regen menu</li>
					<li>the disk cache options in help now have a help button to explain good values for ssd vs hdd</li>
					<li>the edit bandwidth rules dialog now uses the new listctrl</li>
					<li>merged the old and new login managers</li>
					<li>misc login work</li>
					<li>misc refactoring</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_277"><a href="#version_277">version 277</a></h3></li>
				<ul>
					<li>expanded the domain manager into a legit serialisable object that holds data and saves itself on changes. to begin with, it supports custom http headers for particular on network contexts</li>
					<li>the global User-Agent (which now defaults to 'hydrus client') is set through this new manager, as attached to the 'global' network context</li>
					<li>wrote a basic panel to edit custom http headers under services->manage network rules (this panel will be fleshed out with more in future--please ignore if you are not an advanced user)</li>
					<li>wrote a panel to edit an individual custom http header</li>
					<li>wrote a panel to edit/select network contexts. this will get a bunch more use elsewhere as the overhaul continues</li>
					<li>flushed out and tested the new popup yes/no button system</li>
					<li>sanakucomplex.com has a User-Agent entry in the new custom header system--on the first sank request, you will be presented with a yes/no popup asking if it is ok to use.</li>
					<li>if you ok the user-agent, sankaku now seems to work again!</li>
					<li>sankakucomplex.com network context will get some specific conservative bandwidth rules (80 rqs per 7m, 1 rq per 4s) on update</li>
					<li>added an option to options->gui to reverse the page tab shift behaviour</li>
					<li>'don't scroll down on key navigation event if thumb is at least this % visible' value is now 75%. it is also editable under options->gui</li>
					<li>the hydrus icon used on frames is now the non-transparent version that shows up better on dark backgrounds</li>
					<li>the standard hydrus.ico used in web favicons and the executable builds is now also non-transparent (this should also propagate up to OS shortcuts and taskbar icons wherever the frame icon is not inherited)</li>
					<li>file export drag and drop events will now defocus the currently focused media on successful drop (e.g. if you drag a video to an external media player, it will stop rendering clientside), just like for open externally</li>
					<li>database analyze maintenance should be more reliable with respect to fresh repository syncs</li>
					<li>reduced default impermanent session timeout in new networking engine to 60m (should fix/reduce some hentai foundry 503s)</li>
					<li>misc ui improvements and speedup</li>
					<li>misc fixes</li>
				</ul>
				<li><h3 id="version_276"><a href="#version_276">version 276</a></h3></li>
				<ul>
					<li>the new thread watcher object will no longer produce check periods shorter than the time since the latest file. this effectively throttles checking on threads that were posting very fast but have since suddenly stopped completely</li>
					<li>thread watchers now parse their thread subject and place this in the left management panel</li>
					<li>thread watchers now name their pages based on the thread subject, if one exists</li>
					<li>an option to permit or deny thread watchers renaming their pages is now under options->downloading</li>
					<li>dead and 404 threads now disable their checker pause button--to attempt to revive, hit 'check now'</li>
					<li>thread watchers now preface their page name with [DEAD] or [404] when appropriate</li>
					<li>misc thread watcher code improvements</li>
					<li>added basic import support for zip, rar, and 7z files. they get no useful metadata (yet) and have a default 'archive' thumbnail</li>
					<li>the client will now by default detect and not import decompression bombs before they blat your computer. an option to allow them nonetheless is under options->media</li>
					<li>the server will now not parse or accept decompression bomb uploads in POST requests</li>
					<li>added a 'refresh all pages' entry to page of pages's right-click menu</li>
					<li>added 'send this page down to a new page of pages' to page right-click menu</li>
					<li>added 'send all pages to the right to a new page of pages' to page right-click menu</li>
					<li>fixed a page of pages drag and drop issue when dropping the last page of a notebook onto the same notebook tab</li>
					<li>fixed some index calculation problems when DnDing page tabs to the right on the same notebook</li>
					<li>sending a refresh event to a 'show selection in a new page' page (which has no search predicates and so cannot 'refresh' its search) will now trigger a sort event (like importers got last week)</li>
					<li>thumbnails at the bottom of the current view but are at least 90% in view will no longer scroll into view when selected</li>
					<li>click events will no longer scroll thumbnails that are semi-out of view into view</li>
					<li>improved how all 'wait until the client ain't so busy' checks work. importers that have a whole slew of 'already in db' to catch up on should now not clog the gui so much</li>
					<li>similarly, under ideal conditions where nothing is busy, importers will iterate over their files more quickly</li>
					<li>the network engine now has a 'verification' loop that doesn't do anything yet, and a stub domain engine is generated to be consulted in this</li>
					<li>wrote some verification code, extended popup messages to support yes/no questions</li>
					<li>polished some domain engine code</li>
					<li>fixed an issue where file repositories were not recording deleted files in certain cases</li>
					<li>all file repositories will be reset on update</li>
					<li>the date entries on the review bandwidth bar chart now have leading zeroes on 0-9 months to ensure the sort correctly (this month's 2017-10 entry was sorting before 2017-8, wew!)</li>
					<li>the migrate database dialog now shows approximate total thumbnail size</li>
					<li>gave the migrate database help a quick pass</li>
					<li>gave the 'help my db is broke.txt' file a quick pass</li>
				</ul>
				<li><h3 id="version_275"><a href="#version_275">version 275</a></h3></li>
				<ul>
					<li>if you hold shift down while dropping a page tab, the client will not 'chase' that page to show it (try it out!)</li>
					<li>the gui will be more snappy about dealing with drag-and-drop drops (of types file import, page tab rearrange, and url drop), returning the mouse to normal state instantly on drop and dealing with the event in a subsequent action</li>
					<li>dropping url text on the client will specifically inform the source program not to delete the dragged text (that the operation was copy, not move), if it is interested in hearing that</li>
					<li>page drag-and-drops should transition a little less flickerily</li>
					<li>all file import status objects can now track 'source time', typically to represent upload time</li>
					<li>file imports now populate 'source time' based on the earliest of creation/modified time! (this will be used later to parse as a tag)</li>
					<li>thread watchers now populate 'source time' based on post time!</li>
					<li>finished a watcher options object for the new thread checker system</li>
					<li>wrote a panel to edit watcher options</li>
					<li>converted the thread object to the new watcher system</li>
					<li>thread watchers now have two pause buttons--one for the file queue, one for the checker</li>
					<li>compressed thread watcher ui layout</li>
					<li>converted the thread left-panel ui and options->downloading page to reflect the new watcher system</li>
					<li>improved the watcher options to generate better timings for fresh threads</li>
					<li>cleaned up some thread watcher check time code</li>
					<li>the total/selected mime summary on the status bar is a little prettier and will now report by individual mime sometimes</li>
					<li>generating the total/select mime summaries are now faster on pages with >1,000 files (it'll just use 'file')</li>
					<li>a 'refresh' action on an import page now triggers a sort event</li>
					<li>added 'flip_darkmode' shortcut command to 'main_gui' and 'media_viewer' shortcut sets</li>
					<li>added copy_file/path/hash/bmp actions to the 'media' shortcut set, removed the hardcoded ctrl+c for copy_file. I added ctrl+c to the defaults, but existing users will have to re-add it manually if they want it!</li>
					<li>simplified some page ui update code</li>
					<li>import pages will no longer update their left-panel ui (which uses a bit of cpu) when they are not in view</li>
					<li>polished some new string and url matching code the domain engine will be using</li>
					<li>wrote a panel to edit string match objects</li>
					<li>wrote a new panel to handle simple ordered lists of data in a better way</li>
					<li>wrote most of a panel to edit url match objects</li>
					<li>misc domain manager work</li>
					<li>fixed an issue with the old listctrl where object name de-duplication was sometimes not permitting (1)-type names to be cleaned up</li>
					<li>fixed some inelegant time duration->text conversions</li>
					<li>improved complete process shutdown reliability when some downloads are waiting on bandwidth on shutdown</li>
					<li>did some misc listctrl update work</li>
				</ul>
				<li><h3 id="version_274"><a href="#version_274">version 274</a></h3></li>
				<ul>
					<li>the help menu now has an easy on/off check entry for the darkmode colourset</li>
					<li>changing any individual colour or the entire colourset will now immediately refresh almost all custom-coloured controls with the new colour</li>
					<li>added a BUGFIX option to options->gui to permanently fix all discord file drag-and-drop events (as long as they contain <= 10 files and total < 50MB)</li>
					<li>you can now set specific 'open externally' launch paths on a per-mime basis under options->files and trash</li>
					<li>improved error reporting on a bad file launch</li>
					<li>improved the network engine to recover from and reattempt in-progress response read errors (previously reported as ReadTimeout)</li>
					<li>fixed the 'scroll to focused thumbnail' calculations on key events (when hitting up/down arrow key on thumbnail grid, the page wasn't scrolling correctly as needed)</li>
					<li>known urls no longer display with the scheme (http or https) in the media viewer top-right summary</li>
					<li>known urls in the media viewer top-right summary now tooltip their full url</li>
					<li>wrote a new button for editing tag import options. it has a good summary tooltip. it is only in the manage import folder dialog atm, but I will replicate it across the rest of the program in the coming weeks</li>
					<li>in some situations, the file import status window will list some timestamp note info for 'already in db' and 'deleted' statuses. see if you like it</li>
					<li>the new listctrl will generally give its data to other consumers in ui sorted order (this fixes some stuff like 'copy sources' in the file import status window, which was copying them in random order)</li>
					<li>manage tag parents now uses the new listctrl (and is hence now safely sortable)</li>
					<li>manage tag sibings now uses the new listctrl (and is hence now safely sortable)</li>
					<li>some behind-the-scenes of manage parents/siblings is a bit neater</li>
					<li>improved some thumbnail internal media structures to fetch specific media based on hash much much faster, particularly for pages with 10,000+ thumbs. this should speed up large imports and other content update events that can result in thumb redraws</li>
					<li>fixed an issue where dismissing a popup message could spawn the entire result of the queue, ignoring the 'show 10 max' rule</li>
					<li>completely finished the menu rewrite! all menus now work on the new system</li>
					<li>deleted a ton of old and now obselete menu event processing code</li>
					<li>some boot/shutdown terminal printing should be more reliable</li>
					<li>misc refactoring</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_273"><a href="#version_273">version 273</a></h3></li>
				<ul>
					<li>converted the gui colour options to the new options system</li>
					<li>added a 'darkmode' colour set and extended the colour options page to support it!</li>
					<li>added a secret discord-compatible drag and drop mode. start a file transfer drag and drop with ctrl held down to initiate. keep ctrl held down, as this is secretly a 'move' drag and drop, and you want to keep it a 'copy' one. it should work for discord dnd, at least to the web version. I have an idea on how to do this better, but feedback on this would be appreciated.</li>
					<li>converted 'import options - files' collapsible panel to a button that launches a dialog. this reduces total gui object count when many importers are open and reduces overall ui lag and limits. the button shows a summary of its current options as its tooltip. furthermore, all of this sometimes confusing nomenclature is now uniformly presented as 'file import options'</li>
					<li>added a BUGFIX option to gui options page to force hover windows to display at all times</li>
					<li>improved last week's gelbooru 404 fix--page urls generated pre-v272 should now be more reliable</li>
					<li>in a further attempt to improve workspace support, popup messages will no longer update in any way if the mouse is not on the same display as the main gui</li>
					<li>fixed an issue where dupe import urls could be queued up in a file import queue if they came in the same batch. this was essentially harmless but lead to some mixed x/y progress counts and row indices</li>
					<li>fixed an issue where url drops were not filling in the url entry when a new raw url page had to be created on a currently selected page of pages. this may have affected a couple of other page spawning situations</li>
					<li>may have fixed an issue with the mouse shortcut-setting button, where for some users scroll events were not registering</li>
					<li>manage subs dialog now has the new help button up top</li>
					<li>manage subs dialog's sub verbs are now wrapping into a single menu button that I can expand more easily in future</li>
					<li>sped up thumbnail access a bit on certain well-defragged hard disk drives</li>
					<li>made thumbnail fading a little smoother in some situations</li>
					<li>rendered images that aren't otherwise pushing any memory limits will now stay cached for less time (10 mins) while thumbnails will hang around for longer (24 hours)--this was previously 20 mins for both. you should now see less thumbnail page 'refreshing' after returning to the client after inactivity</li>
					<li>sketched out basic classes for login and domain engines</li>
					<li>sketched out basic class for url matching</li>
					<li>sketched out basic classes for matching and transforming strings in certain login/domain situations</li>
					<li>updated the manage export folders dialog's listctrl to the new control</li>
					<li>updated the last media viewer menu code to the new system</li>
					<li>removed some old proxy code that was sometimes intruding on the new networking engine. proper proxy support will come in a later version</li>
					<li>fixed some test code</li>
					<li>misc refactoring</li>
				</ul>
				<li><h3 id="version_272"><a href="#version_272">version 272</a></h3></li>
				<ul>
					<li>finished moving the last misc network consumers to the new networking engine</li>
					<li>greatly simplified and harmonised some of the new network job response processing</li>
					<li>the gelbooru 404 issue should be fixed!</li>
					<li>added a parsing patch for rule34hentai.net's mp4 links, which was causing 'link not found' failures on the hydrus parsing end. please tell your R34 subs to retry their fails</li>
					<li>wrote a patch (actually updated an existing patch that had fallen to bitrot) for the danbooru booru (and extended it to anything else with 'Running Danbooru' in its html) to try to fetch the full-size image if one exists. this may not last long, so I do not recommend regular users rely on it, but feel free to play with it until I have a better fix in the new downloader engine</li>
					<li>you can now add 'thread watcher' to the default import tag options. it has 'filename' and explicit tags options. unlike gallery downloaders, thread watchers will not inherit from the 'default' import tag options entry--you need to set the specific entry</li>
					<li>added regular number key support to the new shortcut system</li>
					<li>fixed the borked splash screen drag coordinate calculation</li>
					<li>heavy session loads should be more polite to CPUs and window managers</li>
					<li>pages should generally spawn with their proper name (rather than a flicker of 'page') no matter their spawning context</li>
					<li>fixed osx page tab drag-and-drop coordinate calculations</li>
					<li>figured a way to make os x page tab drag-and-drop start on a single left-mouse-down event</li>
					<li>in an effort to improve popup display on systems with virtual desktops, the popup message parent window will now not go from hidden to shown while the mouse is on a display screen other than the main gui</li>
					<li>fixed a wacky bug where clicking on a page tab, then on its sort dropdown, then on a different tab, would invoke the Deep Ones to commence a page tab drag and drop event</li>
					<li>fixed an index issue when unclosing some pages in certain orders</li>
					<li>increased pre-processing disk cache population time</li>
					<li>tweaked regular memory maintenance disk cache population timings</li>
					<li>fixed shortcut-driven tag petition events when the tag has a sibling (e.g. if you have sibling pair (a->b) and a shortcut (key->flip a), hitting 'key' will now correctly flip a (appearing as b) on and off in the media viewer)</li>
					<li>fixed some ugly layout sizing calculations on the path tagging dialog</li>
					<li>updated the path tagging listctrl to the new control</li>
					<li>updated the quick namespaces listctrl to the new control</li>
					<li>updated the regexbutton's menu to the new menu system</li>
					<li>fixed some typo errors with the regexbutton's entries!</li>
					<li>removed the old gallery downloader unit tests, as these operated on the old network and downloader engine--new, granular tests will be reintroduced for the new parsing components as they are written</li>
					<li>cleaned up some shortcut key code</li>
					<li>misc refactoring</li>
					<li>misc improvements</li>
				</ul>
				<li><h3 id="version_271"><a href="#version_271">version 271</a></h3></li>
				<ul>
					<li>fixed an issue where the notebook 'motion' event was being consumed, disallowing the regular OS 'highlighting' on tab mouseover</li>
					<li>fixed page tab drag and drop crash for Linux</li>
					<li>fixed page tab drag and drop coordinate calculation for OS X</li>
					<li>page tab drag and drop should now work for all platforms</li>
					<li>new 'page of pages' pages now start with a blank file search page</li>
					<li>fixed several issues with row display in the new listctrl</li>
					<li>added a # index column to the file import status window, so you can resort the 'to be imported' order reliably</li>
					<li>fixed an issue where the 'delete_file' application command was not firing on an appropriately mapped shortcut</li>
					<li>fixed an issue where automatic bandwidth override would only fire if its page was in view. it now occurs at all times</li>
					<li>fixed an issue where the file import status frame, as launched from manage subscriptions, would sometimes be non-responsive (typically for Linux)</li>
					<li>fixed the 'pattern shortcuts' button on the export files dialog, which was misbehaving for certain choices for some window managers</li>
					<li>fixed an unusual error where middle-clicking to create a new page while a menu was open would lock the application from receiving new key/mouse events until program focus was lost, wew lad</li>
					<li>updated some old network code to the new engine</li>
					<li>added some delay to network connection error reattempts so that instant fails due to local network disconnect (e.g. while computer is waking from sleep) do not consume all the reattempts too quickly</li>
					<li>greatly simplified low-time-delta bandwidth testing and reporting, improving essential accuracy and overall feel</li>
					<li>gallery download errors will now print additional info to the log--let's see if we can gather more info on the gelbooru 404s</li>
					<li>wrote a patch for users of 2.X opencv who were running from source, who were unable to boot</li>
					<li>due to hardware failure, had to make a new Linux build computer. some libraries are updated, but build _should_ be the same--let me know if not</li>
					<li>updated to opencv 3.3 for all releases</li>
					<li>misc old menu code updates</li>
				</ul>
				<li><h3 id="version_270"><a href="#version_270">version 270</a></h3></li>
				<ul>
					<li>added page tab drag and drop (windows only, have to iron out critical bugs for linux/os x).</li>
					<li>dragging onto the middle of a normal tab will put the source tab there</li>
					<li>dragging onto the edge of a tab will try to insert the tab there</li>
					<li>dragging onto the middle of a page of pages tab will insert the tab onto the end of that page's list</li>
					<li>dragging a page up a notebook level will work ok</li>
					<li>dragging a notebook into itself will do nothing and not crash the client :^)</li>
					<li>new pages that come from the main gui level (such as from pages menu or file import) now open in the deepest open notebook (previously, they would always appear in the top row)</li>
					<li>fixed some misc page of pages bugs</li>
					<li>fixed a bandwidth calculation that meant 1s time delta rules were working at 50% capacity (e.g. 1rq per 1s rule for domains were actually running at 1rq per 2s)</li>
					<li>improved a bandwidth estimate calculation that was cutting out early in some situations for large time deltas</li>
					<li>tag manager's page up/down shortcuts no longer mistakenly navigate the archive/delete filter</li>
					<li>added a network timeout option to the 'connection' options page</li>
					<li>reduced some hover window show/hide flicker when the media viewer is fullscreen and the OS has a taskbar that pops in for non-fullscreen windows (this mostly affected Linux)</li>
					<li>fixed a long-time issue with yes/no dialog layout</li>
					<li>improved some rendering of EXIF-rotated and -flipped jpegs. I expect to add more support for this (and retroactive image metadata-parsing to figure out correct reversed resolution--atm rotated images remain stretched) in the coming weeks</li>
					<li>fixed an error when cancelling the booru-picker dialog from the page chooser dialog</li>
					<li>if no files or all files are selected, the 'invert' select choice will no longer be shown (in this case, it redundantly does the same job as 'all' and 'none')</li>
					<li>fixed an issue where setting namespace sort as default would persist through a client reboot</li>
					<li>fixed an issue where force idle debug mode was not waking sleeping daemons</li>
					<li>increased frequency of mappings processing reporting</li>
					<li>wrote an exception and the needed maintenance code for the 'repairfilesystem' dialog to allow a proceed action if the only remaining incorrect paths are thumbnail paths--in this case, the client will create empty prefix folders and prompt the user to regen thumbnails</li>
					<li>export filenames are now clipped to make <255 total characters in path</li>
					<li>removed the old 'processing phase' option, which was no longer in use</li>
					<li>removed the proxy settings from the 'connection' options page--the new engine does not use this old system, but if there is demand, a more flexible system will return</li>
					<li>misc image rendering pipeline updates</li>
					<li>misc improvements</li>
				</ul>
				<li><h3 id="version_269"><a href="#version_269">version 269</a></h3></li>
				<ul>
					<li>nested pages now supported!</li>
					<li>moved all page management (session load/save, new/close page, page navigation, page name maintenance, etc...) code from the main gui to the new PagesNotebook object</li>
					<li>expanded the session object to hold nested page information</li>
					<li>added a 'page of pages' page to the 'special' new page entry!</li>
					<li>numerous other gui-notebook page-related event fixes and improvements</li>
					<li>figured out cross-platform menu and other mouse event support for nested notebooks, but there may still be holes--please let me know if your new pages ever appear in the wrong tier!</li>
					<li>ways to move pages up and down rows will come in the coming weeks!</li>
					<li>main gui status bar now shows total bandwidth this session as well as current speed</li>
					<li>added a cog button to network job controls that allow for manual- and auto-bandwidth-override</li>
					<li>added a 'blocked?' column to the review bandwidth panel to quickly see which network contexts are currently available to do work</li>
					<li>added a button to reset 'default' and 'global' bandwidth rules to review bandwidth panel</li>
					<li>merged the network request start test and consumption code into one transaction, stopping some accidental overconsumption when the engine was under heavy load</li>
					<li>did some logic work to make sure unusual network context rule/usage situations are visible on the review bandwidth panel for editing</li>
					<li>network jobs now report more information as they get ready to start, including while they are held up waiting for a download slot</li>
					<li>added a simple 'network profile mode' to the debug menu that atm just prints a summary of new jobs</li>
					<li>fixed an error that could sometimes be a crash when 'review services' was opened while no pages were open in the main gui</li>
					<li>fixed the pixiv login test button with a hacky workaround--I will make extensive proper login testing gui when I move to the login engine</li>
					<li>fixed an issue in the youtube downloader</li>
					<li>if the bandwidth or session managers are missing on boot, empty defaults will be created in their stead</li>
					<li>bumped the max page limit up to 150--I expect to increase it more in the coming months as I rejigger how some gui stuff is laid out</li>
					<li>renamed 'sort by age' to 'time imported'</li>
					<li>fixed and improved some test code</li>
					<li>cleaned up some shutdown code</li>
					<li>should have fixed a rare unicode conversion issue when printing to log</li>
					<li>misc improvements</li>
				</ul>
				<li><h3 id="version_268"><a href="#version_268">version 268</a></h3></li>
				<ul>
					<li>split the sort dropdown into two, splitting the sort type and sort order</li>
					<li>file sorting works more intelligently behind the scenes in several ways</li>
					<li>added 'sort by number of tags' to sort options</li>
					<li>session pages now remember their sort status!</li>
					<li>sessions also more reliably remember their actual thumbnail order for all pages (typically, this matters for importers atm)</li>
					<li>network job controls now report an estimate of how long they will have to wait for bandwidth</li>
					<li>subscriptions will now show some 'no more bandwidth to download files' text if they have to stop because of bandwidth rules</li>
					<li>subscription 'should I start/continue' testing now has a little padding to forestall some potential unexpected long delays in operation due to edge cases</li>
					<li>the edit subscription dialog now uses the new file import status control</li>
					<li>fixed an issue with hentai foundry filters not applying (they added some categories since the downloader last worked, breaking the POST form), hence hiding most non-vanilla results</li>
					<li>finished the 'database->migrate database' dialog and its help and removed the 'under construction' labels. the new help page is also now linked from the standard index.html</li>
					<li>fixed an issue where pages would sometimes never initialise (due to being queued up after an infinite job like the network engine's mainloop!)</li>
					<li>improved how all long-job threads are spawned</li>
					<li>improved some more thread scheduling logic that meant some long-term jobs could be stacked undesirably</li>
					<li>expanded how the new listctrl updates and deletes its data</li>
					<li>reduced flicker on the new listctrl update events</li>
					<li>the file import status window now uses the new listctrl</li>
					<li>the manage subscriptions dialog now uses the new listctrl</li>
					<li>collections now track their tags more accurately</li>
					<li>moved the 'delete original files after success' checkbox up to reduce misclicks on ok'ing the file import dialog and added a bit of red warning text whenever it is on</li>
					<li>sped up some behind-the-scenes content processing for large pages</li>
					<li>improved how the program cleans some things up during exit</li>
					<li>the issue with some clients not clearing their exit splash screen until a mouseover event should be fixed</li>
					<li>at 120 open pages, the client will inform the user about the approaching max page limit</li>
					<li>by default, import folders no longer delete anything. default is to ignore original files in all cases</li>
					<li>deleted some old unusued code</li>
					<li>misc cleanup</li>
					<li>misc improvements</li>
				</ul>
				<li><h3 id="version_267"><a href="#version_267">version 267</a></h3></li>
				<ul>
					<li>drag-and-dropping a 4chan or 8chan url onto the client will now automatically open a thread watcher for that url</li>
					<li>fixed an issue where web domain or subscription network contexts that included unicode characters in their context data were unable to serialise and save to the db, causing error spam when the bandwidth manager attempted to save itself</li>
					<li>subscriptions will now show a network job control in their popup as they do network work</li>
					<li>subscriptions will cancel more reliably during gallery parse</li>
					<li>subscriptions now have some 'delay' logic that will stop them sometimes restarting as soon as they are cancelled or otherwise have to stop mid-work</li>
					<li>subscriptions will now tolerate up to five 'already in cache' urls per page parse until it considers the page 'already seen'. this is to catch the odd additional late insert and avoid the problem of a page updating and shuffling everything up one as the subscription walks through pages</li>
					<li>maintenance modal popup messages should no longer appear if their jobs are very quick</li>
					<li>queued up modal popup messages will no longer flicker their dialogs on a de-minimise</li>
					<li>should have fixed an issue where modal popup messages could sometimes error out on a close attempt, locking the client's whole gui and requiring a force quit</li>
					<li>fixed an issue where the modal popup message dialog was OKing on a close attempt of a non-cancellable job, despite presenting user text indicating otherwise</li>
					<li>did a bunch of data work on pages</li>
					<li>page tab names will now be clipped to 20 characters by default</li>
					<li>pages now show (num_files) after their name by default, although you can set this for only import pages or turn it off completely</li>
					<li>options for these new behaviours are in options->gui--and page names will update immediately on dialog ok</li>
					<li>subscription and import folder 'show files' events (and a couple of other misc occasions) will now launch their page tab with the sub/folder name rather than a flat 'files'</li>
					<li>wrote a new listctrl class with custom sort code that does not suffer from the 'crash when sorted while many pages open' bug. it also handles data in a simpler way for hydrus</li>
					<li>review bandwidth listctrl now uses this new class and should now not crash your client. I will replace all the other listctrls with the new class over the coming weeks</li>
					<li>temporarily, no old listctrls will auto-sort themselves (as this causes a crash for many users)! if you do not suffer from the crash, please sort them yourselves for now</li>
					<li>reduced some large-scale gui import lag:</li>
					<li>reduced content processing CPU load on clients with many thumbnails open</li>
					<li>massively reduced content processing CPU load on non-current pages</li>
					<li>offloaded newly-imported file thumbnail detection and generation to a non-gui thread</li>
					<li>migrate database dialog now lets you move the whole database and all portable locations, which requires a client shutdown</li>
					<li>the raw url downloader will no longer have a problem with pasted url lists that include empty newlines</li>
					<li>all the downloaders/importers now sleep on cleverer event objects so they will burn less idle cpu and wake as soon as they have new work to do</li>
					<li>fixed and otherwise improved some gallery downloader timing logic</li>
					<li>hdd import pages now use the file import status control</li>
					<li>the thread watcher's controls now try to wrap in a single sizer. it uses less space, but might sperg out, let me know if it is a problem. I'll replace the whole watcher timing system in the new engine anyway</li>
					<li>fixed a gelbooru (and possibly others) booru parsing bug that meant half of the pages in the gallery walk were being skipped (e.g. 'mogudan' was producing ~350 files when there were actually 690 in the list)</li>
					<li>fixed some dialog panel layout scrollbar-cutoff in sevaral Linux places and perhaps elsewhere</li>
					<li>cleaned debug menu a little and added a save 'last session' entry</li>
					<li>fixed an issue where some kinds of media would error on notification of new url association</li>
					<li>clients will now save small transaction progress reliably within ten seconds no matter how idle they are</li>
					<li>deleted the old 'gui capitalisation' option--I never got around to expanding it beyond a handful of menu labels, it was always too much to work on for too little reward</li>
					<li>improved support for certain broken videos--these will import ok, but full rendering might be borked to different degrees, so let me know how it goes.</li>
					<li>cleared out some old content processing code</li>
					<li>cleared out some old unused db data</li>
					<li>removed all old 'waiting politely' download settings and gui code</li>
					<li>misc prep work for wx update</li>
					<li>misc gui code refactoring</li>
					<li>misc downloader cleanup and timing tweaks</li>
					<li>misc improvements</li>
				</ul>
				<li><h3 id="version_266"><a href="#version_266">version 266</a></h3></li>
				<ul>
					<li>converted gallery downloaders to the new network engine</li>
					<li>greatly simplified how gallery downloaders report network activity and converted them to show the new network job control as well</li>
					<li>subscriptions also work on the new engine but will not show network gui yet</li>
					<li>hacked hentai foundry and pixiv login to use the new network engine</li>
					<li>successful logins to hf or pixiv now print to the log</li>
					<li>the new network engine now clears temporary session cookies after 90 mins of inactivity</li>
					<li>gallery downloaders and subscriptions now use the new 'downloader instance' and subscription bandwidth rules. by default, this means downloaders will do small bursts every five minutes and that subscriptions will do at most 256MB per day</li>
					<li>subscriptions' bandwidth use is now listed by name in the review bandwidth panel</li>
					<li>subscriptions use a new bandwidth test to determine if they should start or continue based on current bandwidth limits. it should mean subs do a good bit of work and then stop when they are supposed to without ever waiting on bandwidth more than 30s or so</li>
					<li>thread watcher and page of images now ignore bandwidth limits when doing their 'page' fetching part</li>
					<li>gallery page fetching will ignore bandwidth rules (in order to stop gallery walk desyncs from having to wait a long time)--it will fetch one page per five seconds</li>
					<li>the thread watcher and page of images importers now work on their files and page-checking simultaneously--also, the page of images will process its page queue at any time, not only when the current file queue is finished</li>
					<li>the gallery downloader page now works on its files and gallery page parsing simultaneously!</li>
					<li>wrote a 'file import status' control to better wrap up the import summary, progress gauge, and file import status button into one panel</li>
					<li>thread watchers now use the new file status control</li>
					<li>'page of images' downloaders now use the new file status control</li>
					<li>the gallery downloaders now use the new file status control</li>
					<li>all network jobs will now retry up to four times on the BadStatusLine ConnectionError, which seems to be a TLS (https) negotiation timeout/remote termination</li>
					<li>all requests on the new network engine will now timeout after ten seconds</li>
					<li>they will also retry on generic timeout errors</li>
					<li>popup messages can now be shown in 'modal' mode as a dialog that prohibits interaction with the rest of the client.</li>
					<li>these will not boot while the client is minimised</li>
					<li>database maintenance routines will now all publish messages like this</li>
					<li>'migrate database' panel now publishes a modal message when it does a file rebalance</li>
					<li>rewrote the controller-side pubsub pipeline to respond faster and consume fewer program resources, particularly for the client</li>
					<li>import pages now update themselves in a less spammy way behind the scenes, meaning more active pages can be open at once without them stepping on each other and clogging things up</li>
					<li>simplified how importers set their status information in several ways</li>
					<li>reduced a swath of pubsub spam related to content updates</li>
					<li>improved how spammy small jobs are written to the profile log</li>
					<li>reduced text flicker on all download pages</li>
					<li>more misc pubsub improvements</li>
					<li>reduced some gui update/refresh spam on hidden pages</li>
					<li>cleaned up a bunch of database->gui message reporting and cleanup code</li>
					<li>added close other/left/right pages to tab right-click menu</li>
					<li>the top-right media hover window will no longer refit-flicker on a ratings change</li>
					<li>wrote a new panel wrapper for listctrls that handles the underlying row of buttons in a neater way and automatically disables them if they are nullipotent (mostly, this means greying out 'delete' buttons when nothing is selected)</li>
					<li>several listctrls use this new panel</li>
					<li>when it is not strictly necessary, videos that are >30MB will no longer use the CPU-expensive manual frame count parsing</li>
					<li>a problem where newly reloaded thread watchers could sometimes stick in a 1/1 initialisation state _should_ be fixed</li>
					<li>fixed gelbooru url parsing (they stopped using the janky redirect.php urls)</li>
					<li>fixed an issue that meant ipfs pin was erroring when trying to show gui-side</li>
					<li>'page of images' downloaders now protest if they are told to close while working</li>
					<li>some small layout and status text fixes</li>
					<li>adminside petition processing now has a 'flip selected' box to flip checked status of all selected contents</li>
					<li>adminside petition processing contents chechklistbox now supports multiple selection</li>
					<li>improved the reliability of some shutdown code</li>
					<li>cleared out some old unused code</li>
					<li>misc new control cleanup</li>
					<li>misc fixes</li>
					<li>more misc fixes</li>
				</ul>
				<li><h3 id="version_265"><a href="#version_265">version 265</a></h3></li>
				<ul>
					<li>the bandwidth engine now recognises individual thread watcher threads as a network context that can inherit default bandwidth rules</li>
					<li>tweaked default bandwidth rules and reset existing rules to this new default</li>
					<li>review all bandwidth frame now has a time delta button to choose how the network contexts are filtered</li>
					<li>review all bandwidth frame now updates itself every 20 seconds or so</li>
					<li>review all bandwidth frame now has a 'delete history' button</li>
					<li>review all bandwidth frame now shows if services have specific rules</li>
					<li>review all bandwidth frame now has an 'edit default rules' button that lets you select and set rules for default network contexts</li>
					<li>review network context bandwidth frame now has a bar chart to show historical usage!</li>
					<li>bar chart is optional based on matplotlib availability</li>
					<li>review network context bandwidth frame now lists current bandwidth rules and current usage. it says whether these are default or specific rules</li>
					<li>review network context bandwidth frame now has a button to edit/clear specific rules</li>
					<li>rows of bandwidth rules and current usage, where presented in ui, are now ordered in ascending time delta</li>
					<li>misc bandwidth code improvements</li>
					<li>client file imports are now bundled into their own job object that generates cpu-expensive file metadata outside of the main file and database locks. file imports are now much less laggy and should generally block the feel of the ui much less</li>
					<li>removed the database 'rebalance files' menu entry</li>
					<li>removed the 'client files location' page from options</li>
					<li>db client_files rebalance will no longer occur in idle or shutdown time</li>
					<li>(this stuff is now handled in the migrate database dialog)</li>
					<li>'migrate database' now uses a dialog, meaning you cannot interact with the rest of the program while it is open</li>
					<li>migrate database now has file location editing verbs--add, remove, +/- weight, rebalance_now. thumbnail location and portable db migration will be added next week</li>
					<li>flushed out the backup guide in the getting started help, including to reflect the new internal process</li>
					<li>the client now saves the 'last session' gui session before running a database backup</li>
					<li>the shutdown maintenance yes/no dialog will now auto-no after 15 seconds</li>
					<li>gave status bar tabs a bit more space for their text (some window managers were cutting them off)</li>
					<li>tumblr api lookups are now https</li>
					<li>tumblr files uploaded pre-2013 will no longer receive the 68. subdomain stripping, as they are not supported at the media.tumblr.com domain (much like 'raw' urls)</li>
					<li>pages will now not 'start' their download queues or thread checkers or whatever data checking loops they have until their initial media results are loaded</li>
					<li>key events started from an autocomplete entry but consumed by a higher window (typically F5 or F9/ctrl+t for refresh or new page at the main gui level) will no longer be duplicated</li>
					<li>fixed a shutdown issue with network job controls that could break a clean shutdown in some circumstances</li>
					<li>if the user attempts to create more than 128 pages, the client will now instead complain with a popup message. Due to OS-based gui handle limits, more than this many pages increasingly risks a crash</li>
					<li>if the client has more than 128 pages both open and waiting in the undo menu, it will destroy the 'closed' ones</li>
				</ul>
				<li><h3 id="version_264"><a href="#version_264">version 264</a></h3></li>
				<ul>
					<li>converted the page of images downloader to the new network engine</li>
					<li>converted the thread watcher downloader to the new network engine</li>
					<li>rejiggered page of images and thread watcher management panels to better separate the two loops they work on</li>
					<li>rejiggered some more downloader layout stuff in prep for a new control to better display url cache and overall import status--downloader-global pause button is now always at the top, for instance</li>
					<li>removed 'waiting politely' indicator from download pages that use the new network engine</li>
					<li>network job controls now have a simple border</li>
					<li>network job controls will show current bytes progress and speed in a more intelligent and useful way--no longer spamming the initial 0KB/s, for instance, and flashing more useful summary information when downloading many small files</li>
					<li>network job controls now display their current bytes progress and speed on a separate right-aligned text beside the main status text (to stop the speed text jumping around so much)</li>
					<li>network job controls will not show the current download speed until some bytes are actually read</li>
					<li>wrote a first version of 'services->review bandwidth' review frame, which lists all network contexts with data in the past month</li>
					<li>wrote an independant and live-updating review frame for indivdual network contexts, launched from the review bandwidth frame, which shows current and historical bandwidth use for that context</li>
					<li>the main gui status bar now reports current bandwidth usage! updated once a second</li>
					<li>database->backup process now has some nicer gui, better and more reliable workflow, improved file copy notification, and now correctly obeys a popup-cancel command</li>
					<li>started the new 'migrate database' gui under the database menu. it currently shows live usage and will gain some verb buttons to atomically alter things hopefully next week</li>
					<li>moved from a strict begin/commit db model to a save/release system that only commits changes to disk at most every ten seconds or so. small 'write' transactions will now often have no disk-sync overhead and so are super fast, particularly when they come in a large batch.</li>
					<li>simplified database connection, disconnection, begin, commit, and rollback code significantly</li>
					<li>the url table in the client database is now non-unique (i.e. multiple files can have the same url). this may lead to undesired 'already in db' or 'deleted' statuses in some downloaders as they check for url status before starting their downloads. if this change turns out to a be a big pain in the future for pixiv manga or whatever, it may be revisited.</li>
					<li>fixed a bug in deviant art parser that sometimes meant nsfw urls could not be found</li>
					<li>fixed an issue where progress gauges could sometimes get stuck in a pulsing state</li>
					<li>fixed a bug with the new optimised result building which sometimes occured when all the files in a batch had common ipfs service membership</li>
					<li>improved support for unusual videos</li>
					<li>improved accuracy of duration calculation for unusual videos</li>
					<li>improved database optimisation after initial and ongoing repository processing</li>
					<li>a 'wake subscriptions' event now occurs even on 'manage subscriptions' cancel (meaning temporarily-dialog-paused subs will always continue after the dialog is closed)</li>
					<li>added a careful manual commit to stop the possibility of the definition-desync some users noticed after a power-loss during a big repository sync commit</li>
					<li>removed some redundant old db compatibility code</li>
					<li>permitted sqlite installations that allow in-memory temporary tables to use them (but not for vacuums, which tend to be a bit big for this stuff)</li>
					<li>cleaned up some redundant timer id code</li>
					<li>misc improvements</li>
					<li>misc refactoring</li>
				</ul>
				<li><h3 id="version_263"><a href="#version_263">version 263</a></h3></li>
				<ul>
					<li>greatly improved how gui sessions are loaded--now the page tabs are loaded instantly, but the thumbnails are loaded in the background. session loaded should be significantly less laggy and buggy</li>
					<li>the issue of pages sometimes initially sizing at zero size (which could be caused by minimising the client while a session load was ongoing) should hence be better/fixed completely!</li>
					<li>gui sessions will now load their files in the exact order in which they were saved--behaviour that I think was not previously always reliable</li>
					<li>more general network code work and polishing</li>
					<li>added and improved unit tests for network code</li>
					<li>improved how short-time-delta data bandwidth is reported</li>
					<li>improved how short-time-delta data bandwidth is tested</li>
					<li>wrote a networkjobcontrol to display and control the new network job object</li>
					<li>tumblr parser now produces 68.-less urls</li>
					<li>tumblr parser now produces https urls</li>
					<li>cleaned up tumblr parser a little</li>
					<li>url caches will clip existing tumblr urls of the 68.-subdomain and convert to the new raw format, clearing out dupes along the way</li>
					<li>url caches will convert existing tumblr and pixiv urls to https, clearing out dupes along the way</li>
					<li>the pixiv parser now deals with missing creator/title tags without errors</li>
					<li>extended the specific file domain tag cache to also store deleted mappings, resulting in much faster request building for clients with large numbers of deleted mappings</li>
					<li>improved some downloader page queue text display timing</li>
					<li>added support for more types of mp4 file</li>
					<li>improved how some memory maintenance calls work</li>
					<li>improved how hydrus datacaches track their recently-used-data fifo list</li>
					<li>pages now regularly clear out spare thumbnail canvas bmps</li>
					<li>pages now regularly clear out cached thumbnail canvas bmps when they are not the currently viewed page</li>
					<li>import caches, when asked for url membership, will now test both the http and https versions the url</li>
					<li>maybe improved how 'open in file browser' works in windows</li>
					<li>fixed the 'recount video frames' advanced thumbnail menu entry, which wasn't working with the new ffmpeg wrapper</li>
					<li>moved some bloaty master hash data out of client.db and into client.master.db</li>
					<li>pubsub profile will no longer profile 'message', as it just makes for spam</li>
					<li>reduced some serverside pubsub spam</li>
					<li>reduced some significant clientside pubsub spam that I think was smashing the gui event loop at inconvenient moments</li>
					<li>improved some client shutdown object sync code</li>
					<li>fixed an issue where some duplicate maintenance popups would not clear themselves up properly if interrupted mid-job</li>
					<li>cleaned up some http-https conversion and comparison code</li>
					<li>fixed some status-setting code that meant thumbnail pages were sometimes setting status after they were replaced and scheduled for deletion</li>
					<li>misc improvements</li>
				</ul>
				<li><h3 id="version_262"><a href="#version_262">version 262</a></h3></li>
				<ul>
					<li>added apng support!</li>
					<li>sessions will now append from the default insertion index (e.g. right of current page)</li>
					<li>sessions will now load in the correct order if the default insertion index is to the left of the current page!</li>
					<li>fixed an issue with custom 'favorites' gelbooru parsers</li>
					<li>manage parents/siblings dialogs now load their larger datasets on a thread, after initialising</li>
					<li>sped up how some default thumbnails are generated on client boot</li>
					<li>sped up how resized thumbnails are generated</li>
					<li>refactored ffmpeg video parsing to be simpler and easier to maintain</li>
					<li>improved some ffmpeg parsing to be much faster</li>
					<li>ffmpeg can now parse video that reports no duration</li>
					<li>fixed some more bad video framerate parsing</li>
					<li>the 4chan/8chan thread watcher will now always generate https urls (even if you enter an http thread url)</li>
					<li>pixiv will now produce https urls</li>
					<li>the known url file status system will now check both http and https versions of an url it is given</li>
					<li>refactored some core elements to simplify common controller requests</li>
					<li>started on some database migration help and ui--should be finished next week</li>
					<li>flushed out network engine a little</li>
					<li>more refactoring and simplification of new network engine object coupling</li>
					<li>flushed out bandwidth manager</li>
					<li>misc logic tweaks in bandwidth management</li>
					<li>wrote a network session manager</li>
					<li>wrote a new class for identifying all future 'network contexts'</li>
					<li>employed NetworkContext everywhere in the new engine, massively simplifying several things</li>
					<li>wrote the first batch of tests for my new network engine and its network jobs</li>
					<li>wrote tests for the bandwidth rules object, including covering the new short time delta support</li>
					<li>improved reliability and speed of bandwidth unit tests</li>
					<li>wrote tests for the new domain-based bandwidth manager</li>
					<li>misc improvements</li>
					<li>more misc improvements</li>
				</ul>
				<li><h3 id="version_261"><a href="#version_261">version 261</a></h3></li>
				<ul>
					<li>wrote a new manage dialog for urls</li>
					<li>added 'manage known urls' to media right-click menus!</li>
					<li>double-left-clicking on any video animation will 'open externally'!</li>
					<li>added an option to options->gui to set where new pages will appear by default--either far left/right or left/right of current page</li>
					<li>the tumblr parser now produces '_raw' urls when the post was posted in 2013 or later</li>
					<li>created a new 'number' subtag cache that will be populated on update</li>
					<li>created a new 'tag as number' system predicate that can search for, say, all 'page:' tags > 200</li>
					<li>bandwidth management now tracks requests and num_bytes more sensibly</li>
					<li>bandwidth tracking objects can now better handle bandwidth usage and rule application in short intervals (i.e. sub-5-second) (however, the current networking engine cannot yet use this information accurately)</li>
					<li>wrote unit test for bandwidth tracker, including for the new short interval timing</li>
					<li>fleshed out the new network engine</li>
					<li>fleshed out the new network job</li>
					<li>thread watchers can now have a time delta that includes days (giving a max check period of 360 days, wew)</li>
					<li>adminside mapping petition processing now has adaptive max total petition weight--lower file count range petitions will have much higher max total permitted weight</li>
					<li>added a new 'callto' debug reporting mode that reports on current thread pool jobs</li>
					<li>improved calltothread pre-spawning checks to reduce outside chance of deadlock in busy periods</li>
					<li>the advanced review services repository panel buttons are now hidden unless in advanced mode</li>
					<li>eliminated some animation buffer looping redundancy</li>
					<li>fixed a little animation next-frame prediction code</li>
					<li>fixed up some '1 minutes'-type time_delta->string conversion</li>
					<li>fixed up label on time delta control button</li>
					<li>fixed some shutdown thread interactions</li>
					<li>fixed an issue where sometimes empty tags could be entered into the manage tags panel</li>
					<li>added some pydeadobject error handling during client shutdown</li>
					<li>refactored some db multi-tag->file search code, cleaned up wildcard searching</li>
					<li>misc string cleanup</li>
					<li>misc dialog cleanup</li>
				</ul>
				<li><h3 id="version_260"><a href="#version_260">version 260</a></h3></li>
				<ul>
					<li>fixed video parsing when the video metadata includes random non-utf-friendly garbage</li>
					<li>fixed video parsing when ffmpeg reports no fps at all</li>
					<li>improved video frame counting accuracy</li>
					<li>thumbnail waterfall process now adapts to the current speed of the cache and can hence use significantly less overhead</li>
					<li>the thumbnail fading process now adapts to the current rendering speed, delivering smooth fade when CPU is available but otherwise skipping frames and more reliably filling in thumbnails within a quarter of a second</li>
					<li>canvases now draw their thumbnails with slightly less overhead</li>
					<li>increased database synchronous pragma to FULL to better safeguard against power loss during multiple-db commit--we'll see if it slows things down too much, and maybe add an option about it</li>
					<li>cleaned up and improved some client gui pubsubs</li>
					<li>made pubsub profile mode far less popup-spammy</li>
					<li>if a profile takes less than 20ms, it now won't be fully printed to the log</li>
					<li>tweaked some more server object maintenance code</li>
					<li>added 'changelog' link to help menu</li>
					<li>updated lz4 library and fixed some old deprecated calls</li>
					<li>misc serverside pubsub cleanup</li>
					<li>misc fixes</li>
					<li>misc refactoring</li>
					<li>misc code cleaning</li>
				</ul>
				<li><h3 id="version_259"><a href="#version_259">version 259</a></h3></li>
				<ul>
					<li>planned out new networking engine and started the principal objects</li>
					<li>renamed the 'exact match' duplicate status to 'same quality', to reduce confusion on what is appropriate for this status</li>
					<li>the duplicate filter, on hitting the delete key, now offers the option of deleting both files</li>
					<li>the duplicate system now combines duplicate status setting and the consequent batch of content updates into the same database transaction, speeding things up</li>
					<li>the duplicate system now batches multiple duplicate status setting into a single transaction, massively speeding up large filters or thumbnail status set actions</li>
					<li>misc duplicate help tweaks</li>
					<li>you can now edit the default duplicate merge options from the new thumbnail duplicate menu</li>
					<li>the duplicates page's jobs are less demanding on gui time and take better breaks if something else happens</li>
					<li>renamed the new dupe system predicate to 'system:num duplicate relationships' to clarify what it searches</li>
					<li>for normal queries, current and pending mappings are now fetched from a faster mappings cache. you should see faster result building across the board, particularly on fresh boots or otherwise slow-disk-access systems</li>
					<li>added a prototype 'advanced mode' (defaulting to off, so experienced users will want to turn it on) under the help menu that will enable menu items that are often not helpful to new users. I will add more things to this in future, suggestions welcome</li>
					<li>the new thumbnail menu dupe relationship set stuff is now considered advanced</li>
					<li>thumbnail menu find similar files is now considered advanced</li>
					<li>the thumbnail menu copy hash entries are now considered advanced</li>
					<li>advanced content update buttons (on manage tags and review services) are now considered advanced</li>
					<li>added an advanced mode 'open file location' entry to the thumbnail share menu, which will open the file in your OS's file explorer (not available on Linux)</li>
					<li>added an advanced mode 'correct video frame count' thumbnail menu entry that will force-apply last week's more accurate video frame counter to correct and videos that render too fast and then cut off</li>
					<li>fixed many entries on the media viewer menus, which were being blocked by an over-eager 'can continue' test and hence silently failing</li>
					<li>fixed the youtube downloader on Linux and OS X--both now use youtube-dl</li>
					<li>fixed an issue where the GetLighterDarkerColour function was producing very bright alternates to very dark colours (meaning dark dupe filters were having their bright background text rendered unreadable)</li>
					<li>improved video frame number parsing accuracy</li>
					<li>improved the accurate version of video frame number parsing accuracy, particularly for longer videos</li>
					<li>the network engine now reports 5xx http status codes as ServerException to better contextualise to the user what went wrong</li>
					<li>adminside mapping petitions are now sub-ordered by tag</li>
					<li>adminside sibling/parent petitions are now ordered by the 'older' tag and sub-ordered by the 'newer' tag</li>
					<li>censorship taglists are now roughly sorted</li>
					<li>reduced default shutdown work max time to five minutes</li>
					<li>improved how subprocesses are started</li>
					<li>misc cleanup</li>
					<li>misc refactoring</li>
				</ul>
				<li><h3 id="version_258"><a href="#version_258">version 258</a></h3></li>
				<ul>
					<li>added a duplicate entry to the thumbnail right-click menu</li>
					<li>the new duplicate menu will now attempt to fetch known duplicate counts for the focused file for the current file domain (if the db is locked, it will say so rather than block)</li>
					<li>the new duplicate menu's counts in the thumbnail menu can be clicked to show those files in a new page</li>
					<li>the new duplicate menu allows you to set the four main dupe statuses (with default merge options), or a customised verson of the same, or set unknown/potential, or delete dupe status completely, for all the possible pairs in the current selection</li>
					<li>added tentative support for variable framerate files, manually counting up their frames and displaying them with an averaged constant framerate in the client renderer. this now permits a number of webms that were previously 'mime unsupported'. let me know how it works for you!</li>
					<li>cleaned some server locking code, hopefully fixing the ssl handshake issue (which is actually a deadlocking issue)</li>
					<li>export file dialogs will remember the last value of 'export tags to .txt files?', and clicking that checkbox will always launch the dialog for editing (rather than clearing if there are some set)</li>
					<li>fixed the advanced content update (as used by service-wide update), which was not able to differentiate namespaces since the recent service changes. I apologise to anyone affected by this--I will add some unit tests to make sure it doesn't happen again</li>
					<li>reworked and cleaned some canvas event handling code</li>
					<li>the canvas will now accept mouse wheel events even when it does not have focus</li>
					<li>the canvas frame will no longer accept keyboard events (and hence activate fullscreen_switch) if the mouse is over a flash window</li>
					<li>hydrus servers now respond to /robots.txt with a 'disallow all'</li>
					<li>servers will now provide mappings petitions to admins in groups of similar size, rather than mixing petitions of weight 5000 with a hundred of weight 1</li>
					<li>fixed the back/skip buttons in the archive/delete filter's top hover window</li>
					<li>the file path tagging dialog's namespace and regular regexes now support parenthesis groups, and in that case will take each of those submatches instead of the wider match</li>
					<li>hence regexes with groups will now compile in that dialog</li>
					<li>you can now 'new page here' on the final (rightmost) page tab</li>
					<li>fixed an issue where media-viewer-launched manage tags frames would yield focus to the main gui if they had opened a sub-dialog while they were open</li>
					<li>the tag censorship edit panel now has a 'help here -->' label in blue text</li>
					<li>file imports will fail properly when the final temp_path->client_files file copy operation fails (due, for instance, to the destination being on a removable medium that was recently disconnected)</li>
					<li>fixed serverside upnp maintenance, which was silently failing early, and also updated it to the new server object code</li>
					<li>wrote a new checklistbox dialog that handles the underlying data explicitly rather than messing around with external text->data maps</li>
					<li>replaced all the old string checklistbox dialog instances with the new one</li>
					<li>subscriptions will now correctly clear their 'recent error' status on a successful sync</li>
					<li>refactored and cleaned how basic mediaresult objects store and consult simple file information</li>
					<li>locationsmanager objects now handle inbox status and the related content update events that affect it</li>
					<li>fixed a bug in HydrusTagArchive when attempting to figure out hash type from an existing hash</li>
					<li>removed the obsolete servertoclientcontentupdatepackage object</li>
					<li>misc duplicate code cleanup</li>
					<li>misc serverside service code improvements</li>
					<li>misc small fixes</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_257"><a href="#version_257">version 257</a></h3></li>
				<ul>
					<li>the duplicate filter will now maintain zoom on files with the same ratio</li>
					<li>split the duplicate merge options into separate tag/rating controls--you may see some duplicate service entries, but these will be cleaned on your next shutdown</li>
					<li>duplicate merge options now allow syncing 'archive' status</li>
					<li>duplicate merge options now allow 'delete both files', which you may find use for in custom actions</li>
					<li>created a tag censorship object to handle and action a rich tag censorship ruleset</li>
					<li>tag duplicate merge options now have and use this tag censorship object to filter which tags are merged, with an initial value of 'let everything through'</li>
					<li>wrote a tag censorship edit panel and tied it into the duplicate action edit panel so these new tag censorship objects can be edited</li>
					<li>added an optimisation to the duplicate status setting code--if two files are better/worse, they are inherantly duplicates and so 'not dupe' and 'alternate' relationships apply to both equally and can be duplicated</li>
					<li>fixed and culled and normalised the 'this has more tags' dupe filter statements to be more accurate and useful</li>
					<li>added 'this has a larger filesize' type-statements to the dupe filter</li>
					<li>created a 'system:duplicate relationships' predicate that can find files based on how many duplicate relationships of a particular type they have</li>
					<li>cleaned up some misc duplicate filter code and added some tooltips to the top hover window dupe action buttons</li>
					<li>added 'move to left/right end' to main gui page tab right-click menu</li>
					<li>added 'new page' and 'new page here' to main gui page tab right-click menu</li>
					<li>you can now right-click for a menu from empty tab space on the main gui</li>
					<li>the main gui statusbar now updates more efficiently when under heavy refresh load</li>
					<li>the main gui statusbar now shows db read/write/commit status and sets the current db job summary as its tooltip--if you experience persistent hangs, please hover over the statusbar and report what you see!</li>
					<li>export tags to .txts checkbox will now default to 'all services on' when checked</li>
					<li>fixed the thread watcher, which was accidentally disabling its text input early</li>
					<li>'similar files' searches launched from the thumbnail menu will now default to 'my files' file domain rather than 'all local files'</li>
					<li>downloader pages will now correctly sort their files on initialisation</li>
					<li>refactored and generally cleaned up some collect and sort code</li>
					<li>fixed some unlikely-but-possible collect/sort bugs</li>
					<li>fixed some bad layout in the top-right hover window that was making it grow unreasonably tall when many urls were shown</li>
					<li>on the different download import pages, the progress gauge that shows file download progress will now reset back to 0 as soon as the file download is complete</li>
					<li>fixed a problem where video imports with unicode characters in their path were failing to mime-parse</li>
					<li>improved the file import status update pipeline to better deal with large transactions (like skipping/deleting/retrying a thousand rows at once). all these big transactions should lag the gui far less</li>
					<li>improved some misc import status cache code</li>
					<li>made first step in a big size rewrite job that will size many elements according to local system font size rather than specific pixel values</li>
					<li>hydrus servers now explicitly default to TLSv1.2--we'll see if that clears up some of the handshake timeout problems we have recently seen</li>
					<li>cleaned up a bunch of possible pydeadobjecterrors when the new review services panel is closed</li>
					<li>improved and rescheduled gelbooru redirect url purge</li>
					<li>added a catch-and-recovery to hydrus network session initialisation, which may sometimes receive invalid data after a service deletion</li>
					<li>added similar catches to tag parent/sibling initialisation, which apparently can be vulnerable to a similar invalid data problem</li>
					<li>I think I cleaned up some more Linux ClientToScreen console errors</li>
					<li>refactored and cleaned some frame size event responsibility</li>
					<li>refactored and cleaned the panel and controls that display file import status</li>
					<li>did a little more menu code cleanup</li>
					<li>misc cleanup</li>
					<li>misc fixes</li>
				</ul>
				<li><h3 id="version_256"><a href="#version_256">version 256</a></h3></li>
				<ul>
					<li>the duplicate filter now loads new pairs off the gui thread. it will display 'loading pairs...' during this time</li>
					<li>media viewers of all kinds are now more comfortable displaying no media (when this occurs, it is usually a frame or two during startup/shutdown)</li>
					<li>the duplicate filter now responds to any media_viewer_browser navigation commands (like view_next) with a media switch action</li>
					<li>you can now alter the duplicate filter's background lighten/darken switch intensity from its top hover window's cog icon</li>
					<li>fixed a bug in the new dupe pair selection algorithm that was preventing pairs from being presented as groups</li>
					<li>the duplicate filter will now speed up workflow by automatically skipping pairs when you have previously chosen to delete one of the files in the current batch</li>
					<li>auto-skipped pairs _should_ be auto-reverse-skipped on a 'go back' action</li>
					<li>added a |< 'go back' index navigation button to the duplicate filter top hover window</li>
					<li>the duplicate filter now displays several 'this file has larger resolution'-type statements about the currently viewed file. it lists them on the top hover window and in the background details text underneath</li>
					<li>the duplicate filter _roughly_ attempts to put the better file of the two first. this will always be indexed 'A'</li>
					<li>the duplicate filter now shows done/total batch progress in its index string--not sure how clear/helpful this ultimately is, so may need to revisit</li>
					<li>an unusual bug where Linux would spam the 'All pairs have been filtered!' duplicate filter message over and over and then crash _should_ be fixed--the filter no longer waits for that message to be OKed before closing itself</li>
					<li>drag-and-dropping text onto the client will now a) open a url import page if none already exist and b) put the dropped text into the input box of the first open url import page (and focus it, so you can quickly hit enter)! This works when dragging text links from browsers, as well</li>
					<li>you can now 'append' gui sessions, which will just append that session's tabs to whatever is already open--say, if you have several 'favourites' pages you want to be able to quickly load up without having to break your existing workflow</li>
					<li>ipfs services now have a 'check daemon' button on their review services panel which will test the daemon is running and accessible and report its version</li>
					<li>fixed the 'test address' button for ipfs services on their manage services panel</li>
					<li>the client can now automatically download files it wants and knows are on an ipfs service</li>
					<li>middle-click on an 'all known files' domain thumbnail will now correctly start a download (as long as a specific remote file service is known)</li>
					<li>the multihash prefix option is reinstated on ipfs manage services panels</li>
					<li>the gelbooru parser now discovers the correct page url to associate with its files</li>
					<li>wrote some redirect fetching code to fix the gelbooru bad urls issue</li>
					<li>discovered a quicker fix for the gelbooru issue--the redirect location is the garbage in the original url in base64</li>
					<li>all downloader/subscription url caches will purge any old gelbooru 'redirect.php' urls on update</li>
					<li>fixed an issue where 'previously deleted' gallery/thread imports were returning 'fail'</li>
					<li>fixed a problem that was causing some redundant laggy work in adminside petition processing</li>
					<li>thread watchers will now remember their file and tag import options through a session save even when no thread url has yet been entered</li>
					<li>fixed an issue where media 'removed' from a media viewer view of a collection resulted in the entire collection being removed at the thumbnail level</li>
					<li>fixed an issue where media deleted from a media viewer view of a collection resulted in the media not being correctly removed from selection tags</li>
					<li>tag, namespace, and wildcard searches on a specific file domain (i.e. other than 'all known files') now take advantage of an optimisation in the autocomplete cache and so run significantly faster</li>
					<li>fixed a hover window coordinate calculation issue after minimising the media viewer on some platforms</li>
					<li>removed some 'all files failed to download' spam that could sometimes occur</li>
					<li>misc fixes</li>
				</ul>
				<li><h3 id="version_255"><a href="#version_255">version 255</a></h3></li>
				<ul>
					<li>the duplicate filter now supports shift+left-click to drag, like the archive/delete filter (this remains hardcoded for now)</li>
					<li>if a pair in the dupe filter has the same resolution, they will now maintain zoom and pan when switching back and forth (I might increase this to work for same ratio as well, let me know how it works in the real world)</li>
					<li>the duplicate filter will show a lighter/darker background colour as you scroll the current pair</li>
					<li>the way lighter/darker and alternate lighter/darker colours are calculated is now centralised and should be more reliable in edge cases</li>
					<li>improved the dupe filter pair selection algorithm--it now chooses pairs more reliably under edge case conditions and prioritises decision-groups that have high potential decision value. it should also run a little faster</li>
					<li>increased the dupe filter batch size to 250, let's see if it causes any problems</li>
					<li>the close button on the dupe filter's top hover window now works</li>
					<li>fixed the duplicate filter disappearing pairs that were skipped (meaning you could not go back to revisit them)</li>
					<li>fixed a frequent deadobject error when the dupe filter closes</li>
					<li>the shutdown 'maintenance due' test is less sensitive to dupe search tree rebalancing, which typically only takes half a second</li>
					<li>the archive/delete filter now uses the new shortcuts system for both keyboard and mouse input</li>
					<li>the archive/delete filter now intercepts archive or delete commands from different sources ('media' shortcuts, top hover frame button presses) more reliably and converts them into filter actions (hence moving on to the next file)</li>
					<li>you can now move pages one to the left or right from their menu!</li>
					<li>on the top-right hover window (and the background underneath), ratings are now on the top, and hence will always be in the same location as you scroll through your media regardless of known urls, remote location, or inbox status</li>
					<li>autocomplete searches for tags with apostrophes, quote marks, braces, brackets and paretheses should be more reliable</li>
					<li>urls are now associated with files through the same 'content' pipeline as tags and ratings and so on</li>
					<li>gui-level media is now aware of the 'new url content update' event and will update and redraw itself appropriately</li>
					<li>fixed deviant art nsfw parsing, but it might not hold for long. proper fix here is to wait for the downloader overhaul</li>
					<li>networking engine now uses the 'requests' module's CA .pem (which the overhaul will be moving to anyway), which should reduce the frequency of ssl verify failures (gelbooru on the relatively new 'Let's Encrypt' CA had this problem for many users)</li>
					<li>fixed the networking engine redirect parsing for gelbooru's unusual location header. unfortunately, gelbooru is still giving mickey-mouse garbage redirect urls from its main thumbnail pages, for which in this engine there is no immediate fix</li>
					<li>neighbouring .txt tags will now be properly cleaned and sibling-collapsed in the path tagging dialog</li>
					<li>neighbouring .txt tags will now be properly sibling-collapsed in the import folder workflow</li>
					<li>making a media viewer borderless fullscreen and back will now recenter the media (previously, the current drag delta was not reset, so this frequently put media off-screen)</li>
					<li>fixed a serious issue where the media viewer could lock the client up on opening with a video if its gui options set 'remember size' to false</li>
					<li>tag import options objects will cleanse themselves of missing services on options save/client shutdown</li>
					<li>manage tags now defaults to cross-referencing 'my files' on the 'local tags' domain, where 'remote' (i.e. deleted) files' tags are not useful</li>
					<li>reduced memory use when importing large pngs with transparency</li>
					<li>improved adminside petition processing gui reporting</li>
					<li>servers will now cap the size of their mapping petitions so as not to ovewhelm the admin processing them (they now won't be both >20 tags and >1000 total row weight)</li>
					<li>the media viewer's manage tags frame now listens for content updates from outside, so if you alter an in-view file's tags (such as with a shortcut key), the manage tags dialog will update as it happens</li>
					<li>moved a number of the buttons on the top hover windows to the new unified internal command engine (which the new shortcut system also uses)</li>
					<li>disk cache maintenance uses fewer resources but now occurs in the foreground (and should hence more reliably maintain the cache)</li>
					<li>critical repository service id lookup errors will now automatically reset the repository's processing cache and better inform the user of what has happened. if you see this, please let me know the details and how this error fired in the real world</li>
					<li>updated and reinstated the ipfs service panel in review services</li>
					<li>updated some ipfs service code for the new service system</li>
					<li>misc refactoring and cleanup</li>
					<li>more cleanup and deletion of redundant old pubsub command code</li>
					<li>updated ubuntu build machine to 17.04 and opencv 3.2</li>
				</ul>
				<li><h3 id="version_254"><a href="#version_254">version 254</a></h3></li>
				<ul>
					<li>the duplicate processing page is now on the new page picker, under the new menu 'special'</li>
					<li>improved the dupe pair selection algorithm--it should be faster for everyone</li>
					<li>added help icon to dupe processing page--it can launch of a couple of message boxes with simple help, or you can open some html help</li>
					<li>wrote some dupe processing html help!</li>
					<li>the dupe processing page now refreshes its numbers when the dupe filter closes</li>
					<li>the archive, inbox, delete, and undelete buttons on the duplicate filter's top hover frame now work</li>
					<li>delete and shift+delete keys now work to delete/undelete a file in the duplicate filter</li>
					<li>the mouse cursor now hides/shows on halt and new movement on the duplicate filter</li>
					<li>you can now set 'content' shortcut actions (adding tags or ratings) to shortcuts in the 'media' reserved shortcut set (which are always on in media contexts), although they don't yet work in the thumbnail view yet</li>
					<li>added a help button to the manage shortcuts panel</li>
					<li>the edit shortcuts dialog will now now allow you to name a custom shortcut set to one of the reserved names and will explain the problem in a message box</li>
					<li>import pages update more efficiently during periods of busy cpu</li>
					<li>import pages will use less idle cpu time generally</li>
					<li>import pages will adaptively use less cpu time when they are in the undo deletion queue or have no files to import</li>
					<li>the page of images downloader will spam a little less idle time</li>
					<li>the canvas background details and the top-right hover window will now only show 10 urls max</li>
					<li>added a help button to the tag import options panel to better explain the namespace selection and explicit tags</li>
					<li>added 'gui report mode' to the help menu, which will report key and mouse shortcut events and and matched commands</li>
					<li>the adminside petition panel now sorts multiple petitions by number of files descending</li>
					<li>misc improvements</li>
					<li>misc help cleanup</li>
					<li>misc fixes</li>
				</ul>
				<li><h3 id="version_253"><a href="#version_253">version 253</a></h3></li>
				<ul>
					<li>created a new object to hold tag and rating merging and 'worse file' deletion options</li>
					<li>wrote a dialog to edit this new object</li>
					<li>established some simple defaults for this object for different duplicate status actions</li>
					<li>the cog icon on the duplicates filter now lets you edit these defaults</li>
					<li>the 'custom' duplicate filter action now works--first by asking you what status you want to set, and then by throwing up the new merge options dialog to tune it to whatever you like</li>
					<li>wrote comprehensive unit tests for the new object</li>
					<li>fixed the super slow dupe filter launch time problem</li>
					<li>added a 'known urls' submenu to thumbnail and browser canvas right-click menu that lists all known urls for a file with an option to launch or copy the url</li>
					<li>added known urls' hosts to the top-right canvas details background, just below where known file repos are listed</li>
					<li>added the same known urls' hosts as clickable hyperlinks to the ratings hover window that pops over that top-right area</li>
					<li>added 'delete from deleted files' action to the local tags's service-wide update panel. it will limit the deletion to mappings that are currently on files that have been previously completely physically deleted from the program</li>
					<li>fixed namespace filtering on service-wide update panel</li>
					<li>the hentai foundry downloader broke, so the update code will pause all hf subs. the solution is not trivial (it is part of the downloader overhaul), but I will try to fix it soon</li>
					<li>debuted a new question-mark help button to better explain .txt tag importing on the manual import tagging dialog and the manage import folders dialog</li>
					<li>fixed a small potential error due to bad parsing in the 'page of images' downloader</li>
					<li>fixed a typo bug that stopped the 'delete shortcuts set' action working in the manage shortcuts dialog</li>
					<li>I may have fixed an issue where the server was sometimes not shutting cleanly with a keyboardinterrupt</li>
					<li>fixed the media embed button not reliably updating its thumbnail</li>
					<li>fixed an issue where a dummy animation bar was displaying on embed buttons that showed static images that included transparency</li>
					<li>the serious db missing tag and hash states will now not throw an error but will inform/spam the user (and hence not prohibit a boot)</li>
					<li>attempting to open a second manage tags frame from the media viewer will now instead put the focus on the first (previously, multiple manage tags frames could be made)</li>
					<li>misc db code cleanup that should result in faster result building in certain situations</li>
					<li>misc improvements</li>
					<li>misc layout fixes</li>
				</ul>
				<li><h3 id="version_252"><a href="#version_252">version 252</a></h3></li>
				<ul>
					<li>the duplicate filter now processes pairs in batches and hence supports 'back' actions to revisit decisions. you will be prompted every fifty or so pairs to commit and checkpoint your progress</li>
					<li>the duplicate filter now presents related pairs together, rather than picking at random</li>
					<li>fixed a bug in duplicate filter shortcuts initialisation</li>
					<li>simplified duplicate filter default shortcuts (these will be overwritten on update) to only use simple left- and right-click for 'this is better' and 'alternates', since those are by far the most common actions. middle-click now goes back, like the archive/delete filter</li>
					<li>converted old 'main shortcuts' system to the new shortcuts system, also splitting it up into 'media', 'main_gui', 'media_viewer', and 'media_viewer_browser' constituent parts that will be applied in different contexts</li>
					<li>because the change is so significant, all clients will have their old 'options' shortcuts reset to the new default--I expect to expand shortcuts further in the next few weeks, so this default-overwriting will likely happen again, so you will likely wish to wait before recustomising your basic shortcuts</li>
					<li>completely eliminated the old main shortcuts system--all references now bodge with the new system to varying neatness</li>
					<li>as the old main shortcuts system no longer exists, the 'shortcuts' page on file->options is gone--all shortcuts are now managed through file->shortcuts, which is a completely revamped version of the custom filter shortcuts editing dialog</li>
					<li>selecting shortcut commands is significantly simpler for the reserved shortcut sets</li>
					<li>all media viewers with hover windows now have a 'keyboard' shortcuts icon button on their top hover window--it links to the manage shortcuts dialog as well as the current active custom shortcut sets and default custom shortcut sets</li>
					<li>as the above system supercedes the old custom filter system, custom filters are completely removed from the program! your existing custom shortcut sets will survive, but you probably want to purge them of all the redundant junk they still have</li>
					<li>all the media canvases use the new shortcuts system</li>
					<li>the canvas frame uses the new shortcuts system</li>
					<li>the thumbnails canvas uses the new shortcuts system</li>
					<li>the main gui uses the new shortcuts system</li>
					<li>some other misc places use the new shortcuts system</li>
					<li>most simple shortcut command actions have been renamed to be more readable</li>
					<li>some shortcut actions, like zoom stuff, is no longer hardcoded!</li>
					<li>mouse shortcuts are still not widely supported!</li>
					<li>the shortcut command edit dialog now throws a veto-driven error message if you try to ok on an invalid command (a blank services choice or action string, that sort of thing)</li>
					<li>ctrl+r is now 'remove_files_from_view' by default. the old 'show_hide_splitters' is now ctrl+shift+r by default</li>
					<li>the preview canvas, if focused, now responds to many normal media viewer shortcuts (content stuff like archive/manage tags, and canvas-specific like frame back/forth, zooming and panning)</li>
					<li>the new shortcut system now interprets double-clicks of any mouse button to be a second single click</li>
					<li>the new shortcut system correctly 'flips' ratings on and off, rather than always 'setting' to the chosen value. optional 'set only' support will come in the near future</li>
					<li>more shortcuts will correctly and reliably propagate to canvases when any part of a hover frame has focus</li>
					<li>fixed a conflict between the new shortcut system and taglists, which were no longer accepting otherwise interesting keys, like enter</li>
					<li>created a shortcuts manager cache that deals with a bunch of the shortcut workflow centrally</li>
					<li>completely eliminated the old accelerator table/menu command system for the main gui window</li>
					<li>lots of misc shortcut-related work</li>
					<li>fixed wildcard file search predicates that are on a specific file service and have no namespace (like 'mar*')</li>
					<li>certain routines that can cause mass refreshing of the menubar (like import folders) will now not spam (and often queue this spam up and hang the gui) the menu so much. the menubar will now always collapse multple overlapping refresh calls to reduce cpu load</li>
					<li>fixed a focus-None issue in the new hover window focus detection code</li>
					<li>improved some more focus detection and comparison logic--quick rating-scrolling in the media viewer should be less janked</li>
					<li>improved 'touch' drag event detection and improved media canvas cursor hide/show logic in general</li>
					<li>fixed '&' display in notebook page names</li>
					<li>fixed '&' display in some common dialogs' text</li>
					<li>wrote a new statictext class that deals with '&' better and in future will autowrap and maybe some other stuff and then switched most of the simple instances of wx.statictext over</li>
					<li>updated some out-of-date server help r.e. admin service initialisation</li>
					<li>converted a little of the help on custom filter->custom shortcuts. I'll do more in future</li>
					<li>wrote a simple checkboxlist dialog</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_251"><a href="#version_251">version 251</a></h3></li>
				<ul>
					<li>started shortcut overhaul by updating shortcut storage and underlying objects</li>
					<li>shortcuts will now support multiple modifiers (ctrl, alt, shift) in some places</li>
					<li>the regular shortcut entry control now supports mouse events through a radiobox (although only the duplicate filter will capture and deal with mouse events on the new system!)</li>
					<li>on db creation or update, a new 'duplicate_filter' shortcut set will be generated that includes mouse shortcuts and new duplicate_filter commands</li>
					<li>the duplicate filter now obeys this shortcut set</li>
					<li>duplicate filter shortcut edit cog menu now works, and the active shortcut set will update if edited</li>
					<li>wrote simple duplicate pair status update db code</li>
					<li>added dupe filtering optimisation--given A > B, anything else better than A will be set to be better than B, and anything worse than B will be set to be worse than A</li>
					<li>added dupe filtering optimisation--after any duplicate status change affecting A and B, any 'same file' siblings of A and B will receive the same relationship</li>
					<li>the 'process now' button on review services is now gated by a yes/no dialog that better explains what's about to happen</li>
					<li>the repository buttons on review services will disable when they can't do anything</li>
					<li>repository update processing will now cancel mid-job much faster</li>
					<li>reintroduced the 'service-wide update' button to tag services in review services</li>
					<li>reintroduced the 'clear trash' button to the trash file service in review services</li>
					<li>reintroduced num_files rating service reporting in review services</li>
					<li>fixed mouse scroll wheel events from the ratings hover window not being correctly processed by the main media canvas</li>
					<li>added some 'touch' event detection to try to better deal with media dragging through a touchscreen</li>
					<li>import folders will now 'action' their import paths as they go, rather than only at the end of their import run</li>
					<li>the new taglists are now better at remembering their selection through a content change</li>
					<li>opening a file or path from a non-windows client should now create a non-child process for open/xdg-open calls that block (so closing the client should not then close the child process movie player application or whatever)</li>
					<li>added unit tests for the new shortcut object</li>
					<li>added unit tests for the new application command object</li>
					<li>fixed unit tests for the updated shortcuts object</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_250"><a href="#version_250">version 250</a></h3></li>
				<ul>
					<li>improved 'file storage locations' help page descriptive text, including adding statements for actual current storage percentages</li>
					<li>improved boot missing file storage error handling</li>
					<li>wrote a 'repair file storage' dialog panel to manually fix missing folders during the boot phase</li>
					<li>added some bells and whistles to the repair file storage dialog. it now shouldn't be possible to boot the client with an invalid file store--let me know how this works for you</li>
					<li>added 'apply all siblings to all services' to options->tags</li>
					<li>whenever combined-service siblings are consulted, local siblings will now always have precedence (so, you can now definitely overwrite any ptr siblings you don't like at the local level). this stuff remains a mess, however. more work is needed</li>
					<li>fixed searching for 'like' ratings</li>
					<li>rating predicates will now render their value as 'like'/'dislike' or '3/5' rather than the underlying float</li>
					<li>fixed a variety of predicate string rendering errors when 'show namespace' is false</li>
					<li>fixed delete key not firing on autocomplete text entry controls</li>
					<li>the autocomplete entry's text box will now take home/end/up/down events when there is only one result in the dropdown, when navigation of that list is not important (previously, this was only true when there were no results)</li>
					<li>fixed an issue where invalid typed 'system:' tags were not being correctly cleaned</li>
					<li>improved tag cleaning code</li>
					<li>fixed fetching autocomplete results for small and specific searches (e.g. putting in 'a' will return results just for 'a'</li>
					<li>fixed small and specific searches to return namespaced instances as well (e.g. putting in '8' can now return 'chapter:8'</li>
					<li>fixed an issue with showing collected media in the preview window</li>
					<li>fixed the file import status button not laying out correctly on edit subscription dialog</li>
					<li>cleaned up some focus checking code</li>
					<li>harmonised all initial key event processing</li>
					<li>cleaned some key event processing</li>
					<li>adjusted some server daemon timings to prefer post-boot update generation catchup over db maintenance</li>
					<li>corrected a bunch of slightly mistaken unit test code</li>
					<li>added some 'like' and 'numerical' ratings search unit tests</li>
					<li>the advanced content update dialog now uses the new sizing system (so the go! button should no longer wander out of frame!)</li>
					<li>reduced what I believe is excess fuzzy padding on the new sizing system</li>
					<li>optimised a common client db request, speeding up a number of tag operations</li>
					<li>gui now asks for confirmation when you make to delete a gui session</li>
					<li>improved some out of date unit tests</li>
				</ul>
				<li><h3 id="version_249"><a href="#version_249">version 249</a></h3></li>
				<ul>
					<li>reintroduced shape and colour options to edit ratings service panels</li>
					<li>reintroduced num_stars and allow_zero options to edit numerical ratings service panels</li>
					<li>the export phrase--defaulting to '{hash}'--will now persist through export dialogs. it is saved whenever you click update or export</li>
					<li>removed the unintended 'counts' that were appearing after related tags</li>
					<li>fixed 'remove' action in custom filters</li>
					<li>hitting the delete key on manage tags taglist now will always remove</li>
					<li>added a BUGFIX option to not verify regular https traffic on the old networking engine for those non-Windows users who are getting SSL verify errors</li>
					<li>refactored the top hover frame more, making it more flexible</li>
					<li>created a new top hover frame for the duplicates filter</li>
					<li>duplicates filter now also supports tag and ratings hover frames</li>
					<li>duplicates filter now reports A or B as file index</li>
					<li>added some placeholder buttons to the duplicates filter for actions and 'cog' customisation</li>
					<li>reduced duplicate search shutdown logspam</li>
					<li>improved duplicate search job cleanup</li>
					<li>improved mime detection of thumbnail regeneration</li>
					<li>improved some shutdown error handling</li>
					<li>improved numerical rating search accuracy</li>
					<li>improved some hdd import error handling</li>
					<li>improved some unicode error handling</li>
					<li>improved reliability of some database transaction processing</li>
					<li>fixed animationbar having problems with single-frame videos</li>
					<li>fixed namespace colour taglist not updating colour correctly</li>
					<li>stopped the namespace colour taglist from deleting default namespace colours</li>
					<li>made the new class of button more compact--not sure if I like it</li>
					<li>refactored some db initialisation to avoid future transaction problems during special updates</li>
					<li>tidied up some last incomplete taglist code from last week</li>
					<li>did a little prep for some future shortucts overhaul</li>
					<li>did some more menu code updating</li>
					<li>added a simple subscription save/load unit test</li>
					<li>moved outdated server unit tests forward</li>
					<li>fleshed out some server certificate generation</li>
					<li>some other misc v245 catchup work</li>
					<li>cleaned up some pydeadobjecterrors caused by downloaders reporting progress to destroyed windows</li>
				</ul>
				<li><h3 id="version_248"><a href="#version_248">version 248</a></h3></li>
				<ul>
					<li>fixed two more issues with recent update code!</li>
					<li>re-applied a more rigorously tested 'invalid subtag' replacement for any user that has experienced incomplete update code in the past few weeks</li>
					<li>added some tag rendering options to options->tags that affect most user-facing, non-editing windows:</li>
					<li>added custom namespace-subtag connector (i.e. instead of ':')</li>
					<li>added 'show namespaces' checkbox (i.e. to keep the colour but lose the namespace, like how most boorus display tags)</li>
					<li>created a basic framework for the duplicate filter--it doesn't do anything yet, but you can launch it from the duplicates page to check it out</li>
					<li>updated 'reset processing cache' action and added it to review services repository pages</li>
					<li>review services now always starts on 'my files'</li>
					<li>review services will try to stay looking at the currently selected service through a refresh_services event</li>
					<li>fixed some thread-gui refresh interaction in review services</li>
					<li>all listctrl-attached delete/remove buttons will now ask if you are sure before they go</li>
					<li>reenabled db->maintenance->clear orphans, which it turns out I had already fixed by accident</li>
					<li>serverside services will lock themselves more efficiently while generating updates, ensuring 'server busy' responses can always return promptly</li>
					<li>fixed tag manage parents a/c entry to remove tags when they already exist in the box (previously, the a/c would only ever add, so a double-click was required to remove)</li>
					<li>tuned adminside petition processing so it approves/denies in reasonable-sized chunks</li>
					<li>refactored all the taglist gui code to focus on the underlying tag rather than the string representation</li>
					<li>plenty of misc taglist cleanup besides</li>
					<li>started a unit test suite for listboxes and wrote a thorough test for namespace colour listbox</li>
					<li>misc canvas refactoring</li>
				</ul>
				<li><h3 id="version_247"><a href="#version_247">version 247</a></h3></li>
				<ul>
					<li>fixed a problem with deleting more than 256 files at once</li>
					<li>furthermore, deleting from thumbnail view or after a filter will split delete jobs into chunks of 64 files at a time to reduce gui hang from deleting many tag-heavy files</li>
					<li>rewrote canvas media container code to recycle containers, embed windows, animation bars, static image windows, and animation windows. scrolling through all kinds of media is less flickery (less 'grey box' window initialise flicker) and scrolling through static images should be completely flickerless! William Gibson slideshow speed works again!</li>
					<li>this flickerless static image transition will be particularly useful in the forthcoming duplicate image filter!</li>
					<li>got adminside petition processing working again</li>
					<li>petition counts and fetching is now split by content_type and status</li>
					<li>the approve/deny colour hint is more obvious on the petition panel</li>
					<li>petitions now process off the main gui thread and throw up a popup message</li>
					<li>added 'check all' and 'check none' buttons to petition panel</li>
					<li>several serverside petition processing fixes</li>
					<li>generalised and improved dynamic menu check item initialisation and inversion support</li>
					<li>moved the 'get tags even if file already in db' option into a cog button on regular downloader pages</li>
					<li>added a default menu option for 'get tags even if file already in db' to the same cog button</li>
					<li>added this cog button to the edit subscription panel as well</li>
					<li>fixed exporting tags to Hydrus Tag Archives</li>
					<li>fixed exporting 'all known tags' to HTAs</li>
					<li>cleaned some HTA and related code</li>
					<li>fixed namespace based tag censorship</li>
					<li>fixed autocomplete not filtering out current/pending counts if they are set to 'excluded'</li>
					<li>fixed generation of non-expiring new accounts</li>
					<li>fixed some v245->v246 tag improvement code that was replacing invalid tags with the incorrect namespace</li>
					<li>patched a problem with '-:' dirty tag in the v245->v246 update code--I'm not sure what it was doing, but it catches the unusual problem and puts it in the 'invalid tags' category, so let me know if you get trouble with this in future</li>
					<li>wrote unit tests for bytesdictionary and shortcuts serialisable objects</li>
					<li>harmonised and improved how separators are appended to menus</li>
					<li>cleaned up some client db index creation</li>
					<li>cleaned up some client tuple stripping</li>
					<li>misc pylint warnings cleanup</li>
					<li>misc fixes</li>
				</ul>
				<li><h3 id="version_246"><a href="#version_246">version 246</a></h3></li>
				<ul>
					<li>fixed a critical bug in serverside content deserialisating that meant servers were not processing most client-submitted data properly</li>
					<li>fixed a critical bug in 'all known tags' autocomplete regeneration--please run database->regen->a/c cache when it is convenient and let me know if your numbers are still off</li>
					<li>fixed the pre-v238 update problem for good by abandoning update attempts and advising users to try v238 first</li>
					<li>clientside invalid tags will now be collapsed like with the server last week. if a tag is invalid (typically something with an extra space, like "series: blah"), the update code will attempt to replace existing mappings with the collapsed valid version. some unusual cases may remain--they will be replaced with 'invalid namespace "series "' and similar. Please remove and replace these when convenient and contact me if there are way too many for you to deal with</li>
					<li>duplicates pages now have a file domain for the filtering section, and they remember this domain through session loads</li>
					<li>this file domain is accurate--counting potential duplicates and fetching pairs for 'show some pairs' only from those domains. the issue of remote files appearing should be gone!</li>
					<li>there is now only one 'idle' entry in the duplicates page cog menu--it combines the three previous into one</li>
					<li>fixed numerous irregularities across the wildcard code. all search input now has an implicit '*' on the end unless you put a '*' anywhere else, in which case it acts exactly as you enter it, with a non-* beginning matching beginning of string, whitespace, or colon, and non-* end matching end of string or whitespace</li>
					<li>autocomplete now searches namespace, so entering 'char' will load up all the 'character:' tags along with 'series:di gi charat'. this can lag to hell and back, so it may either need some work or be optional in the future. feedback would be appreciated</li>
					<li>typing 'namespace:' will include all the series tags below the special optimised 'namespace:*anything*' tag</li>
					<li>autocomplete searches recognise an explicit '*' no matter where it is in the entry text. typing 'a*' will load up all the a tags and present a 'a*' wildcard option</li>
					<li>quickly entering a wildcard entry will now submit the correct wildcard predicate ('rather than a literal 'hel*' or whatever tag)</li>
					<li>review services panel now reports total mappings info on tag services</li>
					<li>review services panel now reports total files info on file services</li>
					<li>manage services's listctrl is now type | name | deletable and initially sorts by type. the strings used for hydrus service types are also improved</li>
					<li>manage serverside services (called by server admins to manage their services) have fixed setnondupe port and name on edit service events</li>
					<li>new popup messages will now also appear if there were previously no popup messages to display if the current focus is on a child on_top frame, such as review services (you'll now see the processing popup appear when you click 'process now' on review services)</li>
					<li>the popup message manager now initialises its display window with a single message that is quickly dismissed. this helps set up some variables in a safe environment so they don't have to be generated later when the gui might be minimised or otherwise unusual</li>
					<li>hid hydrus update files from 'all local files' searches</li>
					<li>added 'media_view' entries for hydrus update files, just in case they are still visible in some unusual contexts (and they may be again in a future update anyway)</li>
					<li>fixed 'recent tags' being returned from the database out of order</li>
					<li>by default, 'recent tags' is now on for new users</li>
					<li>'get tags even if file already in db' now defaults to False</li>
					<li>file import status now allows a 'delete' action below the 'skip' action</li>
					<li>file import status right-click event processing is more sane</li>
					<li>fixed the new raw width/height sort choices, which were accidentally swapped</li>
					<li>cleaned the media sort code generally</li>
					<li>cleared out some redundant rows that are in some users' client_files_locations</li>
					<li>namespaced predicates are no longer count-merged with their namespaceless versions in 'write' autocomplete dropdowns</li>
					<li>'unknown' accounts should now properly resync after clientside service change</li>
					<li>improved how registration keys are checked serverside when fetching access keys</li>
					<li>fixed a v244 update problem when unexected additional tag parent/sibling petitions rows exist</li>
					<li>improved my free space test code and applied it to the old v243->v244 free space test (it'll now test free space on your temporary path and report problems appropriately)</li>
					<li>to improve log privacy and cleanliness, and to make it easier to report profiles, db/pubsub profiles now write to a separate log file named appropriately and labelled with the process's start time</li>
					<li>profiles are more concise and formatted a little neater</li>
					<li>across the program, three-period ... ellipses are now replaced with their single character unicode … counterpart (except to the console, where any instance of the unicode ellipsis will now be converted back to ...)</li>
					<li>cleaned up some log printing code</li>
					<li>cleaned up some experimental static serialisation code, still thinking if I like it or not</li>
					<li>started on some proper unit tests for hydrus serialisable objects</li>
					<li>fixed and otherwise updated a heap of unit test code to account for the v245 changes</li>
					<li>cleaned up a bunch of old database table join code</li>
					<li>started some databse-query-tuple-stripping code cleaning</li>
					<li>deleted more old unused code</li>
					<li>misc timing improvements</li>
					<li>misc code cleanup experimentation</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_245"><a href="#version_245">version 245</a></h3></li>
				<ul>
					<li>fixed a v244 update problem for clients updating from <v238</li>
					<li>some misc stuff:</li>
					<li>if you start editing many subscriptions, cancelling a single dialog will break the chain of loading new dialogs</li>
					<li>reduced some redundancy in regular client file import</li>
					<li>improved how the dialog for selection from a list of strings works</li>
					<li>if the client ever merges one directory to another (such as in external file locations migration) and any files fail to merge, the source will no longer be deleted</li>
					<li>created new flexible bandwidth tracking and ruling objects</li>
					<li>updated how repository updates work, splitting the old explicit and self-contained content update package system to a new implicit definitions/content split system and an improved one-step-sync metadata propagation</li>
					<li>updating now takes approximately 23% as much bandwidth as before</li>
					<li>update files are now stored in client_files and server_files like any other file (client_updates and server_updates folders will be deleted on update)</li>
					<li>the server will print update generation info to its log</li>
					<li>unfortunately, updates cannot be converted, so a complete resync of update files is required. the smaller update size and better bandwidth controls should mitigate the problem somewhat</li>
					<li>the server has been compacted across all content types--its mappings db file should shrink about 12%</li>
					<li>due to new service-specific ids, server.master.db should increase in size, typically about 50%</li>
					<li>harmonised how GET and POST/response args are built and parsed across the network</li>
					<li>server administration initialisation is now simpler, done with 'init' registration key</li>
					<li>leading and trailing spaces are now removed from both the namespace and subtag components of namespaced tags, meaning 'title: blah' will be collapsed to 'title:blah'. tag repositories will clean their existing tags on update</li>
					<li>invalid serverside tags will be replaced with valid placeholders on server update</li>
					<li>refactored, harmonised and simplified some server request code</li>
					<li>Eris makes a triumphant return to the root welcome page ('/' request of any service) with improved self-description text as well</li>
					<li>updated how bandwidth is tracked and overseen</li>
					<li>all requests now consume bandwidth</li>
					<li>fewer requests are actually constrained by bandwidth--at the moment, it is only update files and file/thumbnail downloads, as these represent the overwhelming majority of bandwidth consumption and are not at all critical to service operation--this may change in the future, but it suits our purposes for now</li>
					<li>bandwidth tracking code is more sane across the board</li>
					<li>the server's administration service now tracks server-wide bandwidth as it happens</li>
					<li>service and server-wide bandwidth rules are consulted as soon as the request begins</li>
					<li>improved some server response rendering</li>
					<li>permissions are more flexible and content-specific</li>
					<li>improved how file repositories check and process file requests</li>
					<li>created a gui control for managing bandwidth rules</li>
					<li>updated the serverside service object</li>
					<li>the serverside service object now contains bandwidth rules and tracking</li>
					<li>updated how the server deals with services on a db level</li>
					<li>refactored and cleaned a ton of server db code</li>
					<li>updated how services are edited over the network</li>
					<li>updated how the server associates its services with its http pipeline</li>
					<li>converted clientside server service management gui to the new panel system</li>
					<li>updated gui code for clientside server service management</li>
					<li>converted clientside server service management db code to the new system</li>
					<li>improved how bandwidth errors are reported</li>
					<li>updated the account type object</li>
					<li>the account type object now contains bandwidth rules and a more flexible permissions system</li>
					<li>updated how the server deals with account types on a db level</li>
					<li>converted clientside server account type management gui to the new panel system</li>
					<li>updated gui code for clientside server account type management</li>
					<li>serverside account types are now fetched from a cache, reducing memory sprawl</li>
					<li>updated the account object</li>
					<li>the account object now contains a bandwidth tracker</li>
					<li>updated how the server deals with accounts on a db level</li>
					<li>updated the clientside server object</li>
					<li>the clientside server object now contains bandwidth rules and a tracker and has improved error management, recovery, and reporting</li>
					<li>updated how the client deals with services on a db level</li>
					<li>improved how serverside bandwidth errors are caught</li>
					<li>all clientside services start with a 50MB/day bandwidth limit</li>
					<li>existing repositories will get a 250MB/month, 50MB/day default bandwidth limit, just to help us get over the hump--see the release post for info on how to get all the updates anyway</li>
					<li>updated manage services dialog extensively</li>
					<li>service account registration now occurs through a simple button on the normal clientside service edit panel</li>
					<li>all services can now be renamed</li>
					<li>updated the content processing pipeline</li>
					<li>prepared code for future merging of file and tag repositories</li>
					<li>added future support for pend-petitions for files and mappings and simple creation permissions for tag siblings and parents</li>
					<li>the clientside content processing pipeline now operates inside a single database transaction, reducing a great deal of previously redundant hard drive activity</li>
					<li>the serverside content processing pipeline now creates per-service timestamped content definitions</li>
					<li>the clientside content processing pipeline now maintains and appropriately consults a cache for server definitions</li>
					<li>pre-process disk cache is more intelligent</li>
					<li>updated review services to match the new service objects</li>
					<li>service review panels now show more information about error state and so on</li>
					<li>service review panels should now update as soon as services change</li>
					<li>you can now force sync repositories from review services</li>
					<li>you can now pause/resume repositories from review services</li>
					<li>you can now export repository update files from review services</li>
					<li>you can now import repository update files from the services menu</li>
					<li>repository thumbnail download now uses a cache for faster thumbnail ownership testing</li>
					<li>culled a lot of old code and experiments</li>
					<li>deleted all the old messaging depot code and db table cruft</li>
					<li>removed optimised petition processing</li>
					<li>serverside deleteorphans is temporarily disabled</li>
					<li>hydrus client-repository relationship no longer supports news</li>
					<li>removed the 'stats' admin service call--it will come back as a account review page</li>
					<li>clientside clear orphans is temporarily disabled</li>
					<li>clientside local file/thumbnail server is disabled for now</li>
					<li>custom service 'messages' for the root page are no longer available</li>
					<li>some things are not working yet--they will be back in soon</li>
					<li>content presentation on review services</li>
					<li>service reset, other advanced content service controls</li>
					<li>ipfs controls on review services</li>
					<li>local booru controls on review services</li>
					<li>most service-specific panels on manage services</li>
					<li>petition resolution</li>
					<li>serverside account modification, including banning</li>
				</ul>
				<li><h3 id="version_244"><a href="#version_244">version 244</a></h3></li>
				<ul>
					<li>updated client database to compact ( namespace_id, tag_id ) pair into a single id for storage</li>
					<li>added some bells and whistles to the update code</li>
					<li>added a free space check and messagebox warning before the update</li>
					<li>updated db, service, and a/c cache creation code to reflect new schema</li>
					<li>updated absolutely everything else in the db to reflect the new schema</li>
					<li>for users with plenty of tags, the db should now be about 33% smaller!</li>
					<li>unified how unnamespaced tag searching counts are totalled</li>
					<li>unnamespaced tag searching counts are now totalled when the tags are fetched from the in-view ui media</li>
					<li>unified how tags are split into ( namespace, subtag ) across the program</li>
					<li>fixed deviantart gallery thumbnail parser</li>
					<li>fixed linux session load page key event handling bug</li>
					<li>os x can now support notebooks with zero pages open</li>
					<li>fixed an issue where os x was losing the first page of some session loads</li>
					<li>fixed some similar files shutdown work false positive calculation</li>
					<li>reduced server bandwidth check period from 24 hours to 1 hour</li>
					<li>improved calltothread scheduling under heavy load</li>
					<li>improved scheduling of how files are physically deleted</li>
					<li>numerous laggy temp_table replacement/cleanup</li>
					<li>more temp_table replacement</li>
					<li>misc efficiency improvements and general db code cleanup</li>
					<li>misc path code cleanup</li>
				</ul>
				<li><h3 id="version_243"><a href="#version_243">version 243</a></h3></li>
				<ul>
					<li>updated more menu code to the new system</li>
					<li>finished updating all main gui menubar and thumbnail menu code</li>
					<li>all brackets, braces, parentheses, and single and double quotes are now ignored when matching search text to tag. inputting 'mercy' matches 'character:angela "mercy" ziegler' and entering '[[[intensifies]]]' matches '[intensifies]'</li>
					<li>'*' searches will now return no autocomplete results, rather than trying to load absolutely everything</li>
					<li>made wildcard searching significantly more permissable--it now implicitly applies a '*' to the beginning as well as the end of your search input</li>
					<li>the main gui's notebook pages will now be disabled while a session loads</li>
					<li>might have fixed a first-boot layout issue--otherwise added a layout entry to the debug menu for further testing of this problem</li>
					<li>improved progress layout on file import dialog</li>
					<li>created a more efficient way for threads to update gui elements</li>
					<li>the file import dialog uses this new update system and parses lots of small files much faster as a result</li>
					<li>the edit import folder dialog will now complain if you try to put in an import path that includes the install or db directory</li>
					<li>ffmpeg mime parsing now catches and reports audio formats without any hassle</li>
					<li>thread downloader no longer fetches file extension in filename tag 'filename:blah' instead of 'filename:blah.jpg'</li>
					<li>changed png default zoom rules to copy jpg--the unusual zoom as default was more confusing than helpful</li>
					<li>updated sqlite for windows--should be a decent bit faster</li>
					<li>deleted a lot of old code that'll never be needed again</li>
					<li>misc refactoring</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_242"><a href="#version_242">version 242</a></h3></li>
				<ul>
					<li>optimised 'exact match' similar file queries to run a lot faster</li>
					<li>optimised similar file queries in general, particularly for larger cycle queries</li>
					<li>optimised hamming distance calculation, decreasing time by roughly 45%!</li>
					<li>the similar files tree maintenance idle job will not trigger while there are phashes still to regenerate (this was redundantly and annoyingly blatting the new dupes page as soon as phash regen was paused)</li>
					<li>removed similar files tree maintenance entry from db->maintain menu, as it can be done better from the new dupes page</li>
					<li>adjusted the duplicate search and file phash regen progress gauges to reflect total number of files in cache, not the current batch job</li>
					<li>all maintenance jobs on the duplicates search page will now save their progress (and free up a hanging gui) every 30 seconds</li>
					<li>the duplicates page's cog menu button now lets you put phash regen and tree rebalancing on the normal idle routine, defaulting both to off</li>
					<li>the cog menu can also put duplicate searching on idle time!</li>
					<li>added a very rough 'just show me some pairs!' button to the dupe page--it is pretty neat to finally see what is going on</li>
					<li>I may have reduced the memory use explosion some users are getting during file phash regen maintenance</li>
					<li>wrote an unclose_page action and added it to the shortcuts options panel--it undoes the last page close, if one exists. ctrl+u will be the default for new users, but existing users have to add it under options</li>
					<li>added ascending/descending sort choices for width, height, ratio, and num_pixels</li>
					<li>the client can no longer talk to old http hydrus network servers--everything is now https</li>
					<li>in prep for a later network version update, the client now supports gzipped network strings (which compress json a lot better than the old lz4 compression)</li>
					<li>fixed gif rendering in the Windows build--I forgot to update a build script dll patch for the new version of opencv</li>
					<li>the export file dialog's neighbouring .txt taglist file stuff now allows you to select a specific combination of tag services</li>
					<li>if an hdd import's original file is due to be deleted, any existing neighbouring taglist .txt file will now also be deleted</li>
					<li>the inter-thread messaging system has a new simple way of reporting download progress on an url</li>
					<li>the handful of things that create a downloading popup (like the youtube downloader) now use this new download reporting system</li>
					<li>sankaku seems to be 503-broke due to cloudflare protection--I have paused all existing sankaku subscriptions and removed the sankaku entry for new users (pending a future fix on my or their end)</li>
					<li>I've also removed danbooru for new users for now--someone can fix the long-running sample size file issue in the new downloader engine</li>
					<li>removed unnamespaced tag support from the hentai-foundry parser--maybe someone can try to fix that mess in the new downloader engine</li>
					<li>menubuttons can now handle boolean check menu items that are tied straight into hydrus's options</li>
					<li>menus launched from the newer frame and dialog code will now correctly display their help text on the main gui frame's statusbar! (at least on Windows! Linux and OS X remain borked!)</li>
					<li>fixed a unicode error parsing bug in the gallery downloader</li>
					<li>the server stop (or restart) command now correctly uses https!</li>
					<li>the server test code now works on https as appropriate</li>
					<li>fixed some misc server test code</li>
					<li>misc fixes</li>
					<li>misc cleanup</li>
					<li>misc layout cleanup</li>
				</ul>
				<li><h3 id="version_241"><a href="#version_241">version 241</a></h3></li>
				<ul>
					<li>fixed the 'setnondupename' problem that was affecting 'add' actions on manage subscriptions, scripts, and import/export folders</li>
					<li>added some more tests to catch this problem automatically in future</li>
					<li>cleaned up some similar files phash regeneration logic</li>
					<li>cleaned up similar files maintenance code to deal with the new duplicates page</li>
					<li>wrote a similar files duplicate pair search maintenance routine</li>
					<li>activated file phash regen button on the new duplicates page</li>
					<li>activated branch rebalancing button on the new duplicates page</li>
					<li>activated duplicate search button on the new duplicates page</li>
					<li>search distance on the new duplicates page is now remembered between sessions</li>
					<li>improved the phash algorithm to use median instead of mean--it now gives fewer apparent false positives and negatives, but I think it may also be stricter in general</li>
					<li>the duplicate system now discards phashes for blank, flat colour images (this will be more useful when I reintroduce dupe checking for animations, which often start with a black frame)</li>
					<li>misc phash code cleanup</li>
					<li>all local jpegs and pngs will be scheduled for phash regeneration on update as their current phashes are legacies of several older versions of the algorithm</li>
					<li>debuted a cog menu button on the new duplicates page to refresh the page and reset found potential duplicate pairs--this cog should be making appearances elsewhere to add settings and reduce excess buttons</li>
					<li>improved some search logic that was refreshing too much info on an 'include current/pending tags' button press</li>
					<li>fixed pixiv login--for now!</li>
					<li>system:dimensions now catches an enter key event and passes it to the correct ok button, rather than always num_pixels</li>
					<li>fixed some bad http->https conversion when uploading files to file repo</li>
					<li>folder deletion will try to deal better with read-only nested files</li>
					<li>tag parent uploads will now go one at a time (rather than up to 100 as before) to reduce commit lag</li>
					<li>updated to python 2.7.13 for windows</li>
					<li>updated to OpenCV 3.2 for windows--this new version does not crash with the same files that 3.1 does, so I recommend windows users turn off 'load images with pil' under options->media if they have it set</li>
					<li>I think I improved some unicode error handling</li>
					<li>added LICENSE_PATH and harmonised various instances of default db dir creation to DEFAULT_DB_DIR, both in HydrusConstants</li>
					<li>misc code cleanup and bitmap button cleanup</li>
				</ul>
				<li><h3 id="version_240"><a href="#version_240">version 240</a></h3></li>
				<ul>
					<li>improved how the client analyzes itself, reducing maintenance latency and also overall cpu usage. syncing a big repo will no longer introduce lingering large lag, and huge analyze jobs will run significantly less frequently</li>
					<li>the analyze cache will be reset on update, so you will have one big round of analyze the next time you maintain, and then you are good</li>
					<li>added data structures to support auto-discovery of duplicate files</li>
					<li>improved how some similar files maintenance occurs</li>
					<li>flushed out duplicate status reporting</li>
					<li>added a new page type, currently under pages->search pages->duplicates, to handle duplicate discovery and filtering</li>
					<li>created a gui skeleton for the new duplicates page</li>
					<li>started some handles and update code for the new duplicates page</li>
					<li>wrote a new txt file in the db dir about the new emergency extract scripts</li>
					<li>wrote an emergency extract script to migrate subscriptions to a new db</li>
					<li>wrote an emergency extract script to migrate options to a new db</li>
					<li>the trash clearing daemon now runs in the foreground, and a little of its code is improved</li>
					<li>the trash clearing daemon now makes a popup message when it does work</li>
					<li>the server's ssl keys are now set to read-only on Windows and user read-only only (i.e. chmod 400) on Linux and OS X on creation and update</li>
					<li>added a explicitly unicode popup message to the debug test</li>
					<li>fixed some network error catching code that was using Windows-only error codes</li>
					<li>converted more of the thumbnail right-click menu over to the new system</li>
					<li>improved some listctrl code</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_239"><a href="#version_239">version 239</a></h3></li>
				<ul>
					<li>finished up similar files search data maintenance code</li>
					<li>similar files search data maintenance will now run during idle time</li>
					<li>similar files search data maintenance can be called from database->maintain menu</li>
					<li>the crowded database->maintenance menu is now split into maintain, regenerate, check</li>
					<li>improved the similar files tree generation code, speeding searches significantly</li>
					<li>wrote a new listctrl class to handle more complicated objects and also sort by underlying data</li>
					<li>the new listctrl now handles object name non-duplication</li>
					<li>cleaned a bunch of crap old listctrl code</li>
					<li>manage export folders now uses the new listctrl</li>
					<li>manage import folders now uses the new listctrl</li>
					<li>manage subs now uses the new listctrl</li>
					<li>manage scripts now uses the new listctrl</li>
					<li>options media viewer options now uses the new listctrl</li>
					<li>file import status panel now uses the new listctrl</li>
					<li>the new listctrl can now quickly fetch item index from the underlying object</li>
					<li>the file import status panel should now cope with extremely huge lists a bit better now!</li>
					<li>multiple parsing child nodes can now import from/export to clipboard as lists</li>
					<li>export folders now have names, so you can have multiple export folders pointing to the same path! existing export folders will get their path as their name, but this can be changed no prob</li>
					<li>cleaned import/export folder dialogs</li>
					<li>cleaned import/export folder dialog workflow</li>
					<li>several misc import/export folder improvements</li>
					<li>hydrus servers are now exclusively https with self-signed certificates</li>
					<li>hydrus servers now create server.crt and server.key in their db folders for SSL--these files will be backed up along with everything else on an admin backup command</li>
					<li>system:hash now ignores the file domain and any other predicate. it now returns very quickly, no matter the context</li>
					<li>improved system:hash search logic</li>
					<li>all the awkward choice dropdowns in system predicate panels are replaced with radioboxes</li>
					<li>improved system:rating panel grid layout</li>
					<li>wrote a better subclass of radiobox to handle more data</li>
					<li>moved first half of thumbnail menu to new menu system</li>
					<li>cleaned up a little thumbnail menu logic</li>
					<li>improved the different ways services are added to thumbnail menu</li>
					<li>thumbnail 'select' menu is logically cleaned up and allows for better file domain selection</li>
					<li>the thumbnail menu's copy files and copy hashes to clipboard will now send them ordered (they were previously pseudo-random)</li>
					<li>added 'paths' to the share->copy thumbnail menu for copying multiple files' paths. these are also ordered.</li>
					<li>if the popup message manager does not have any errors, it will no longer unhide (which can annoyingly raise the main gui window) when the gui window does not have focus</li>
					<li>removed some old redundant error reporting stuff in popups</li>
					<li>improved and quietened some some mime detection failure code, sped up mime failure loop in all cases</li>
					<li>massively simplified and atomised how new serialisable-object management panels can save their data</li>
					<li>the manage subscription dialog now saves in a single, faster transaction</li>
					<li>the manage script dialog now saves in a single, faster transaction</li>
					<li>reduced redundant index work from analyze jobs</li>
					<li>improved tag parse error handling</li>
					<li>fixed media removal rules when deleting from the 'all local files' domain</li>
					<li>polished and clarified some of the help's tag schema</li>
					<li>misc cleanup</li>
					<li>more misc cleanup</li>
					<li>misc refactoring</li>
					<li>more misc refactoring</li>
				</ul>
				<li><h3 id="version_238"><a href="#version_238">version 238</a></h3></li>
				<ul>
					<li>added left/right equal ratio preference to the similar files search tree generation</li>
					<li>added high standard deviation preference to the similar files search tree generation</li>
					<li>added 'db profile mode' to the help menu, for briefer profiling in future</li>
					<li>when a similar files search occurs with db report mode on, it'll popup a nice bit of text saying how many cycles it took</li>
					<li>fixed a bug due to last week's 'all local files' change that meant archive/delete filtering would include any selected trashed files</li>
					<li>'recent tags' will now only be populated by add/pend tag events, and only by those tags that were valid for that action</li>
					<li>moved the help menu to the new menu system</li>
					<li>added bitmapped menu item support to the new menu code</li>
					<li>fixed and cleaned up some of the new menu code</li>
					<li>improved a/c cache regen error reporting</li>
				</ul>
				<li><h3 id="version_237"><a href="#version_237">version 237</a></h3></li>
				<ul>
					<li>added 'all local files' service that spans all local file domains</li>
					<li>improved trash service code</li>
					<li>trashed files now report their trashed timestamp in right-click menus</li>
					<li>trash views will sort oldest/newest by the trash timestamp</li>
					<li>renamed 'local files' to 'my files' to reduce initial confusion</li>
					<li>if you don't like 'my files', you can now rename the local files service under manage services!</li>
					<li>improved how some local file service metadata is stored</li>
					<li>cleaned and possibly fixed up some delete code</li>
					<li>cleaned up a bunch of misc service and file service code</li>
					<li>the client is more intelligent about what local files are -- you can now 'open externally' trashed files, for instance</li>
					<li>on multiple monitor systems, the new sizing system now bounds itself by the appropriate monitor's dimensions (previously, it was always consulting the primary, I think)</li>
					<li>if an expansion event causes a frame to grow off screen, the new sizing system will now attempt to move it up and left so it is completely visible</li>
					<li>fixed an important bug in the specific service autocomplete cache that was leading to several kinds of miscount--please regen your autocomplete cache at your convenience</li>
					<li>the client can now post additional messages on boot (you'll see one!)</li>
					<li>improved how errors with unusual characters are applied to failed import file status objects</li>
					<li>left double-click on the main gui greyspace now opens the new page chooser as well</li>
					<li>restored session pages now recover more gracefully from missing services</li>
					<li>shortened the 'stop after this many files' phrase, which was mis-sizing downloader panels</li>
					<li>changed several bits of old jank in the 'import options - files' collapsible. it is also now thinner</li>
					<li>misc gui improvements</li>
					<li>updated more of the menu system code</li>
					<li>the selection tags box now sizes its height more reasonably</li>
					<li>fixed 'check now' and 'reset cache' buttons on edit sub dialog</li>
					<li>subscriptions report better file import status on their popup</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_236"><a href="#version_236">version 236</a></h3></li>
				<ul>
					<li>in prep for a network https upgrade, the client can now detect and escalate to https when making connections to hydrus services</li>
					<li>import/export to png and clipboard now supports multiple objects at once!</li>
					<li>rewrote the manage subscriptions dialog to work on the new panel system</li>
					<li>the new manage subscriptions dialog has a listctrl and a sub edit dialog</li>
					<li>the new manage subscriptions dialog has the same add/export/import/dupe/edit/delete buttons as the manage scripts dialog</li>
					<li>subscriptions are now importable/exportable, including en masse with the new multiple object import/export support!</li>
					<li>the new manage subscriptions dialog has retry failed/pause-resume/check now/reset buttons for easy mass subs management</li>
					<li>the edit subscription panel has a bit of a layout makeover</li>
					<li>the edit subscription panel now updates itself as its buttons are hit</li>
					<li>the edit subscription panel disables buttons that are not applicable</li>
					<li>subscriptions can now be renamed!</li>
					<li>cleaned some misc subscription code</li>
					<li>relabelled initial and periodic file limit in the subscription edit panel</li>
					<li>middle-clicking on the main gui's greyspace (e.g. to the right of the notebook tabs) will spawn the new page chooser!</li>
					<li>created a simple HydrusRatingArchive class--will do more with it in future</li>
					<li>added ffmpeg, python, and sqlite versions to the help->about window</li>
					<li>harmonised daemon code</li>
					<li>added a new class of daemon that will not fire while a session load is occuring</li>
					<li>subscriptions, import and export folders, and file repo downloads now use this new daemon</li>
					<li>cleaned the way background daemons check for idle</li>
					<li>expand/collapse panels now notify the new kind of toplevelwindow that a resize may be needed when they switch state</li>
					<li>time deltas (like on subs edit panel or a thread watcher) now render more concisely ('7 days' instead of '7 days 0 hours')</li>
					<li>serialisable object png export panel now has a width parameter</li>
					<li>fixed a bug where tags that begin with unicode digits were accidentally identifying as numbers for the purposes of sorting and throwing errors on convert fail</li>
					<li>the media viewer can handle some more unusual content update combinations--for instance, if it cannot figure out which media to show next, it will revert back to the first image rather than displaying an undefined null mess</li>
					<li>updated and cleaned a bunch of my old misc encryption code</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_235"><a href="#version_235">version 235</a></h3></li>
				<ul>
					<li>finished first version of new faster dupe search--'system:similar to' now uses it</li>
					<li>finished faster dupe search tree creation</li>
					<li>finished faster dupe search tree search</li>
					<li>added faster dupe search tree leaf insertion</li>
					<li>added faster dupe search tree rebalancing maintenance</li>
					<li>added faster dupe search tree orphan deletion maintenance</li>
					<li>added faster dupe search leaf-regeneration-as-scheduled maintenance</li>
					<li>misc faster dupe search tree work</li>
					<li>new search tree will be created on db update</li>
					<li>fixed the 'add' buttons on the import files dialog</li>
					<li>fixed linux manage tags text input</li>
					<li>reduced incidence of linux media viewer post-manage tags key event swallowing</li>
					<li>fixed an issue where if the manage tags dialog was launched from the media viewer while a hover window was displaying, the main gui would often be raised when the manage tags frame was closed, annoyingly obscuring and de-focusing the underlying media viewer</li>
					<li>fixed manage tags action workflow when no valid tag choices exist</li>
					<li>entering a tag petition reason now has several common 'suggestions' for quick entry</li>
					<li>removed ffmpeg binary from default linux release (as basically every linux has a decent ffmpeg by default)</li>
					<li>fixed the incorrect ffmpeg version for os x</li>
					<li>added an option to options->media to prefer to use the system ffmpeg over any in the hydrus bin directory</li>
					<li>fixed linux arrow key navigation of the page picker dialog</li>
					<li>cleaned up the page picker dialog's gross old code</li>
					<li>the edit file lookup script panel now has a script management control on its test page to better report on and control tests</li>
					<li>scripts will new correctly attempt to decode unicode and other encoded text in responses</li>
					<li>if non-text data is accidentally fetched in the file lookup script panel's test page, it is now caught and a small summary of that event is printed to the text box instead</li>
					<li>added the same non-text catch to the edit link node panel</li>
					<li>improved how some script errors and status updates are handled so the new test window script management controls will see and report more useful information</li>
					<li>removed 'restart' option from linux for now--looks like a bug in pyinstaller</li>
					<li>improved how the new GET request read reattempt works</li>
					<li>cleaned up some spammy error code</li>
					<li>cleaned up spammy test code</li>
					<li>misc error handling improvements</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_234"><a href="#version_234">version 234</a></h3></li>
				<ul>
					<li>the action choice workflow in the manage tags dialog now merges decisions for multiple tag entry events</li>
					<li>the button dialog that pops up on the new merge manage tags workflow has button tooltips to better describe the proposed action's tag and file combinations</li>
					<li>the manage tags dialog only requests one petition reason for an above merged multitag petition event</li>
					<li>perceptual hashes are now stored in the cache db (moved from the preferably leaner main db)</li>
					<li>the database now supports multiple perceptual hashes per file</li>
					<li>fleshed out the perceptual hash vptree generation and maintenance code</li>
					<li>added option for main gui title to options->gui--it even updates live</li>
					<li>added unicode path support when importing serialised pngs</li>
					<li>added unicode path support when exporting serialised pngs</li>
					<li>exporting a serialised png now reports success via the export button, which will temporarily relabel itself</li>
					<li>added discord links to help files and help->links menu</li>
					<li>when a GET network connection fails during the read phase due to an unexpected timeout, the request will be reattempted a couple of times, like failed connection initialisations currently are</li>
					<li>escape key now closes scrolledpanelframes (review services or import status frames)</li>
					<li>manage tags dialog and frame now closes due to escape key correctly</li>
					<li>fixed a size calculation bug that was not initially drawing scrollbars on manage options and any other listbook-containing scrolling panel when the screen is too small to show the whole dialog</li>
					<li>undo menu now works on the new menu system</li>
					<li>cleaned up some bad gui-thread interaction in the file import dialog</li>
					<li>fixed file->restart in the built release, including when the install path includes a space</li>
					<li>the trash service no longer records which files it has physically deleted, as this information is not used and is redundant compared to the existing local files' deleted record (existing records will be deleted on update)</li>
					<li>the subscription daemon will wait 90 seconds after boot before triggering--quitting the client before then will result in subs not being checked</li>
				</ul>
				<li><h3 id="version_233"><a href="#version_233">version 233</a></h3></li>
				<ul>
					<li>made a plan for faster dupe search</li>
					<li>created skeleton of db tables for faster dupe search</li>
					<li>wrote out search algorithm for faster dupe search when the rest is ready</li>
					<li>updated search algorithm and skeleton to support a future multiframe (i.e. gif/video) similar files comparison</li>
					<li>the os x release now has 'client' as the main client executable</li>
					<li>the os x release now includes the server, under the 'server' executable</li>
					<li>added studio (128,0,0) and meta (0,0,0) default namespace colours</li>
					<li>the 'add all' button on the file lookup tag suggestions panel now will only ever add--it won't remove/rescind pend</li>
					<li>the password system now supports non-ascii input (be careful though, as even a subtle change in keyboard encoding that nonetheless may have the same visual characters will likely be considered a different password)</li>
					<li>fixed the 'nonetype has no dtype' rendering problem introduced by last week's 16-bit channel fix (this mostly affected static gifs)</li>
					<li>fixed non-null ratings changes in the numerical ratings dialog</li>
					<li>fixed culling and adding variables not initialising on the edit html formula panel</li>
					<li>fixed the htmlparser attribute fetcher to deal with both single value attrs ('id') and multiple value attrs ('class'). in the latter case, the many values will be joined up, as how they appear in html</li>
					<li>tweaked disk cache timings a little more to account for more scenarios--it now also reports itself to the shutdown splash screen</li>
				</ul>
				<li><h3 id="version_232"><a href="#version_232">version 232</a></h3></li>
				<ul>
					<li>finished png object sharing system, created some gui for it</li>
					<li>switched the top half of the new png export to wx code, which can render with prettier system fonts</li>
					<li>you can now 'export' parsing scripts to png from manage parsing scripts for easy sharing</li>
					<li>you can also 'import' parsing script pngs in the same dialog!</li>
					<li>the file lookup tag suggestions panel now listens for media update events (so if you browse the media viewer with manage tags open, it'll keep up with the current file)</li>
					<li>added a 'add all' button to quickly add all tags from file lookup suggested tags panel</li>
					<li>created a 'script management' control for file lookup suggested tags panel and added some script text status updates for it (progress gauge doesn't do anything yet)</li>
					<li>added basic 'cancel' support to script management control--mid-http cancel support will come with the gauges</li>
					<li>added url support to thread notification objects, and hooked script code into it</li>
					<li>added a url menu button to script management control, so you can launch any parsed urls the script found in your browser</li>
					<li>html parsing formulas now support positive and negative front and end character culling</li>
					<li>html parsing formulas now support prepending and appending arbitrary text</li>
					<li>added some more pretty text to the html formula summary to explain when they do the new culling or adding</li>
					<li>script 404s and other network errors are now caught neatly and reported</li>
					<li>link node 404s and other network errors are now reported and recovered from</li>
					<li>fixed favourite file lookup script selection on initialisation</li>
					<li>fixed parsing veto test to include membership of search string in result, not just exact match</li>
					<li>fixed html formula tag attribute fetching</li>
					<li>updated os x release to python 2.7.10</li>
					<li>fixed os x about window</li>
					<li>fixed v231 linux release image rendering crash</li>
					<li>updated linux release to wx 3.0.2.0</li>
					<li>updated linux release to opencv 3.1.0</li>
					<li>fixed rendering for 16-bit-per-channel images</li>
					<li>fixed a potential out-of-order settagboxfocus event issue on panel initialisation</li>
					<li>created a 'menubutton' control and switched existing code over</li>
					<li>created some 'nullipotent panel' dialog code to handle some new stuff</li>
					<li>misc fixes</li>
					<li>bunch of misc refactoring</li>
				</ul>
				<li><h3 id="version_231"><a href="#version_231">version 231</a></h3></li>
				<ul>
					<li>added file lookup scripts suggested tags control and appropriate options panel</li>
					<li>added final bit of gui->filelookup script->content update pipeline conversion and tie-in code</li>
					<li>moved all the suggested tag options into a notebook</li>
					<li>added notebook layout for suggested tag control columns. it is now the default</li>
					<li>suggested tag columns now have a unified set width</li>
					<li>the parsing ui's add script and node buttons now spawn menus rather than the awkward listofstrings dialog</li>
					<li>added 'iqdb danbooru' file lookup script. it hangs the ui pretty bad atm, but that will change in future</li>
					<li>fixed a critical pyinstaller problem with the os x builds</li>
					<li>log files will now be appending with 'year-month', and will roll over to a new file as the month turns</li>
					<li>help->about dialog now has some library version information</li>
					<li>converted more menu stuff to the new system</li>
					<li>wrote the guts of a new png-based object sharing system</li>
					<li>dropdown choices are more resistant to missing init and invalid defaults</li>
					<li>tweaked some disk cache maintenance timing</li>
					<li>fixed a multi-version update bug regarding external thumbnail paths not being initalised</li>
					<li>misc cleanup</li>
					<li>misc cleanup, improvements</li>
				</ul>
				<li><h3 id="version_230"><a href="#version_230">version 230</a></h3></li>
				<ul>
					<li>all multiline text ctrls now support ctrl+a for select all, wew</li>
					<li>added dynamic menu_item tracking to new menu id system</li>
					<li>added submenu tracking to new menu id system</li>
					<li>added comprehensive menu, submenu, and menu item destruction to new menu id system.</li>
					<li>'pending' menu now works on the new menu id system--is likely a major cause of the menu id bugs</li>
					<li>added 'info' tabs to the script/nodes/formula parsing gui panels</li>
					<li>added a 'veto' content type for discovering undesired redirects</li>
					<li>added special veto support to parsing engine</li>
					<li>expanded the content node panel to handle and display multiple content types</li>
					<li>added 'link' parsing node panel</li>
					<li>expanded 'link' panel test page and tied in secondary layer example url and data forwarding to children</li>
					<li>fixed the parsing node children control not forwarding example data up to nodes on edit</li>
					<li>file lookup url is now explicitly stored in the file lookup script object</li>
					<li>file lookup url is now passed to child parsing dialogs for test example data purposes</li>
					<li>expanded internal 'requests' interface a little--it now also always includes the 'user-agent' request header as the typical 'hydrus/version_number'</li>
					<li>wrote script GET/POST engine gubbins and tied it into the respective test page</li>
					<li>wrote link GET engine gubbins and tied it into the respective test page</li>
					<li>'person' namespace added to default namespace colours--it is RGB ( 0, 128, 0 ), a darker version of 'character' green</li>
				</ul>
				<li><h3 id="version_229"><a href="#version_229">version 229</a></h3></li>
				<ul>
					<li>edit html formula dialog can now be launched from edit content node panel</li>
					<li>edit html tag rule dialog can now be launched from edit formula panel</li>
					<li>edit formula panel test now works</li>
					<li>edit content node panel test now works</li>
					<li>edit script panel test now works</li>
					<li>html formula now filters out missing content rather than complaining</li>
					<li>misc parsing work</li>
					<li>fixed some listctrl resize columns to be more helpful</li>
					<li>attempting to size a resizing listctrl column will now move the resizing column to the last column, which will avoid the flickering scrollbar sperg-out of previous</li>
					<li>attempts to resize the final column of a listctrl while it is the resizing column will be silently vetoed, which will avoid more resize event flickering</li>
					<li>frame location options panel now allows for negative position coordinates (for multi-monitor setups)</li>
					<li>all the new resizing panels now handle certain size updates in a more unified and reliable way</li>
					<li>fixed an issue with hover windows' mouse position check breaking during media window init/shutdown edge cases</li>
					<li>avc1 mp4 support added</li>
					<li>ftypFACE mp4 support added</li>
					<li>ftypdash mp4 support added</li>
					<li>mpegts mpeg support added</li>
					<li>to help migration, paths are now only stored as portable (i.e. relative to the base path) if they are beneath the base path (previously, this was true for any path on the same partition, permitting PITA '../../my_files' portable paths)</li>
					<li>to help migration, portable paths are now relative to db_dir, not installation base_dir (existing client_files_locations, ideal client_files/thumbs_locations, export_path, and HTA paths will be updated)</li>
					<li>started work on cleaning up button code across the program</li>
					<li>created a better way to bind menu events that shouldn't suffer the id overflow bug</li>
					<li>started work on replacing the old id_to_action_cache menu mess with the new system</li>
					<li>too-many redirect exceptions are now richer and caught more sensibly</li>
					<li>circular redirects are caught as soon as they occur</li>
					<li>reduced sqlite cache size (with the new disk cache, this is now less important)</li>
					<li>client.py is now included in the source and windows frozen releases</li>
				</ul>
				<li><h3 id="version_228"><a href="#version_228">version 228</a></h3></li>
				<ul>
					<li>added support for RIFF .avi files</li>
					<li>fleshed out parsing ui, made progress on node editing, moved edit/test panels to notebook pages to reduce clutter</li>
					<li>the video renderer now initialises off the gui thread, which should reduce some video browsing chunkiness</li>
					<li>trying to save a session that would overwrite another (from the same name) now throws up a yes/no warning</li>
					<li>reintroduced '--no_daemons' and '--no_wal' to the new command line argument parser</li>
					<li>you can now set the default tag service for new search pages under the file->options->tags page</li>
					<li>since it can now be anywhere, added 'db directory' to the file->open menu</li>
					<li>fixed a build capitalisation issue that was making the windows frozen exe release crash when trying to run from source</li>
					<li>the 'too many redirects' error message is expanded to print the url called and its redirect request</li>
					<li>errors from trying to delete files in use by another process will no longer make popups--they'll just write a note in the log</li>
					<li>improved how some errors are written to the log</li>
					<li>misc fixes</li>
				</ul>
				<li><h3 id="version_227"><a href="#version_227">version 227</a></h3></li>
				<ul>
					<li>both the client and server now use standard command line input and will produce a proper help with a -h switch (although the 'windowed' frozen client executable can't print back to console)</li>
					<li>both the client and server now support a -d or --db_dir to set a db directory outside of the install directory. you can now run multiple clients off the same install!</li>
					<li>critical boot error reporting is more reliable</li>
					<li>if the admin port is in use on server boot, the error is handled better and the program will quit more easily</li>
					<li>fixed mime parsing for some unusual webms</li>
					<li>added support for even more unusual webms</li>
					<li>added support for SonyPSP mp4s</li>
					<li>fixed system:hash when searching for a non-existent non-sha256 hash</li>
					<li>fixed layout of the 'dismiss all' popup button</li>
					<li>preview windows will no longer update in the background if the 'hide preview window' option is set</li>
					<li>misc fixes</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_226"><a href="#version_226">version 226</a></h3></li>
				<ul>
					<li>fleshed out a bunch of parsing script engine and gui framework and added an 'under construction' entry to the services menu. feel free to play around with it!</li>
					<li>fixed autocomplete same-service sibling count merging</li>
					<li>sped up how autocomplete counts are put together</li>
					<li>results will build faster due to an improvement in how tag rows are fetched</li>
					<li>results will build faster due to an improvement in how tag strings are fetched</li>
					<li>incidence taglist sorting now secondary sorts by lexicographic in the 'correct' direction (a-z for desc, z-a for asc)</li>
					<li>all listctrls now support ctrl+a to select all</li>
					<li>cleaned up some superfluous and possibly buggy canvas zoom calc when using the open externally button</li>
					<li>the zoom_switch event will now reset the drag coordinates (recentering the image) if the resultant zoom fits into the canvas frame</li>
					<li>the mouse cursor hides itself more quickly on media drag on Windows (so warppointer jitter is hidden)</li>
					<li>the popup message manager will be careful about switching from hide to show while the parent gui is minimised on windows, which should reduce the grey box problem</li>
					<li>the popup message manager will specifically re-layout on a transition from hidden to shown to stop the 'crushed into a corner' layout problem that would sometimes happen here</li>
					<li>popup message manager will now consider a minimsed gui as unfocused for the purposes the of the focus BUGFIX option</li>
					<li>added a new delayed popup message item to the debug menu for testing minimised popup creation</li>
					<li>vacuum maintenance period option is moved, reset to larger default of 30 days</li>
					<li>'last session' will now always be updated on client close, even if it is not the default session</li>
				</ul>
				<li><h3 id="version_225"><a href="#version_225">version 225</a></h3></li>
				<ul>
					<li>system:numtags is now much faster when applied to 'local files' or a file repository</li>
					<li>system:numtags now correctly counts same-tag-different-namespace tags as distinct (for instance, [page:1, chapter:1] was previously being counted as only one)</li>
					<li>refactored fast db integer iterable access code into a context manager</li>
					<li>media result building is faster</li>
					<li>added namespace-grouped incidental tag sorting</li>
					<li>fixed the OpenCV image loader for monochrome images</li>
					<li>fixed a thread interaction issue when drawing popup messages</li>
					<li>popup messages should no longer flicker while static</li>
					<li>popup debug test is richer</li>
					<li>fixed editing of some taglists such as in explicit tags and import tag editing</li>
					<li>SSL EOF errors are now caught by the networking engine</li>
				</ul>
				<li><h3 id="version_224"><a href="#version_224">version 224</a></h3></li>
				<ul>
					<li>rewrote the static image rendering and caching pipeline -- images are now resized on the fly, and only the master image is cached</li>
					<li>all image rendering and zooming is faster and consumes less memory</li>
					<li>image rendering now obeys the zoom quality options in the 'media' options page!</li>
					<li>static image zooming will take advantage of OpenCL (video card acceleration) wherever available</li>
					<li>added an option to the 'media' panel to allow fast but potentially unstable opencv image loading</li>
					<li>fixed the tumblr gallery downloader (tumblr put an extra character in their API response, wew)</li>
					<li>the debug code profiler now prints more information</li>
					<li>cleaned and updated reducing lag help page to match new profiler</li>
					<li>'recent' suggested tags are now sorted by recency</li>
					<li>the thread watcher now checks url history as well as md5 match to compensate for cloudflare optimisation making for unreliable api and causing dupe downloads</li>
					<li>misc fixes</li>
				</ul>
				<li><h3 id="version_223"><a href="#version_223">version 223</a></h3></li>
				<ul>
					<li>fixed the popup message manager's bad minimise recovery</li>
					<li>added an option to automatically 'hide' the popup message manager on main gui minimise (which has patchy multiplat support--some mindow managers don't do this automatically, some do but break when you force it)</li>
					<li>added an option to automatically hide the popup message manager on main gui dofocus, which may help with window managers that minimise to the system tray, which wx cannot detect</li>
					<li>added a 'make some popups' test job to the help->debug menu</li>
					<li>siblings will now present in a more service-specific way</li>
					<li>many gui elements that display tags are now aware of their tag service for the purpose of collapsing siblings</li>
					<li>simplified a whole load of the siblings code</li>
					<li>in some conditions, media will load faster</li>
					<li>autocomplete tag censorship will now also apply on in a service-specific way in 'all known tags' queries</li>
					<li>another remote connection reset exception is now properly caught by the network engine</li>
					<li>the embed button will now draw the correct background colour behind transparent thumbnails</li>
					<li>the animation scanbar will no longer scan if it has not previously experienced a mouse_down event--it could sometimes inherit this status from a previous media filter or embed reveal, resulting in undesired instant scan and undefined animation canvas behaviour</li>
					<li>advanced content update panel will no longer list 'copy' as an action if 'local tags' is the only tag service</li>
					<li>fixed a bug when performing a 'go!' action in the advanced content update panel when 'local tags' is the only tag service</li>
				</ul>
				<li><h3 id="version_222"><a href="#version_222">version 222</a></h3></li>
				<ul>
					<li>created a 'raw url' downloader page that just downloads urls and tries to import the result. it has a 'paste urls' button to make mass import of a list of urls easy</li>
					<li>fixed an options update bug when updating to v221 from any version before v220</li>
					<li>added support for 'ftypqt' quicktime (usually .mov) video</li>
					<li>embed button now uses system gui colours</li>
					<li>embed button now puts the thumbnail of the media, if one exists, behind the 'play' button</li>
					<li>sped up an inefficient existing mapping check that was slowing new pending mappings for popular tags</li>
					<li>'last session' will no longer be listed on the gui session delete menu</li>
					<li>cleaned up the main gui's initialisation events--a sizing bug often triggered after system reboot may be fixed</li>
					<li>popup messages are initialised in a safer way</li>
					<li>popup messages are dismissed in a safer way</li>
					<li>popup messages will hide/restore themselves more reliably when the main gui window is minimised/restored</li>
					<li>the pending popup message queue is now regularly purged of already deleted messages</li>
					<li>new popup messages will no longer raise the main gui window to the top</li>
					<li>subscription http errors during the gallery sync phase are now caught and handled gracefully, with exact error text written quietly to the log</li>
					<li>network timeouts during successful response read are caught and converted to a hydrus network exception that will be caught and handled more reliably up the chain</li>
					<li>the client's upnp daemon will now silence upnp mapping errors that are due to the router being too busy or full or any other unknown errors. a simple statement about the error and an instruction to explore the problem with the manual upnp manager will be written to the log</li>
					<li>finished flexgrid refactoring</li>
					<li>the new automatic flexgrid creation detects subsizers and lines them up more accurately with standard controls</li>
					<li>wrapped the different sections of the 'speed and memory' options panel into staticboxes</li>
					<li>wrapped the misc crap up top the 'tags' options panel into a neater staticbox</li>
					<li>taglists with unusual tags will copy them more reliably and present fewer invalid menu options</li>
					<li>misc layout fixes</li>
				</ul>
				<li><h3 id="version_221"><a href="#version_221">version 221</a></h3></li>
				<ul>
					<li>fixed the 8chan thread parser for the new sha256 file urls. legacy links should still work!</li>
					<li>created a 'x recent tags' suggested tags control and all the db and so on to go with it</li>
					<li>recent tags defaults to off--turn it on under options->tags</li>
					<li>replacing the previously basic zoom_in_to_canvas, the zoom options now support 100%, max regular zoom, or canvas fit for scaling up and down and for the media and preview windows!</li>
					<li>cleaned up some garbage zoom code</li>
					<li>refactored and harmonised how default zooms are calculated</li>
					<li>harmonised and improved how canvas zooms are set</li>
					<li>zoom_switch now works for flash</li>
					<li>if it looks like the last instance of the client did not shut down cleanly, a new client will now present a dialog to choose whether to attempt opening the default session or just a blank page.</li>
					<li>all listctrls across the program have better secondary sort</li>
					<li>added an isatty() stub to the HydrusLogger for any unusual error handlers wanting to call it (youtube parser pafy was doing this)</li>
					<li>removed some accidental (123) counts from some predicate menu and clipboard rendering</li>
					<li>refactored a bunch of redundant flexgrid creation code</li>
					<li>did a bunch more flexgrid refactoring</li>
					<li>refactored some ugly global variables</li>
					<li>misc mvc cleanup</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_220"><a href="#version_220">version 220</a></h3></li>
				<ul>
					<li>fixed collection selection show action lookup for the preview window</li>
					<li>files added through the normal import dialog or import folders will be not be fed into the import pipeline if it looks like they are already in use by another process</li>
					<li>(hence setting an import folder to a browser download destination should be more reliable)</li>
					<li>rewrote some critical phash generation code that was running extremely slow when importing large pngs with transparency</li>
					<li>all listctrls that have an edit button now also trigger the edit event on item activate (e.g. double-click/enter key on an item)</li>
					<li>added zoom in/out/switch to edit shortcut action dropdowns, can't promise it works everywhere</li>
					<li>'stopping' a gallery page search will now correctly make sure the search queue is unpaused so it can move on to any subsequent search</li>
					<li>the way excess messages are added to the popup message manager is quicker, improving gui responsivity on message spam</li>
					<li>fixed a potential race condition when a file import occurs at the same time as client_files rebalancing</li>
					<li>fixed a potential race condition when a check_file_integrity db maintenance occurs at the same time as client_files rebalancing</li>
					<li>the client will no longer suppress some core debug stuff</li>
					<li>fixed an invalid event handler on canvas close bug</li>
					<li>fixed a long-time wx locale issue</li>
					<li>fixed a misc main gui parent assert issue</li>
					<li>fixed some invalid non-wx-thread calllater calls</li>
					<li>cleaned up some inartful showmessage calls</li>
					<li>cleaned up some datacache init code</li>
					<li>fixed some shutdown event handling</li>
					<li>generally improved and fixed in some cases how threads signal job status</li>
					<li>improved some thread-interaction timings</li>
					<li>improved how files and thumbnails are deleted</li>
					<li>file imports add their files to the client_files structure in a more sensible way</li>
					<li>misc fixes</li>
					<li>misc layout fixes</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_219"><a href="#version_219">version 219</a></h3></li>
				<ul>
					<li>wrote framework for per-mime zoom options--mimes now have separate show actions for the media viewer and the preview window and zoom in to fit</li>
					<li>added 'half/double zoom' to limit a mime's zoom to only 25%, 50%, 100%, 200%, 400% and so on (png defaults to this)</li>
					<li>added placeholders for zoom in/out algorithm quality, but they don't do anything yet</li>
					<li>added a listctrl to edit all this to options->media</li>
					<li>added a scrappy zoom values option to options->media</li>
					<li>cleaned up a bunch of zoom code</li>
					<li>added video/mpeg support</li>
					<li>fixed some mime layout stuff</li>
					<li>duplicate tag predicates across the 'all known tags' space are merged into more accurate (3-5)-type counts</li>
					<li>refactored and simplified how predicate counts are merged</li>
					<li>if launched from the manage tags dialog, the advanced content update dialog now correctly filters hta imports to only the files the manage tags dialog was launched with</li>
					<li>the advanced content update dialog has a bit of better text to explain this</li>
					<li>in prep for a complete rewrite of the image rendering pipeline, merged the fullscreen and preview image caches and cleaned up some related code</li>
					<li>added resume recovery to the v215->v216 update code for users for whom this update was interrupted</li>
					<li>directory creation is improved across the program</li>
					<li>fixed the optimised merge-move file code, which was forgetting to clean up the source when no move was needed</li>
					<li>the optmised merge-move directory code will now be much quicker in some situations</li>
					<li>all file moves across the program should be less stupid-error prone, and repeating/resuming many maintenance or update tasks that require a lot of moves will be much faster</li>
					<li>manual exports, which use copy rather than move, should also be more sensible and faster when repeated</li>
					<li>improved database exception rendering, which in some cases was being truncated</li>
					<li>misc cleanup</li>
					<li>misc small updates to help</li>
				</ul>
				<li><h3 id="version_218"><a href="#version_218">version 218</a></h3></li>
				<ul>
					<li>related tags control now updates on new media events (i.e. if the parent media viewer scrolls to different media)</li>
					<li>related tags also initialises with suggestions and refreshes the list on media change</li>
					<li>related tags now properly filter out dupe suggestions caused by siblings</li>
					<li>went over all the gui colours in the client, cleared some redundancies and replaced all the static whites and blacks with appropriate system defaults or chosen custom colours</li>
					<li>full size thumbnails can now also be stored in a different location, like resized thumbs, under options->file storage locations</li>
					<li>fixed false positive shutdown maintenance checking due to vacuums projected to take longer than the given maintenance time</li>
					<li>fixed false positive shutdown maintenance checking due to sqlite_stat1 creeping in</li>
					<li>pasting tags or otherwise editing many in at once in the manage tags frame will immediately commit all the changes in one db transaction, rather than one for each tag laggily in turn</li>
					<li>removed 'import tags' from file menu--this advanced stuff is now done in and better left to the advanced content update dialog</li>
					<li>restoring from an old db backup with a simpler db structure will no longer create conflicts</li>
					<li>deleting currently rendering files from the trash should be slightly more reliable</li>
					<li>fixed some crash error reporting</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_217"><a href="#version_217">version 217</a></h3></li>
				<ul>
					<li>fixed some high-res video streaming thread scheduling problems with the new video renderer</li>
					<li>fixed a cause of huge memory bloat with greatly upscaled videos</li>
					<li>to improve seek response time, streaming buffer for the video renderer has a much smaller cap</li>
					<li>renderer throttling calculations are more sensible and reliable</li>
					<li>the video renderer discards frames to save time if they happen to still be in its buffer</li>
					<li>the video scanbar now displays the current frame buffer around the caret!</li>
					<li>video canvas now recycles the same frame blit bitmap to save a little time</li>
					<li>wrote a prototype related-tags suggestion 'service' for the suggested tags control</li>
					<li>you can turn it on and set some options for it at options->tags, feedback would be appreciated</li>
					<li>munged increasingly complicated components of the suggested tags control into a clean and proper self-hiding panel</li>
					<li>fixed a very important bug that was failing to filter visible thumbnail fetch on mass select and thus massively slowing down the client on large ctrl+a-like operations</li>
					<li>open externally button now shows the media's thumbnail, if it has one</li>
					<li>open externally and embed buttons now use hand cursor</li>
					<li>the simple path tagging dialog panel now cuts off .jpg extensions from filenames on filename parse</li>
					<li>if the string component of a generated file export path already ends in the correct .jpg extension, a second will not be added</li>
					<li>ipfs unpin will no longer break if the file was already unpinned</li>
					<li>the hydrus server now gives filename (for a file save as dialog) correctly on a content-disposition header (this affects the client's local booru as well)</li>
					<li>the secondary sort can now be a namespace or rating sort</li>
					<li>fixed some potential init problems with some dropdown controls</li>
					<li>an edge case object-missing cache retrieval bug is fixed</li>
					<li>updated openssl on os x, which might have fixed some problems</li>
					<li>updated python on windows, which updated openssl and a bunch of other stuff</li>
					<li>updated sqlite on windows</li>
					<li>updated linux dev machine to ubuntu 16.04, so a variety of packaged libraries are updated</li>
					<li>fixed auto server setup if the client is launched from a windows cmd window</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_216"><a href="#version_216">version 216</a></h3></li>
				<ul>
					<li>video rendering pipeline rewritten to be much smoother</li>
					<li>canvas video render timing rewritten to be more frame accurate and smoother</li>
					<li>video rendering pipeline will deal with 100% CPU rendering bottlenecks much better</li>
					<li>videocontainers will rush to render towards clicked cursor and then slow down</li>
					<li>videocontainers will stop rendering as soon as they are replaced on zoom</li>
					<li>videocontainers will stop rendering as soon as their parent canvas is closed</li>
					<li>added a video buffer size option to options->speed and memory</li>
					<li>client_files subfolders are now split into f, t, and r groups for files, full size thumbnails, and resized thumbnails</li>
					<li>added an option to override resized thumbnail storage location under options->file storage locations</li>
					<li>added secondary sort option to options->sort/collect</li>
					<li>fixed a bug where automatically pended tags could exist on top of current tags, forming redundant (1) (+1) situations</li>
					<li>fixed a bug when sorting by namespace and a respective namespaced tag has a sibling that de-namespaces it</li>
					<li>relatedly, namespace sorting will now filter correctly by collapsed siblings when those sibling pairs' namespaces differ</li>
					<li>and collecting will now collect correctly with sibling pairs where the pairs' namespaces differ</li>
					<li>simplified how the server caches its account sessions</li>
					<li>improved how the server refreshes specific account sessions</li>
					<li>the server now refreshes cached session accounts immediately when an admin actions an account type</li>
					<li>neatened a little server db account fetching code</li>
					<li>fixed file repository petition denial</li>
					<li>added a better catch for upnp addmapping error when the mapping already exists as a port forward</li>
					<li>the media canvas will no longer accept any mouse or key event if a menu is open anywhere in the program (this circumstance is difficult to pull off, but does cause a crash)</li>
				</ul>
				<li><h3 id="version_215"><a href="#version_215">version 215</a></h3></li>
				<ul>
					<li>you can now set different suggested favourite tags for different tag services</li>
					<li>added an option to tags option panel to set fixed suggested tags control width</li>
					<li>file import status now works on the new window sizing system, and when launched from main gui uses file_import_status frame key</li>
					<li>file import status is now a generic apply/cancel dialog when launched from import folder or subscription dialogs</li>
					<li>these file import status dialogs are reenabled for linux and os x, as they work properly now!</li>
					<li>very large images will render faster and more beautifully on a freshly launched fullscreen media window</li>
					<li>all zooming in will be higher quality, particularly for sharper images</li>
					<li>better zooming in code also works for very large animations/video</li>
					<li>started a framework for better html parsing</li>
					<li>updated sankaku downloader to support 'medium' namespace</li>
					<li>analyze calls no longer analyze sqlite_stat1, which isn't needed and sometimes gives awkward maintenance timings</li>
					<li>fixed server's deleteorphans, which wasn't working with the new thumbnail names</li>
					<li>improved speed and weight of server's deleteorphans</li>
					<li>fixed a missing foreign key in file_petitions</li>
					<li>improved thread worker creation and job processing scheduling</li>
					<li>fixed os x media viewer window float_on_parent status</li>
					<li>default gui session now defaults to 'last session'</li>
					<li>gui recovers from missing default session on boot more gracefully</li>
					<li>crash log code improvements now applied to all boot scripts</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_214"><a href="#version_214">version 214</a></h3></li>
				<ul>
					<li>wrote a new resizing dialog 'edit' class for simple resizing dialogs</li>
					<li>added comprehensive frame size and position options for the new system to the gui options panel</li>
					<li>moved review services frame to the new sizing system</li>
					<li>windows that initialise maximised will correctly return to their last remembered size and position on a restore event</li>
					<li>maximising a window by dragging it to the top edge of the screen should remember last position as the initial drag start position more reliably</li>
					<li>positioning code is a little safer</li>
					<li>fixed some missing recalculation of best/min size for wx.notebooks after page change</li>
					<li>fixed missing recalculation of scrolledpanel's virtualsize after child wx.notebook's page change</li>
					<li>fixed bad parentage for file import status frames</li>
					<li>hid file import status button in manage import folders and subscriptions dialogs for non-Windows, as this is very broken, and the parentage fix wasn't enough</li>
					<li>improved fuzzy padding on size calculations</li>
					<li>refactored and cleaned and harmonised a bunch of the new window resizing code</li>
					<li>suggested tags - favourites tag entry in options is now a live autocomplete dropdown</li>
					<li>cleaned suggested tags - favourites layout in options</li>
					<li>suggested tags listbox now sets its width to exactly fit its tags</li>
					<li>improved workflow logic of removing/petitioning siblings and parents (shouldn't get stuck in loops as much now)</li>
					<li>tag listboxes will update when tag siblings change</li>
					<li>the 'auto-replace siblings' state on manage tags will no longer incorrectly apply to removal actions</li>
					<li>import status caches now display errors in a more straightforward way</li>
					<li>errors sent to import status caches are now also printed to the log</li>
					<li>simplified how database exceptions are caught and displayed</li>
					<li>database exceptions now preserve the original exception type</li>
					<li>fixed db-side traceback line spacing in database exceptions</li>
					<li>improved general database exception rendering</li>
					<li>fixed imports for videos with negative start time</li>
					<li>deleting videos from the trash that are currently rendering should be more reliable</li>
					<li>crash.log now goes to the db dir, unless that isn't determined yet or is unwritable, in which case the traceback goes to console</li>
				</ul>
				<li><h3 id="version_213"><a href="#version_213">version 213</a></h3></li>
				<ul>
					<li>created a new tag listbox for the new suggested tags control</li>
					<li>added a extremely basic and prototype suggested tags control for favourite tags to options->tags and manage tags dialog</li>
					<li>off-screen position detection is now more lenient to account for window managers that position slightly off screen to cut off border</li>
					<li>new dialog sizing code adds a little more fuzzy padding on all min size calcs, reducing superfluous scrollbars</li>
					<li>hydrus's custom listbook now informs parent scrollable panels of need to recalc scrollbars on page change</li>
					<li>the new flexible dialog and frame now catch these events and will expand their size if they need to and have the space</li>
					<li>the client options dialog now works on the new sizing system--it will automatically resize when you change pages</li>
					<li>some frame resize save event code is improved</li>
					<li>the media viewer is no longer aggressive about claiming focus</li>
					<li>stacked manage tags panel buttons to allow for thinner dialog</li>
					<li>misc dialog cleanup</li>
					<li>corrected some bad logic that was excluding transparent gifs from the new thumbnail handling</li>
					<li>all gifs and pngs will have their thumbnails regenerated on both the client and server, taking advantage of the recent thumbnail improvements</li>
					<li>fixed a bug if you click cancel when choosing an hta path to sync a tag service with on manage tags dialog</li>
					<li>fixed a bug where noneditable services (local tags and local booru) could sometimes become editable on manage services dialog. the edit buttons should now disable correctly on init, and there's an additional check in the add code in case of future problems</li>
					<li>any superfluous local files/booru services will be deleted on update</li>
				</ul>
				<li><h3 id="version_212"><a href="#version_212">version 212</a></h3></li>
				<ul>
					<li>wrote a neat flexible system for recording and restoring a variety of window size and position information</li>
					<li>moved the manage tags dialog to the new size and position system</li>
					<li>moved the main gui and the media viewer to the new size and position system</li>
					<li>the manage tags window launched from a media viewer is now a non-modal frame, allowing interation with the underlying media viewer while floating on top of it</li>
					<li>the new manage tags frame commits changes immediately!</li>
					<li>review services and file import status will now stay on top of the main gui</li>
					<li>fixed some bad advanced content update dialog launch code</li>
					<li>the hydrus tag archives in hta syncs can now be anywhere, not just in the client_archives folder</li>
					<li>whole bunch of hta sync cleanup</li>
					<li>paletted images are now dequantized to RGB(A) before thumbnail generation, enhancing scale quality</li>
					<li>'LA' (greyscale+transparency) images will now render with correct transparency</li>
					<li>png files will now always generate png thumbnails (previously it was just ones with transparency)</li>
					<li>trivial options changes are less frequently saved</li>
					<li>rule34@booru.org now parses namespaced tags</li>
					<li>fixed a bug in thumbnail resize error recovery code</li>
					<li>fixed a bug in file repository petitions</li>
					<li>updated to Pillow 3.2.0</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_211"><a href="#version_211">version 211</a></h3></li>
				<ul>
					<li>added options for disk cache init and maintenance to 'speed and memory' page of options</li>
					<li>abstracted the manage tags dialog into a general purpose 'apply' dialog and a scrollable manage tags panel</li>
					<li>the 'auto-replace entered siblings' checkbox now remembers how it was last set</li>
					<li>uncertain sibling tag counts will now appear like 'tag (1,234-1,456)', showing the range of possible results they represent</li>
					<li>fixed a bug where siblings would be collapsed inside the tag manager object if a specific tag search domain was set</li>
					<li>altering the search text on an autocomplete from 'tag' to '-tag' or vice versa should graphically update more reliably, and an exact-matching predicate will be promoted to the top of the list correctly either way</li>
					<li>calls to upnpc will now kill the process and raise an exception if it hangs for more than thirty seconds</li>
					<li>misc improvements and cleanup</li>
				</ul>
				<li><h3 id="version_210"><a href="#version_210">version 210</a></h3></li>
				<ul>
					<li>manage tags dialog now launches much faster when thousands of thumbs are selected</li>
					<li>manage tags dialog now has a prototype 'do this for all' checkbox to make mass selected-tag editing a bit quicker</li>
					<li>polished the new disk cache turbo mode, added free memory limits and more options</li>
					<li>a bit of disk cache population now runs on client boot, just to kick things off</li>
					<li>a full disk cache population now runs before repo sync</li>
					<li>the client now keeps about 200MB of itself in the disk cache during idle maintenance</li>
					<li>the update files in client_updates are now stored compressed</li>
					<li>the log files and 'already running' files are now stored in the db folder, meaning hydrus shouldn't have to write to anything but db dir and temp dir</li>
					<li>'already running' files now delete themselves on program close if they can</li>
					<li>the log directory is no longer needed</li>
					<li>if there is only one booru to select, it will be auto-selected</li>
					<li>client failed exit is less likely to hang, more likely to log error</li>
					<li>client won't bother to save lest session regularly or on exit if this is not the default startup session</li>
					<li>hotfixed an auto-vacuum bug</li>
					<li>added a catch for any future vacuum mess-ups to save the db from collapse</li>
					<li>added other catches for other close/reinit db calls</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_209"><a href="#version_209">version 209</a></h3></li>
				<ul>
					<li>the advanced content update dialog can now be !aunched from manage tags, and will only affect the files the dialog was launched for</li>
					<li>gave the advanced content update dialog a bit of a makeover</li>
					<li>system:ratio now supports 'taller than' and 'wider than' operators</li>
					<li>merged client thumbnails into the dynamic file directory structure</li>
					<li>the client files manager now manages thumbnail paths exclusively</li>
					<li>thumbnail import responsibility moved to the client files manager</li>
					<li>thumbnail resizing responsibility moved to the client files manager</li>
					<li>orphan clearing and thumbnail regeneration maintenance tasks moved to client files manager</li>
					<li>'regenerate thumbnails' now has an 'only do missing' mode</li>
					<li>thumbnail regen on resize is faster</li>
					<li>copy file to clipboard responsibility moved to the client files manager</li>
					<li>media file and thumbnail deletion responsibility moved to the client files manager</li>
					<li>if a full size thumbnail is missing but regenerated ok, the client files manager will now only produce one, better error message</li>
					<li>cleaned some bad error detection and reporting code</li>
					<li>cleaned some regular 'thumbnail size has changed' code</li>
					<li>fixed and cleaned a mix of file and thumbnail path code</li>
					<li>client files rebalancing and recovery will now efficiently move-merge rather than copy-merge</li>
					<li>fixed some bad portable->absolute path normalisation</li>
					<li>improved missing external storage location error reporting</li>
					<li>server thumbnails are similarly merged into server_files</li>
					<li>to keep things simple, the client no longer keeps track of number of local vs. remote thumbnails for file repositories</li>
					<li>perceptual hashes are now calculated from original file, not thumbnail, and only for jpegs and pngs (videos had too many black frames etc...)</li>
					<li>the vacuum maintenance popup will now only appear if a vacuum can be completed in the time available</li>
					<li>slideshows will now yield to any open popup menu, not just those launched from their own canvas</li>
					<li>wrote a prototype turbo mode and put it on the debug menu</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_208"><a href="#version_208">version 208</a></h3></li>
				<ul>
					<li>split the path tagging dialog's complex widgets into simple/advanced panels</li>
					<li>added filename and directory 1, 2, and 3 easy tagging, with namespaces to path tagging dialog</li>
					<li>fixed up some buggy 'tags just for selected files' behaviour</li>
					<li>ipfs directories now support a note</li>
					<li>the ipfs directory note can be edited from review services</li>
					<li>added 'all namespaced tags' and 'all unnamespaced tags' to the advanced content update/service-wide operation dialog</li>
					<li>added 'clear trash' button to trash panel on review services</li>
					<li>separate timestamps for file repo upload and ipfs pin will be displayed on single-thumb right-click menu</li>
					<li>the correct file domain timestamp will be used for newest/oldest sort</li>
					<li>db integrity check now scans all attached database files</li>
					<li>broke up mappings petitions in the server db into more efficient 'deleted' and 'petitioned' parts</li>
					<li>cleared out some static refs in prep for external db location</li>
					<li>simplified a bunch of file mirroring code and improved error handling of directory mirroring</li>
					<li>fixed a rare thumbnail resolution calculation bug</li>
					<li>misc smaller fixes and cleanup</li>
				</ul>
				<li><h3 id="version_207"><a href="#version_207">version 207</a></h3></li>
				<ul>
					<li>finished ipfs directory creation</li>
					<li>ipfs review services pane now shows current directory shares</li>
					<li>cleaned up some content event responsibility in ipfs service code</li>
					<li>fixed a file download bug when using ipfs 0.4.2</li>
					<li>wrote some more ipfs help, for directories</li>
					<li>popup messages can now hold arbitrary copy-to-clipboard text content</li>
					<li>fixed the new listbook changes for Linux, which was having trouble tracking the client_data inside the sorted listbox</li>
					<li>fixed an issue with the custom filter management dialog possibly duping the 'default' entry on ok, making impossible to again launch</li>
					<li>offloaded tag parent generation responsibility in the a/c write tag pipeline</li>
					<li>added a checkbox to manage tags dialog that will control if siblings are auto-replaced on entry</li>
					<li>all the clunky 'add preferred sibling' workflow is removed from the manage tags dialog</li>
					<li>fixed incidence tag sort order not initialising properly in the options dialog (and transferring to lexi (namespace) every time)</li>
					<li>fixed too-eager quit during shutdown db analyze</li>
					<li>fixed the db restorebackup call, which wasn't closing the gui correctly</li>
					<li>the manage services dialog will now automatically re-check 'allow zero' on numerical ratings with only one star</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_206"><a href="#version_206">version 206</a></h3></li>
				<ul>
					<li>if the currently focused thumbnail is removed from view, the earliest non-selected thumbnail will be remembered as a 'ghost' focus if the user then presses the arrow keys to continue to navigate</li>
					<li>if the user presses an arrow key to navigate the thumbs when there is no known focus thumb, the first will be assumed</li>
					<li>the listbook now supports duplicate display names</li>
					<li>services of the same type can now have the same name</li>
					<li>cleaned some listbook code</li>
					<li>inbox or custom filters will now render first-file animations correctly on initialisation</li>
					<li>fixed the 'change' event on the new timedeltabutton, which was not updating the thread checker on dialog ok</li>
					<li>subscriptions will now naturally terminate their gallery sync on a 404, rather than dumping out with an error</li>
					<li>fixed some false positive 'paths are different' testing in default directory mirroring code (used in db backup, restore) that was slowing these operations down</li>
					<li>if database files have the same file and modified timestamp, they won't be re-copied in a backup or restore</li>
					<li>client external storage location recovery/rebalancing will now skip over files with the same size and modified date</li>
					<li>if you backup the client and have external file storage locations, a popup will remind you to back those locations up manually</li>
					<li>did a quick pass over some help stuff, and added a 'can the client manage files from their origial locations' bit to the faq</li>
					<li>created a simple no-reward patreon, wrote some help about it, and added links in the usual places</li>
					<li>empty 'read' a/c dropdowns will be more careful about idly refreshing their system preds, hopefully leading to less accidental gui hang on large jobs</li>
					<li>main gui menus will be more careful about refreshing themselves when called, hopefully leading to less accidental gui hang on large jobs</li>
					<li>text snippets are stored inside the client db in a better way</li>
					<li>added flat service directory structure storage support to the client db</li>
					<li>fixed a mapping petition rescind sql typo</li>
					<li>fixed the v198->v199 server update code</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_205"><a href="#version_205">version 205</a></h3></li>
				<ul>
					<li>fixed v201->v202 update code, which v204 retroactively broke</li>
					<li>wrote a new maintenance routine to regenerate the ac cache if it ends up miscounting or not generating correctly</li>
					<li>fixed specific ac_cache generation code, which was double-counting because of recent file-add optimisation</li>
					<li>client db maintenance now vacuums attached databases according to their own vacuum clocks</li>
					<li>client will more aggressively vacuum and analyze if the client has been idle for an hour</li>
					<li>client vacuum now prints success statements, with duration, to the log</li>
					<li>analyze now produces an auto-dismissing vacuum-like popup message</li>
					<li>the 'is maintenance due' check on shutdown now accounts for the new vacuum logic and includes analyze needs as well</li>
					<li>shutdown maintenance will use more of its allotted time if needed</li>
					<li>tag archive sync now always filters to local files on initial sync</li>
					<li>if you import a tag archive with sha256 hash, you are now given the option to filter to local files or import everything</li>
					<li>the occasionally crashtastic opencv.imread call is now completely replaced with PIL, let's see if it's too slow</li>
					<li>the new-but-now-redundant 'disable opencv for static images' option is removed as a result</li>
					<li>fixed a redirection location parsing bug that was affecting sankaku subs with >1000 initial files</li>
					<li>fixed some bad analyze timestamp tracking code</li>
					<li>fixed advanced content update code, which still had some mapping service_ids floating around</li>
				</ul>
				<li><h3 id="version_204"><a href="#version_204">version 204</a></h3></li>
				<ul>
					<li>current, deleted, pending, and petitioned mappings are now stored on service-separated dynamic tables</li>
					<li>any tag service deletion or reset should now only take a few seconds</li>
					<li>fixed a physical file deletion bug that seems to have affected (some?) versions of linux and os x</li>
					<li>reintroduced a revamped 'clear orphans' database->maintenance routine for the client, which will delete or move orphaned files and delete orphaned thumbnails. run this if you are on os x or linux</li>
					<li>improved misc file deletion code</li>
					<li>fixed some multiplatform path conversion, and generally improved how paths are stored and retrieved</li>
					<li>the network application of a parent tag to all files with the child tag now happens serverside, and only on petitioner-approval of a tag parent relationship. it still occurs locally to the uploader, but is now wrapped up in the parent commit</li>
					<li>fixed some numtags search logic</li>
					<li>fixed an issue when mixing system:age with any tag-based predicate</li>
					<li>media_results db calls no longer require a file domain</li>
					<li>'hide inbox and archive preds if either has no files' now defaults to off</li>
					<li>added an option to disable OpenCV for gif rendering</li>
					<li>the selection tags panel now initialises with the correct tag domain (it was previously always starting as 'all known tags', which is not always true for session pages)</li>
				</ul>
				<li><h3 id="version_203"><a href="#version_203">version 203</a></h3></li>
				<ul>
					<li>thumbnail resize now happens on the fly--feel free to change it as often as you like, it takes no time at all</li>
					<li>added 'lexicographic (grouped by namespace)' tag sorting to the selection tags box</li>
					<li>added an option to disable OpenCV for static images under the media options page</li>
					<li>panning with the shortcut keys now pans by a twelfth of the media size or canvas size, whichever is smaller</li>
					<li>cleared the analyze timestamp cache for both client and server, which will force a reanalyze of the new db files on the next db maintenance run</li>
					<li>improved some misc analyze code--primary keys are analyzed again</li>
					<li>added an explicit analyze command to the client's database maintenance menu</li>
					<li>the server now analyzes attached database files</li>
					<li>improved an unhelpful server thumbnail error message</li>
					<li>added an invalid NULL check-and-skip to hash cross-referencing</li>
					<li>fixed some invalid a/c write dropdown search domain initialisation</li>
					<li>fixed some borked zoom calculation code that was sometimes lagging the media viewer and leading to 100% zoomed images being sent unneccessarily and then being nastily scaled down</li>
					<li>fixed a file import error if a synced tag archive is missing</li>
					<li>updated sqlite for windows</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_202"><a href="#version_202">version 202</a></h3></li>
				<ul>
					<li>fixed a problem with the v198->v199 update step</li>
					<li>added a bad error catch in the vacuum step in v200->v201</li>
					<li>added some rollback exception handling for unusual situations</li>
					<li>the autocomplete caches under the client_cache subdirectory are dynamically folded into a single client.caches.db file, and that file is folded into the main db journal like the other attached dbs</li>
					<li>ac_cache file and tag processing lag and edge-case autocomplete miscounting should be removed as a result</li>
					<li>cache generation is optimised for empty services</li>
					<li>specific file_caches' add and delete file commands now modify their tables directly, saving a whole load of time that was previously done superfluously filtering</li>
					<li>the specific ac_caches' add mappings command is a bit more logically efficient</li>
					<li>increased cache size for each attached database</li>
					<li>folded all 'attached' db update code into the main update_db routine</li>
					<li>folded all 'attached' db init code into the main create_db routine</li>
					<li>made the vacuum checking routine safer</li>
					<li>reduced analyze log spam</li>
					<li>analyze maintenance breaks its larger jobs up better</li>
					<li>analyze mainenance now analyzes external databases</li>
					<li>the db connection now refreshes every half hour, to regularly clear out journal files</li>
					<li>the hydrus db assumes it generally has exclusive control over its db, so it no longer wraps its read-only requests in transactions</li>
					<li>session load now happens off the main gui thread, and media generation is broken into 256-file chunks, which reduces startup db and gui lag for large sessions</li>
					<li>the youtube video downloader now lists a webm option if youtube provides one (they seem to offer 360p webms on everything(?) now)</li>
					<li>the timedeltacontrol (where you set the period for the thread checker and import folders and so on) is replaced by the more compact timedeltabutton, which will launch a dialog with the old control when clicked</li>
					<li>the server will no longer revisit old updates and cull since-deleted content, as this was proving cpu-burdensome and not helpful to future plans for update dissemination, which will rely on static update files</li>
					<li>misc cleanup of some server db stuff</li>
					<li>content update processing will not spam menu updates throughout, but only notify once at the end, which should reduce idle gui hang due to db access choke</li>
					<li>the autocomplete tag entry will not refresh system pred menu during idle, which should reduce idle gui hang due to db access choke</li>
					<li>shutdown repo sync will now report the update summary text and will not spam the intervening statuses to the log</li>
					<li>moved timestamp out of the serviceless media_result and into the locations_manager, to reflect the database's knowledge of each current service having a different timestamp</li>
					<li>local and trash timestamps are generated from the locations_manager now, and non-local file service timestamps will soon follow (e.g. 'pinned to ipfs_service 3 days ago')</li>
					<li>if the timestamp is unknown for the current service context, it will not be displayed</li>
					<li>file repositories will now only sync thumbnails when their updates are completely synced (to stop 404s from since-deleted files)</li>
					<li>fixed a ( 0, 0 ) resize event bug that was sometimes causing borked media containers on media viewer shutdown</li>
					<li>syncing to a sha256 tag archive will still import the data as requested, but a popup note will explain that as everything will be imported, further syncing is pointless., and the sync will not be saved</li>
					<li>fixed a bug in hta export if you click cancel on the hash_type choosing dialogs</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_201"><a href="#version_201">version 201</a></h3></li>
				<ul>
					<li>exported hash and tag master tables to external database files for both client and server</li>
					<li>the client's 'mappings' table is split into 'current_mappings' and 'pending_mappings', saving about 20% of space and speed for almost all mappings operations</li>
					<li>removed superfluous rowid column from client mappings tables, saving about another 20% of space</li>
					<li>removed superfluous rowid column from server mappings tables, saving about 20% of space</li>
					<li>to save time, service mapping counts now only aggregate current mappings, not current and pending</li>
					<li>exporting to tag archive now only exports current_mappings, not pending</li>
					<li>'all known files' queries will more cleverly discern their current/pending search domain</li>
					<li>tag count queries will more cleverly discern their current/pending search domain</li>
					<li>cleaned up a lot of mapping-related query code, and any ugly status leftovers from current/pending union</li>
					<li>num_namespaces is no longer tracked for tag services</li>
					<li>unified clientside service deletion code, fixing several orphan-generation issues</li>
					<li>db update will remove all mappings orphans created by a recent tag service deletion</li>
					<li>some db settings init is harmonised into one location</li>
					<li>fixed up some external db settings init</li>
					<li>db connection settings are now applied to all attached db files</li>
					<li>db vacuum code is harmonised into one location</li>
					<li>vacuum cleans up after itself better</li>
					<li>db vacuum is now preceded by a hard drive free space check</li>
					<li>db vacuum can now predict how long it will take</li>
					<li>if a vacuum fails for an unexpected reason, the db will now recover better</li>
					<li>the db recovers from failed backups better</li>
					<li>the server db will vacuum all its databases on a backup, except any that it thinks will take total vacuum time to more than five minutes</li>
					<li>server backup will report roughly how long it took, clientside</li>
					<li>significantly sped up system-tag-only 'all known files' queries for tag services that have many mappings</li>
					<li>significantly sped up system:numtags for =0 or >0 when tag services have many mappings</li>
					<li>the status bar has some improved grammar, reporting overall common mime as appropriate</li>
					<li>the status bar reports single-thumbnail info text when one file is selected</li>
					<li>fixed an image cache key type-matching bug</li>
					<li>data cache now tracks objects with dynamic memory usage</li>
					<li>the static image rendering-cache relationship has been slightly dejanked</li>
					<li>added a couple of checkboxes to the options->gui page to hide/show thumbnail title banner and page indicator</li>
					<li>the manage tags censorship dialog now defaults to the 'all known tags' service on init</li>
					<li>slideshows will not progress if the current media is either a static image that has yet to render or an unpaused animation that has yet to run through once</li>
					<li>service content package status messages now summarise their final commit status better</li>
					<li>this nice new line is printed to the log as a record of repo sync rows/s speed</li>
					<li>the client will shut down faster if big jobs are running</li>
				</ul>
				<li><h3 id="version_200"><a href="#version_200">version 200</a></h3></li>
				<ul>
					<li>added 'censor tag' to tag right-click menu</li>
					<li>cleaned tag censorship a bit and moved from the gui down to the db layer</li>
					<li>fixed tag censorship for multiple services</li>
					<li>sped up tag censorship a bit</li>
					<li>improved some tag censorship logic for unusual namespace situations</li>
					<li>tag censorship now applies to siblings and parents, even in their management dialogs!</li>
					<li>fixed the missing fit zoom when scrolling through zooms and when flipping between 100% and fit zoom</li>
					<li>cleaned some canvas init code, which was loading bad initial zoom values due to other recent changes</li>
					<li>restored standard static image zoom mode for cv-supported images to high, inter_area quality</li>
					<li>cleaned up some image/animation container init code</li>
					<li>cleaned up some image cache image tracking code</li>
					<li>fixed ipfs pin, which was conflicting with the new ac caches</li>
					<li>extracted client deleted_mappings to their own db table</li>
					<li>prepped mappings processing to work with status-separate mappings tables--it is also a lot cleaner now</li>
					<li>because of the deleted_mappings extraction, a bunch of mappings membership tests are much simpler now</li>
					<li>upped the db cache size to a semi-ludicrous 150MB, which nonetheless seems to improve processing speed</li>
					<li>improved how hydrus databases manage their db file locations</li>
					<li>improved how the client and server databases backup/restore</li>
					<li>improved some non-local thumbnail fetching code</li>
					<li>converted some old YAML stuff to JSON</li>
					<li>improved big job polite pausing code</li>
					<li>cleaned up some clientside imports, and set the client to only import its server code if it needs to boot a local service</li>
					<li>when an import folder needs to rename a file it is about to move because of a conflict, it will now add autoincrementing numbers, starting at 0, and before the file extension</li>
					<li>added some missing shortcut actions (pan_x and set_media_focus) to the shortcut input entry dialog</li>
					<li>tags and siblings that match the current WRITE autocomplete tags entry will no longer have doubled parents!</li>
					<li>improved how system:limit is applied to searches</li>
				</ul>
				<li><h3 id="version_199"><a href="#version_199">version 199</a></h3></li>
				<ul>
					<li>added 'all known files' autocomplete caches, so manage tags dialogs' autocompletes should now always appear quickly</li>
					<li>the now caches will be created on startup, which may take a few minutes</li>
					<li>deleted the old tag autocomplete cache</li>
					<li>wrote a faster initialisation routine for all known files caches</li>
					<li>fixed an ac_cache cleanup typo</li>
					<li>the client's (usually gigantic) mappings table is temporarily extracted to an external db file, which should have numerous benefits and perhaps a few drawbacks for now</li>
					<li>the update will take a few more minutes, and will need lots of disk space, to extract the mappings</li>
					<li>the server has a very similar external mappings table, so it will also need a while to update, but future admin backup calls will be a lot quicker, due to a much smaller vacuum</li>
					<li>greatly optimised a mass-membership calculation in tag processing</li>
					<li>reduced some db check-spam timer that was adding up idle cpu time because of recent ac_cache additions</li>
					<li>fixed predicate parent sorting</li>
					<li>if swfrender fails to generate a swf thumbnail within 60 seconds, the client will now dump out (rather than hanging indefinitely)</li>
					<li>fixed some string-selection dialog layout rules</li>
					<li>optimised some 'all known files' search queries</li>
					<li>subscriptions will now append new urls in oldest->newest order, roughly preserving that order in the internal url cache</li>
					<li>the 8chan thread watcher now accepts .json API urls directly</li>
					<li>the repository processing routine will handle server_busy errors more gracefully</li>
					<li>cleaned and refactored most media viewer 'canvas' code, dejankifying a whole bunch of related stuff and generally improving the object hierarchy</li>
					<li>cleaned up and unified a lot of logic and responsibility for idle checking and shutdown maintenance stop time for some big jobs</li>
					<li>misc cleanup</li>
					<li>misc dialog cleanup</li>
				</ul>
				<li><h3 id="version_198"><a href="#version_198">version 198</a></h3></li>
				<ul>
					<li>ipfs download now parses directory multihashes</li>
					<li>ipfs directory trees are thrown up on a new checkbox tree dialog for selection/filtering</li>
					<li>created a new download_urls (i.e. multiple urls in one popup) popup call, which the new ipfs directory downloader uses</li>
					<li>improved a very inefficient line of sql in the mappings fetch stage of query result building that was also used in the manage tags dialog. on my dev machine, fetching 256 files' mappings dropped from 2.5s to 9ms!</li>
					<li>regular gallery pages and 'page of images' pages now have a 'paste input' button to mass-add newline-separated queries from the clipboard</li>
					<li>fixed a typo in new txt_tags import folder code</li>
					<li>fixed bad autocomplete predicate sorting</li>
					<li>fixed some sibling autocomplete search_text matching logic</li>
					<li>some byte-based value/range presentation will now correctly convert to bytes, rather than regular decimal numbers</li>
					<li>improved linesep splitting code across the program</li>
					<li>fixed get/setlabel calls across the program to get/setlabeltext, so ampersand characters are handled properly</li>
					<li>wrote an 'all known files' autocomplete cache db and prepped a bunch of code for it--it should be easy to finish next week</li>
					<li>added a new regex practise link to the regex dialogs</li>
					<li>os x app release should display better on retina displays</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_197"><a href="#version_197">version 197</a></h3></li>
				<ul>
					<li>on client boot, autocomplete caches for specific file/tag service cross-references are now initialised and populated. progress is shown on the splash window</li>
					<li>on client boot, surplus autocomplete caches are deleted</li>
					<li>on service add, new autocomplete caches are created</li>
					<li>on file add/delete, autocomplete caches are updated</li>
					<li>on mappings pend/add/rescind pend/delete, autocomplete caches are updated</li>
					<li>the new autocomplete caches are consulted for all non-'all known tags' queries</li>
					<li>the old autocomplete cache no longer stores counts for specific file services, and the remaining associated maintenance calls are deleted</li>
					<li>databases now start their own mainloops</li>
					<li>databases now wait for their mainloops to finish prepping any large caches before they return to the controller</li>
					<li>the client database waits for autocomplete caches to finish before it finishes its own mainloop</li>
					<li>the padding around flash and the animation bar are included more accurately in some media zoom calculations, which should eliminate some general zoom jankiness and accidental 100% flash zoom coincidences that filled up the whole canvas</li>
					<li>fixed some clientside server boot error spam when local server or booru had no port set</li>
					<li>account refreshes that fail due to a network error will spam less to the log</li>
					<li>fixed .txt unicode tag parsing from import folders, which was not decoding at the correct step</li>
					<li>administrator immediate repository syncs now sync thumbnail downloads if needed</li>
					<li>service thumbnail sync will no longer superfluously check the presence of thumbnails whose files are local</li>
					<li>if a tag entered into the manage tags dialog has a sibling that already exists for all files, then a new 'ignore, as the sibling already exists' choice will appear</li>
					<li>fixed an overcounting bug in 'selection tags' when importing and adding tags at the same time</li>
					<li>fixed a typo in repository sync status text that was overcounting total number of updates by one</li>
					<li>fixed youtube downloader, which broke with the new library on my new dev machine</li>
					<li>the way that tags and predicates are filtered against a tag autocomplete text entry is now much faster</li>
					<li>bumped up the default content update chunk threshold from 100 rows to 5,000, which seems to be speeding up processing significantly, with a cost to recovery latency--see how it works for you</li>
				</ul>
				<li><h3 id="version_196"><a href="#version_196">version 196</a></h3></li>
				<ul>
					<li>fixed the 8chan thread watcher for boards that host content on media.8ch.net</li>
					<li>improved the thread watcher url check logic so it won't lag with the new fix</li>
					<li>cleaned up the ac generation code a little</li>
					<li>'all known tags' ac counts are now summed from all the known tag services rather than calculated directly (a <= indicator for when these cases overlap will be forthcoming). this speeds up file add/delete, service reset, a/c fetch time, and general tag processing, and reduces the size of the db</li>
					<li>ac generation code now deals with 'is the entry text an exact match or not?' better</li>
					<li>ac generation code will now no longer produce non-exact-match siblings on an exact match search</li>
					<li>ac generation code will no longer save half complete search text into the db as new tags</li>
					<li>on update, the a/c cache and its helper table 'existing tags' will be cleaned of a lot of orphans, which may take a few minutes</li>
					<li>fixed some bad unicode path parsing when importing files in some OSes, I think!</li>
					<li>fixed some bad read autocomplete sibling substitution</li>
					<li>fixed a bug where autocomplete predicate lists would not update if the new list was merely a reorder (which can happen in some unusual sibling cases)</li>
					<li>fixed the tumblr parser for the subtly new API</li>
					<li>import folders now support loading tags from neighbouring .txt files--check the dialog to set up which tag services you would like to import to</li>
					<li>the ipfs file downloader now queries DAG object links, determines if the given multihash is a directory or other complicated object, and if so politely dumps out (handling of directory downloads is forthcoming)</li>
					<li>some db code is cleaned up</li>
					<li>prepared db code for some future subclasses</li>
					<li>wrote most of the new ac cache db</li>
					<li>misc cleanup</li>
					<li>added some browser addon links to the ipfs help</li>
				</ul>
				<li><h3 id="version_195"><a href="#version_195">version 195</a></h3></li>
				<ul>
					<li>wrote up a v1.0 ipfs help page</li>
					<li>added ipfs services to 'system:file service'</li>
					<li>added a 'multihash prefix' option to ipfs services in 'services->manage services'--it will prefix the given text to multihashes copied to the clipboard (e.g. you could use 'http://127.0.0.1:8080/ipfs/')</li>
					<li>fixed a bad repo sync processing bug that was incorrectly assuming packages were completely processed when they often were not</li>
					<li>all repos will have their processing timestamps reset on update, forcing a (fast) reprocess of everything they have to cover the previously missed content</li>
					<li>fixed 8chan OP image parsing, which was sometimes failing due to absent md5s in the json</li>
					<li>widened the splash screen a little more so repo sync text can fit a bit better</li>
					<li>a couple of splash status texts are shuffled around</li>
					<li>updated to sqlite 3.11.0 for windows</li>
					<li>if sqlite3 reports at least version 3.11.0, the db will stick to WAL for large transactions (lke vacuum and content processing), since these are fast now</li>
					<li>'namespace:*anything*' will now only appear if the a/c input has no 'subtag' component., e.g. 'character:'</li>
					<li>import and export folders now print simple summaries to the log if they do some work</li>
					<li>tidied up the 'pages' menu</li>
					<li>the various hardcoded 'delete' key events are now also triggered by a backspace on os x</li>
					<li>added a rough 'copy known urls' to the regular thumbnail menu. this is prototype, let me know how you would like this information managed and displayed in future</li>
					<li>in prep for the new cache layer, the autocomplete dropdowns (and hence search domains of all contexts) no longer support 'all known files' cross referenced with 'all known tags'</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_194"><a href="#version_194">version 194</a></h3></li>
				<ul>
					<li>ipfs pins and unpins can now be queued up like file repository pending and petitioned, through the regular thumbnail right-click menu, which also reports some/all ipfs pinned selection status</li>
					<li>this ipfs action queue is similarly summarised and commited at the normal service 'pending' menu</li>
					<li>ipfs's 'pinned', 'to pin', and 'to unpin' statuses are displayed on thumbnails with ipfs-specific icons</li>
					<li>you can copy the focussed file's ipfs multihash or all the selected files' ipfs multihashes from the thumbnail menu's share->copy->ipfs multihash</li>
					<li>added a .txt tag parser to the 'path tagging' import dialog--it will parse the same sort of txt files the export dialog produces</li>
					<li>the client's new 'requests' network code is harmonised, generally improved, and now produces hydrus-compatible exceptions</li>
					<li>updated help re the local server and boorus now defaulting to off</li>
					<li>db can now remember service-specific filenames (e.g. ipfs multihashes)</li>
					<li>cleaned up some overly complicated and confused thumbnail menu code</li>
					<li>the pending menu now specifies what it is about to do more plainly</li>
				</ul>
				<li><h3 id="version_193"><a href="#version_193">version 193</a></h3></li>
				<ul>
					<li>the client's local server and local booru can be turned off from their respective management panels, and from now on, the client will initialise with them this way.</li>
					<li>if the local server or the local booru are not running, their copy/share commands won't appear in right-click menus</li>
					<li>the welcome dialog is now a simpler popup message</li>
					<li>incidence sorted tag lists are now sub-sorted by a-z lexicographic</li>
					<li>pasting many tags that have siblings to the manage tags dialog will ask you if you want to always preference the sibling, saving time</li>
					<li>added a 'clear deleted file records' button to the local file service on the review services window</li>
					<li>idle mode now cannot naturally engage within the first two minutes since client boot</li>
					<li>the autocomplete search logic will not count namespace characters in the autocomplete character threshold, so typing 'character:a' will not typically trigger a (very laggy) full search</li>
					<li>putting a '*' anywhere in an autocomplete search_text will force a full search, ignoring the a/c character threshold</li>
					<li>moved some specific 'give gui time to catch up' pause code to the generalised pause/cancel code that a lot of stuff uses, so big jobs should generally be a bit more polite</li>
					<li>split the daemon class into two--one for big jobs that remains polite, and another for small jobs that triggers regardless of what else is going on. this should increase responsivity for a number of scenarios</li>
					<li>fixed some bad wal failure detection and hence no-wal file creation on some instances of db cursor reinit (usually after service modification). because of now many superfluous no-wal files, existing no-wal files will be deleted on db update</li>
					<li>some external storage location errors are improved</li>
					<li>some internal and external storage location init is improved.</li>
					<li>if an error is detected in the external storage location manager, it will not attempt to rebalance again until the client is rebooted</li>
					<li>improved some upnp error catching</li>
					<li>cleaned up some misc shutdown thread-gui interaction error spam</li>
					<li>did some prep work on a future rewrite of daemon jobs pipeline</li>
					<li>split up some mixed file/data/404 'stuff was missing' exception code</li>
				</ul>
				<li><h3 id="version_192"><a href="#version_192">version 192</a></h3></li>
				<ul>
					<li>added a 'check on ok' button to the manage subscriptions dialog's subscription panel</li>
					<li>check file integrity now prints missing paths to the log</li>
					<li>fixed a typo that was breaking some repo sync download resumes</li>
					<li>if an external storage location does not exist on client boot, a popup will say so</li>
					<li>resetting a service is now much faster when the service is large</li>
					<li>some repo processing stuff is a bit faster</li>
					<li>improved some image rendering error handling</li>
					<li>some thumbnail errors are recovered from in a better way</li>
					<li>improved db update bit rot resilience</li>
					<li>improved the vacuum disk space error popup with better explanation of the problem and solution</li>
					<li>misc improvements</li>
					<li>moved to win 10 dev machine, so several windows libraries are a bit newer</li>
					<li>updated to opencv 3.1.0 on windows</li>
				</ul>
				<li><h3 id="version_191"><a href="#version_191">version 191</a></h3></li>
				<ul>
					<li>added ipfs service type</li>
					<li>added simple ipfs service gui to manage and review services windows</li>
					<li>added simple ipfs download and import to pages menu</li>
					<li>split confused service data object into a bunch of more flexible and readable subclasses</li>
					<li>raw url downloads are now powered by 'requests' rather than my hacked http engine, and work a hell of a lot better. more to follow</li>
					<li>raw url downloads now pause and cancel correctly</li>
					<li>optimised some a/c cache clearing in mapping update processing</li>
					<li>optimised content update object -> db yield logistics</li>
					<li>added no-daemons command line switch to disable all daemons</li>
					<li>added no-wal command line switch to disable WAL journalling for the db</li>
					<li>if the db fails to read a new WAL-journalled db file it has just created, it will delete the file and attempt to recreate the db, never trying WAL again</li>
					<li>changed the way the db writes big repo syncs to disk so that the job can be abandoned much more quickly</li>
					<li>improved local file not found error to state the directory or exact path that was the problem</li>
					<li>fixed some socket-level error reporting (I think timeout was part of this)</li>
					<li>the petition approval and denial client-to-server network commit is broken up into smaller steps to reduce server lag and the overall likelihood of timeouts</li>
					<li>subscriptions will no longer add files to their 'successful files' button when the file's url seemed new but it actually was previously deleted</li>
					<li>subscriptions will now identify themselves with an additional popup message when they encounter critical errors during sync</li>
					<li>editing a clientside service will force a reset of the appropriate session cache, so if you change access key, the account changes will be reflected immediately</li>
					<li>the import files dialog will no longer spam error popups on uninteresting or empty files--its 'parsing complete' statement is more verbose instead</li>
					<li>the 1.5s gap between parsing complete and the buttons being enabled is also removed. this was supposed to be helpful, to give you a moment to check the files were as expected, but in the end it was just annoying</li>
					<li>fixed a typo in some thumbnail error catching and regeneration</li>
					<li>improved my network code syncing, so linux and os x releases are cleared out of many old files</li>
					<li>misc code cleanup</li>
				</ul>
				<li><h3 id="version_190"><a href="#version_190">version 190</a></h3></li>
				<ul>
					<li>fixed some hashing recalculation in collections that meant they reported no files in many cases</li>
					<li>fixed some hashing recalculation when 'remove files' is called</li>
					<li>improved the way the client db stores file information and service->file mappings</li>
					<li>idle processing jobs will now explicitly wake up as soon as the client naturally switches from not idle to idle</li>
					<li>the minimum allowed value for the 'max cpu %' control in the maintenance and processing options panel is now 5%</li>
					<li>the maintenance and processing panel is rewritten and laid out a little clearer</li>
					<li>'busy' is now 'system busy' on the status bar</li>
					<li>force idle and force unbusy are now merged into a new 'force idle' that sticks until you explicitly turn it off</li>
					<li>busy and idle states should now update immidiately after closing the manage options dialog</li>
					<li>improved exit code event order to be less rude to the OS</li>
					<li>improved exit code emergency event handling</li>
					<li>fixed a typo that was not appropriately skipping the 'do you want to run shutdown jobs?' dialog</li>
					<li>file storage folder rebalancing will now occur on shutdown maintenance</li>
					<li>the client now closes down more reliably if the db fails to boot</li>
					<li>the client now closes down more reliably if the gui fails to boot</li>
					<li>if a client vacuum fails, it'll now also raise the exact error sqlite gave</li>
					<li>fixed ctrl+a on the autocomplete dropdown (I think the Insert/IME support change broke it)</li>
					<li>the ways the 'read' tag autocomplete control talks to other gui elements is improved</li>
					<li>the tag autocompletes will now refresh their results lists on more internal variable changes</li>
					<li>the query page management controller manages fewer redundant variables</li>
					<li>updated sqlite for windows</li>
					<li>the client and server dbs will attempt to change to TRUNCATE journal mode if WAL causes a read disk i/o error</li>
					<li>misc code cleanup</li>
				</ul>
				<li><h3 id="version_189"><a href="#version_189">version 189</a></h3></li>
				<ul>
					<li>split the big analyze db calls into individual table/index calls and moved them from update code to the normal maintenance routines</li>
					<li>on vacuum, both the client and server dbs will now bump their page size up to 4096 if they are running on windows (server vacuum is triggered by running a backup)</li>
					<li>vacuum should be a slightly faster operation for both the client and server</li>
					<li>boosted the db cache significantly--we'll see if it makes much difference for things.</li>
					<li>the way the selection tags control updates its taglist on increases to its media cache is massively sped up. An update on a 5,000-thumbnail-strong page now typically works in 3ms instead of ~250ms. large import pages should stream new results much more quickly now</li>
					<li>sped up some slow hash calculation code that was lagging a variety of large operations</li>
					<li>some hash caching responsibility is moved about to make it available for the add_media_results comparison, which now typically works in sub-millisecond time (was about 16ms before)</li>
					<li>some sorted media list index recalculation now works faster</li>
					<li>some internal media object hashing is now cached, so sorted list index regeneration is a bit faster</li>
					<li>some medialist file counting is now superfast</li>
					<li>wrote a new pauser object to break big jobs up more conveniently and reduce gui choking</li>
					<li>the repo processing db call now uses this pauser</li>
					<li>some copy and mirror directory functions now use this pauser</li>
					<li>backup and restore code for the client now skips re-copying files if they share the same last modified date and file size</li>
					<li>backup code for the server now skips re-copying files if they share the same last modified date and file size</li>
					<li>http cannotsendrequest and badstatusline errors will now provoke two reattempts before being raised</li>
					<li>socket error 10013 (no access permission, usually due to a firewall) is caught and a nicer error produced</li>
					<li>socket error 10054 (remote host reset connection) is caught, and the connection is reattempted twice before being raised</li>
					<li>the old giphy API is gone, so I have removed giphy</li>
					<li>forced shutdown due to system exit/logoff is handled better</li>
					<li>pubsub-related shutdown exceptions are now caught and silenced</li>
					<li>an unusual shutdown exception is now caught</li>
					<li>fixed a copy subtag menu typo</li>
					<li>cleaned some misc hydrus path code</li>
					<li>tags that begin with a colon (like ':)' ) will now render correctly in the media canvas background</li>
					<li>some misc code cleanup</li>
					<li>dropped flvlib since ffmpeg parses flv metadata better anyway</li>
				</ul>
				<li><h3 id="version_188"><a href="#version_188">version 188</a></h3></li>
				<ul>
					<li>if you have custom filters set up, they will now be listed in the normal thumbnail right-click menu, which will expand for them</li>
					<li>'refresh account' button's event no longer waits for service response on the gui thread</li>
					<li>'refresh account' button on review services will now re-enable if the call fails</li>
					<li>added 'hide inbox and archive predicates' checkbox to options->default file system predicates. not sure if this is the best place for it!</li>
					<li>system:hash can now query md5, sha1, and sha256</li>
					<li>existing pages with system:hash will break on update. since this is such a rare predicate, I assume this is not a problem!</li>
					<li>improved db hash cross-reference flexibility</li>
					<li>any pausable popups will now explicitly change their text to 'paused' when they are paused</li>
					<li>upload pending popup now has a title, so it should pause a little more sanely</li>
					<li>regenerate thumbnails popup now has a title, so it should pause a little more sanely</li>
					<li>cleaned up some job pause status logic</li>
					<li>upload pending now works on a stream, so gigantic uploads will cause fewer hitches and overall problems</li>
					<li>upload pending code is cleaned and simplified in several ways, with better error handling and progress reporting</li>
					<li>synctotagarchive is now split into a thousand tiny separate jobs and runs on a separate non-db thread. it will no longer lock the db the whole time</li>
					<li>synctotagarchive popup should be a lot more responsive and will specifically give the gui some time to catch up after every chunk of data processed</li>
					<li>synctotagarchive will update pending tags count (and gui stuff will show the pending tags) as it goes</li>
					<li>synctotagarchive is now a pausable and cancellable operation!</li>
					<li>large repository sync jobs should be a little less laggy on final commit</li>
					<li>system:duration now displays its value as a properly formatted milliseconds time delta, rather than just a big int</li>
					<li>profiles now flush to the log immediately</li>
					<li>some cpu-heavy daemon recheck periods have been extended to reduce potential hangs on slower computers</li>
					<li>some repository sync messaging wording and logic is improved (it should report what it is doing more reliably when you are cpu-busy)</li>
					<li>reordered instances of 'waiting politely', so download text/gauge updates should occur before the wait does</li>
					<li>some misc 'waiting politely' logic is improved</li>
					<li>pixiv ugoira is detected and a better error (that will be ignored by the new sub error throttling code, for instance) is produced</li>
					<li>'uninteresting mime' errors have nicer import status note text</li>
					<li>fixed the 'thumbnail grid background' custom colour option</li>
				</ul>
				<li><h3 id="version_187"><a href="#version_187">version 187</a></h3></li>
				<ul>
					<li>file->restart now works for linux</li>
					<li>the 'call to' thread pool now has a delayed start, which fixes a shutdown hang in linux (and perhaps the other platforms, in one way or another), when the user hits 'forget it' on the 'already running' boot dialog</li>
					<li>removed some console error junk on abandoned client boot</li>
					<li>if a requested full-size thumbnail is missing, the client will now attempt to regenerate it</li>
					<li>if a requested full-size thumbnail does not render (for instance, during a request to generate a resized thumbnail), the client will now attempt to regenerate it</li>
					<li>some thumbnail fetching and generation logic is slightly improved</li>
					<li>you can now drag animated media around when the inital drag click begins over the animation canvas</li>
					<li>ditched some ultimately unhelpful mouse warping when the cursor was near the edge of the media viewer when a drag began</li>
					<li>possibly fixed a strange tags_fts4 mirroring problem that has hit some users for a reason I do not understand</li>
					<li>import tag options panels will no longer order their tag services randomly</li>
					<li>fixed a bug where import folders would not save changes to their explicit tags</li>
					<li>fixed a bug where under some circumstances, the gallery importer was attempting to display previously deleted files on the screen, causing errors.</li>
					<li>subscriptions will now pause a few seconds after a file import error, which should solve a problem with client hanging when lots and lots of subscription file errors occur one after another</li>
					<li>if subscriptions encounter 5 file import errors, they will pause their sync and try continuing later</li>
					<li>pixiv manga error handling is improved</li>
					<li>bad mime error handling is improved for all importers</li>
					<li>fixed an important bug in the import status cache where error texts were not being stored as unicode, so error texts with non-unicode-compatible characters were causing exceptions when the session was being saved to the db or the import status frame was being loaded</li>
					<li>existing sessions' import status caches should automatically convert their 'notes' to unicode on update</li>
					<li>removed booru db fetch spam when booru download page has no work to do</li>
					<li>fixed a typo in regenerate thumbnails popup message</li>
					<li>fixed some bad event handling for the gallery page's file limit control</li>
					<li>updated some regex defaults to have better multiplatform support and handle a wider array of valid characters</li>
				</ul>
				<li><h3 id="version_186"><a href="#version_186">version 186</a></h3></li>
				<ul>
					<li>Windows release is now 64-bit!</li>
					<li>some libraries got updated for windows, to varying minor effects</li>
					<li>BeautifulSoup updated to latest version for everything</li>
					<li>fixed a warning from newer versions of BeautifulSoup by explicitly using lxml</li>
					<li>updated the running_from_source help file to what is currently needed</li>
					<li>ffmpeg.exe is also 64-bit</li>
					<li>wrote a "reducing program lag" page for the help</li>
					<li>added program restart to file menu, doesn't work for linux yet</li>
					<li>improved restart code (it was used in restore database, and for some users would not close the parent process down properly)</li>
					<li>in the media viewer, page up/down, arrow keys and mouse scroll no longer unhide the mouse</li>
					<li>in the media viewer under Windows, dragging no longer unhides the mouse</li>
					<li>the implicit delay in the downloader-importers is reduced, so redundant files should always stream in a super fast now</li>
					<li>export files dialog will now auto-create missing destination directories</li>
					<li>export files dialog will now work off the gui thread (to stop gui hangups on big jobs) and will report its export status through the export button, which will be disabled until the job is finished</li>
					<li>changed the new tab/shift+tab shortcuts because they break panel control navigation (I want to make these editable soon):</li>
					<li>'fetch autocomplete results now' shortcut is now Ctrl+Space (Raw Control for OS X, not command)</li>
					<li>'IME mode toggle' is now Insert</li>
					<li>cleaned up how control is handled cross-platform--in general, 'control' is always control for windows and linux, and 'control' is command for os x. this may be incorrect.</li>
					<li>json dump errors now report more information about the specific object and its serialisable contents that are causing the problem</li>
					<li>clipped sibling/parent reason entry dialog message when lots of pairs are added</li>
					<li>fixed a bit of bad logic in sibling/parent dialog->content-update workflow</li>
					<li>fixed the thumbnail canvas not refreshing on a canvas shrink caused by expansion of the management panel that doesn't change the thumb column count</li>
					<li>fixed emergency boot error reporting for when HydrusData won't load</li>
					<li>added some unicode conversion unit tests</li>
				</ul>
				<li><h3 id="version_185"><a href="#version_185">version 185</a></h3></li>
				<ul>
					<li>right clicking on a tag/predicate in the 'selection tags' box or the 'search' list of active predicates provides new intelligent menu options to discard/require/permit/exclude the selected tags from the current search. try it out!</li>
					<li>this system also works for namespace and wildcard and system predicates</li>
					<li>'predicate a' and its inverse '-predicate a' are no longer considered the same!</li>
					<li>namespace and wildcard predicates will now remove their inverts if they are added to the list of active predicates</li>
					<li>the way inverse predicates are generated and compared is generalised and improved</li>
					<li>fixed 'open a new search page for tag x', which might have been broken?</li>
					<li>quick-entering a tag in the 'read' tag autocomplete entry will now always replace with a sibling if one exists</li>
					<li>quick-entering a tag in the 'write' tag autocomplete entry will now not replace with a sibling--you will get the option of what you want to do</li>
					<li>when this happens, the preferred sibling is labelled on the 'what do you want to do?' popup in the manage tags dialog</li>
					<li>also when this happens, the affected file count for add/pend the preferred sibling should now be correct</li>
					<li>fixed client support for tags that begin with ':', such as many emoticons. these should now be parsed correctly from websites and keyboard input, keep their leading colon through network and db conversions, and display correctly (for the most part!), despite a little bit of magic to make them work</li>
					<li>created a new TimeDelta control to handle finer tuning of optional periods</li>
					<li>improved timedelta->pretty string code to support >60s times</li>
					<li>manage subscriptions dialog now supports day and hour period, with min period of four hours</li>
					<li>manage export folders dialog now supports day/hour/minute period, and the parent dialog displays that time delta appropriately</li>
					<li>manage import folders dialog now supports day/hour/minute period, and the parent dialog displays that time delta appropriately</li>
					<li>the thread watcher now supports hour/minute/seconds check period</li>
					<li>folded 'search' and 'download' menus into 'view' and renamed it 'pages'</li>
					<li>'sessions' moved from 'file' to the new 'pages'</li>
					<li>moved 'admin' menu to 'services->administrate services'</li>
					<li>added 'forced system:limit' to options->speed and memory panel</li>
					<li>if several system:limits exist in a search, the minimum will be used</li>
					<li>added a checkbox to options->downloading to replace the traffic light waiting politely indicator with text</li>
					<li>subscriptions with failed files will say 'x urls in cache, y failed' on their dialog panel</li>
					<li>at the gui level, media that superfluously receives a 'pend tag' instruction for a tag that is already current will discard the instruction (this improves the accuracy of the pending tag count during and after the manage tag dialog)</li>
					<li>and the same thing for 'petition tag' when the tag isn't already current</li>
					<li>any accidentally added 'namespace:'-type tags will be deleted on update</li>
					<li>fixed a bad merge in the manage tag siblings dialog's autocomplete dropdown lists</li>
					<li>the thread watcher can now deal with urls with a #54951495 post anchor at the end</li>
					<li>refactored some controller manager code</li>
					<li>removed some useless old code</li>
					<li>cleaned some misc code</li>
					<li>improved some bad old orphan deletion code</li>
					<li>deleted some old code</li>
					<li>finished off some old media result streaming code</li>
					<li>refactored a bunch of search stuff from clientdata to clientsearch</li>
					<li>rewrote some subs gui/help text to be a bit clearer, and added a help link to the dialog</li>
				</ul>
				<li><h3 id="version_184"><a href="#version_184">version 184</a></h3></li>
				<ul>
					<li>added external client_files storage!</li>
					<li>you can add external client_files folders in options->file storage locations, further giving them weight</li>
					<li>a new daemon will incrementally rebalance your files (and recover orphaned subfolders!) over your different storage locations</li>
					<li>you can also force a full rebalance from the new database->maintenance->rebalance file storage</li>
					<li>simplified the maintenance and processing panel</li>
					<li>the maintenance and processing panel controls now appropriately support being set to 'none'</li>
					<li>the 'run jobs on idle?' question is now explicit on the maintenance and processing panel</li>
					<li>deselecting 'run jobs on idle/shutdown' will now disable subordinate controls</li>
					<li>hitting tab on the autocomplete control now triggers an immediate 'fetch results' call</li>
					<li>added a checkbox to options->speed and memory to completely disable automatic autocomplete results fetching (i.e. if you want to manually control a/c result-fetching only with this new tab shortcut)</li>
					<li>the new less-laggy autocomplete results fetch won't trigger if the latest query is shorter than the cached query (i.e. you won't get lag when hitting backspace a bunch of times on autocomplete)</li>
					<li>hitting shift+tab on the autocomplete control now disables all other key event capture, letting you enter IME without your up/down/enter presses controlling the dropdown list of results</li>
					<li>'waiting politely' time is now indicated with a small 'traffic light'-type circle control on all downloader pages</li>
					<li>fixed some occasional 'I'll go sit in the top-left corner of the screen and not fix my position' hover window behaviour in Linux</li>
					<li>fixed sibling predicate collapse for the 'read' autocomplete dropdown for database results</li>
					<li>refactored how predicates are collapsed and sorted to be a bit more sensible</li>
					<li>fixed maintenance of local booru data use even if local booru does not receive any requests</li>
					<li>improved some service/content update error handling in repository sync</li>
					<li>the system:rating value-entry dialog no longer lists its rating services in random order</li>
					<li>'open externally' will no longer show for non-local thumbnails' right-click menus</li>
					<li>fixed audio/pdf thumbnail display for local booru, although they will be full size for now</li>
					<li>harmonised some hex-prefix folder generation code</li>
					<li>improved some file and directory copying code</li>
					<li>improved upload pending popup message cleanup</li>
					<li>added help_dir to hydrusconstants</li>
					<li>miscellaneous refactoring</li>
					<li>misc cleanup</li>
					<li>extracted server-specific services and server resources from the common import path to the server import path</li>
					<li>a bit more misc server refactoring</li>
					<li>updated a couple of bits of help</li>
				</ul>
				<li><h3 id="version_183"><a href="#version_183">version 183</a></h3></li>
				<ul>
					<li>added swf thumbnail support--it works ok for most swfs!</li>
					<li>thumbs for existing swf files will generate on db update for both client and server</li>
					<li>the server will also generate thumbnails for video on update, which it seems it was not doing before</li>
					<li>rewrote some hash comparisons in thumbnail downloading and thumbnail counting code to be a lot faster and memory efficient</li>
					<li>fixed thumbnail count invalidation after service sync</li>
					<li>in certain cases, fetching autocomplete tag results from the db will be slightly less laggy</li>
					<li>if the autocomplete dropdown has cached or otherwise quickly fetchable results, it will refilter for current input as you type, ignoring the normal character delay (i.e. typing through autocomplete is far less laggy now)</li>
					<li>fixed a couple of autocomplete tag-parsing bugs for tags with more than one colon character</li>
					<li>fixed some key event selection bugs in the autocomplete taglist when there are no results in the list</li>
					<li>if there are no results in the autocomplete taglist, the typically caret-moving key events up/down/home/end will move the caret (rather than being uselessly passed on to the empty taglist)</li>
					<li>all profiling now goes through a single location</li>
					<li>profiling now also prints extensive information on explicit code callers</li>
					<li>fixed db profile mode printing display for the new logger</li>
					<li>added new pubsub_profile_mode (AKA log-killer)</li>
					<li>all menu popup display and explicit memory cleanup is done through a single location</li>
					<li>hover windows will now not show whenever a menu is open</li>
					<li>hover windows will now not hide whenever a menu is open (useful when trying to go 'copy tag' off the hover taglist's menu!)</li>
					<li>a keyerror bug when force_idle_mode was hit right at program start is fixed</li>
					<li>unexpected serverside client disconnections are now caught and further request processing is cancelled</li>
					<li>middle clicking on an 'empty' system predicate in the a/c dropdown now will throw up the dialog to enter a value and then pass that filled in system pred onto the new search page</li>
					<li>duplicate parents (which can occur with overlapping grandparents) are now collapsed</li>
					<li>the upload pending popup message cancels properly after 'server busy' events</li>
					<li>whenever the client's services are iterated at the view-level, it will now be in random order, to stop sync bottlenecks choking other services (and anything else like this that might have been occuring)</li>
					<li>fixed a bug with double-clicking a tag selection on the the tag censorship taglist</li>
					<li>fixed the too-fast frame timings on some videos opencv had a problem parsing</li>
					<li>loading many video types will now be just a little faster</li>
					<li>remote files will no longer present the right-click menu option to share->copy->file</li>
					<li>hitting a shortcut for manage ratings from the media viewer canvas will no longer work if you have no ratings services</li>
					<li>the base scripts (client.pyw, server.py and test.py) now have a shebang line to facilitate non-Windows use</li>
					<li>laid groundwork for external client_files locations</li>
					<li>plenty of misc cleaning and refactoring</li>
				</ul>
				<li><h3 id="version_182"><a href="#version_182">version 182</a></h3></li>
				<ul>
					<li>all printing to the log should now be unicode safe</li>
					<li>some other, miscellaneous file-write locations should now be unicode safe</li>
					<li>cleaned up some now-redundant unicode-bytestring conversion error handling</li>
					<li>the animation scanbar will now draw a little darker while the animation is paused</li>
					<li>the client now uses the same new log object as the server, so all logged data will be copied to the terminal, and all logged statements will be timestamped</li>
					<li>the client and server's boot and exit statements are more harmonised</li>
					<li>server backup is more log-verbose</li>
					<li>server backup now makes a simple copy to 'server_backup' folder--no more _backup nonsense</li>
					<li>all serverside requests will now print a line in the form 'PORT METHOD PATH HTTP_CODE in TIME TOOK' to the log</li>
					<li>page up and down now work (again?) for the thumbnail view. adding shift also works for selecting a page at a time</li>
					<li>improved some animation painting logic</li>
					<li>improved some rating control painting logic</li>
					<li>improved splash screen painting logic</li>
					<li>improved all other, misc painting logic--many things should flicker less or render just a little quicker</li>
					<li>ratings hover window will no longer re-layout (causing flicker) on ratings set</li>
					<li>improved some media canvas painting logic to de-jaggify some zooming</li>
					<li>in the manage options dialog, tag-related gui options are moved from the gui panel to the new tags panel</li>
					<li>added 'apply all parents to all services' option to the tags panel</li>
					<li>the delete key now removes active search predicates and tags in the manage tags dialog</li>
					<li>fixed webm link parsing for rule34hentai.net</li>
					<li>if you attempt to petition multiple tags, you will now be presented with a dialog asking you if you want to use the same reason for all the petitions</li>
					<li>edit import folder dialog now has scrollbars and will resize itself based on your monitor size</li>
					<li>if the static ffmpeg executable is absent from the bin folder, the client will now attempt to just call 'ffmpeg' in the normal system path</li>
					<li>fixed some 'None media' data calculation bugs when media viewer closed during very fast slideshow</li>
					<li>fixed a 'None media' mouse position bug when media viewer closed during very fast slideshow</li>
					<li>all wx timers will explicitly stop on exceptions (which should reduce some types of error spam)</li>
					<li>refactored client hydrus network session manager to a better position</li>
					<li>wrote a better wma/wmv determining test using ffmpeg</li>
					<li>refactored cv2 (OpenCV) out of the server's import tree</li>
					<li>fixed some server boot crash error handling</li>
					<li>cleaned some autocomplete matches-compiling code</li>
					<li>deletepath and recyclepath will no longer throw an error if the path does not exist</li>
					<li>server_messages folder is no longer referenced in the code--if you have it, feel free to delete it</li>
					<li>memory cleans up a little faster after gui page deletion</li>
				</ul>
				<li><h3 id="version_181"><a href="#version_181">version 181</a></h3></li>
				<ul>
					<li>fixed a potential bug in the server's db, very important you update this week if running on Windows</li>
					<li>improved some thumbnail page calculation logic</li>
					<li>improved some thumbnail page drawing logic</li>
					<li>fixed broken vertical resize thumbnail grid issue</li>
					<li>fixed some broken 'thumbnails have changed dimensions' event layout recalculation</li>
					<li>fixed an idiotic typo bug that was making cached thumbnail page bmps taller or shorter than needed</li>
					<li>thumbnail fading and other general thumbnail redraws should be a decent bit faster now</li>
					<li>thumbnails have handed off all bmp storage responsibility to the thumbnail cache, which should mean greatly reduced memory use when browsing very large results</li>
					<li>thumbnails will now only quick-draw if they have been seen before on the same page, which should reduced some page-refresh waterfall jankiness</li>
					<li>thumbnail media panel double buffering seems to be working better</li>
					<li>improved some general thumbnail drawing code</li>
					<li>the media viewer background taglist will now show petitioned tags</li>
					<li>the media viewer hover taglist should now look exactly like the background taglist (sorted lexicographically, no more counts, and now shows petitioned)</li>
					<li>the 'selection tags' taglist will now show petitioned tags for 'all known tags' queries</li>
					<li>the 'selection tags' taglist and the media viewer background and hover taglists will now count collapsed sibling tags correctly</li>
					<li>all taglists now support ctrl+a to select all</li>
					<li>improved some generic taglist value-setting code</li>
					<li>parents should now only expand for their specific tag services</li>
					<li>siblings, parents, and the pending count should now be correctly recalculated upon repository update processing</li>
					<li>added 'copy sources' to the import status window's right-click menu so you can copy bad urls or whatever to the clipboard</li>
					<li>added 'skip' to the import status window's right-click menu so you can skip urls you don't want</li>
					<li>added default booru for rule34hentai.net</li>
					<li>under certain circumstances, services with duplicate names could be created--any services like this will be renamed on update, and the loophole where this could happen is now closed</li>
					<li>improved a locale number formatting call to ask for unicode</li>
					<li>improved newgrounds parsing--mp4/wmv files should now work</li>
					<li>the server logger has been formalised into a proper class</li>
					<li>fixed some bad static image initialisation in the canvas code that was causing error spam</li>
					<li>fixed default import tag options for hentai foundry and pixiv</li>
					<li>copy->(bmp|path|local url) will now only appear as an option if the currently focussed media is local</li>
					<li>fixed some gallery identifier print code</li>
					<li>frames and dialogs will now clip their initial size to the current monitor's resolution--better scrollbar support for cramped windows will follow</li>
					<li>updated ffmpeg static builds</li>
					<li>updated sqlite command line exes</li>
					<li>put off sqlite windows dll update because of critical server db bug</li>
					<li>misc code cleanup and redaction</li>
				</ul>
				<li><h3 id="version_180"><a href="#version_180">version 180</a></h3></li>
				<ul>
					<li>middle click on any taglist now does 'open a new search page for selection'</li>
					<li>moved mouse idle checking code to the wx thread, which seems to have fixed a serious X11 crash</li>
					<li>memory gunk should now be painted over when transparent animations are resized on linux</li>
					<li>fixed some page up/down index calculation on the autocomplete dropdown</li>
					<li>system predicates will remove themselves from the active predicate list silently again</li>
					<li>system predicates will work again in queries that include tags!</li>
					<li>greatly improved my string/unicode conversion code</li>
					<li>dropped many inefficient unicode conversions from db code</li>
					<li>improved the sql-grammar of some specifically efficient db code</li>
					<li>removed incorrect unicode conversions from url/network request code</li>
					<li>removed unicode conversion code from network response code</li>
					<li>all directory iteration should now occur in unicode</li>
					<li>all inputted paths should now be converted to unicode</li>
					<li>replaced every single ugly raw path concatenation with a better method</li>
					<li>improved some bitmap placeholder initialisation that was causing Linux terminal spam</li>
					<li>added an option to always hide the preview window to options->gui</li>
					<li>the preview window will not accept setmedia calls if it is hidden</li>
					<li>if the preview window is actively hidden due to an unsplitting event, it will null its current media</li>
					<li>fixed a shutdown calculation that was under-remembering the height of the preview window by four pixels every time</li>
					<li>improved thumbnail waterfall code--it should be a little faster. less subject to lag when taxed, and waterfall with more genuine randomness</li>
					<li>improved some thumbnail page drawing and clean/dirty conversion code</li>
					<li>when pages are dirtied, any to-be-waterfalled thumbnails are cancelled, making superfast scrolling less crashtastic</li>
					<li>new dirty thumbnail pages are now generated as needed, rather than precached</li>
					<li>subscriptions will now correctly do a polite wait after fetching tags for redundant files</li>
					<li>splash screen will now explicitly raise itself to the front on init</li>
					<li>the export tag txts function of the export dialog now exports the tag txt to [filename].jpg.txt, rather than [filename].txt</li>
					<li>the server now stores its updates in service specific subdirectories, like the client</li>
					<li>some importers will better report when they are waiting politely</li>
					<li>OS X (and anything else with OpenCV 3.0.0) now uses OpenCV to render gifs by default, falling back to PIL on error (like only Windows used to)</li>
					<li>'open externally' from thumbnails now defocusses the preview window</li>
					<li>refactored away a bunch of bad global controller references</li>
					<li>added some shutdownexceptions</li>
					<li>silenced shutdownexception terminal spam</li>
					<li>reworded the 'maintenace and processing' options panel a little to explain things better</li>
					<li>improved how the base_dir is figured out on program boot</li>
					<li>improved serverside 'should I clean dirty updates?' check code</li>
					<li>deleted some old code</li>
					<li>split path-specific functions off from HydrusFileHandling to HydrusPaths and de-looped my import tree appropriately</li>
					<li>general refactoring</li>
				</ul>
				<li><h3 id="version_179"><a href="#version_179">version 179</a></h3></li>
				<ul>
					<li>all tag listboxes support multiple selection</li>
					<li>all tag listboxes manipulate their data as sets of tags rather than individual tags</li>
					<li>all tag listboxes report to their callbacks as sets of tags</li>
					<li>many dialogs and other windows that use tag listboxes now deal with tags as sets</li>
					<li>double clicking the media viewer's tag hover window now launches the manage tags dialog</li>
					<li>the media viewer's tag hover window now includes (+1) counts like the manage tags dialog--harmonising the underlying canvas tag list will follow</li>
					<li>lots of tag/sibling/parent code has been iterated over</li>
					<li>ditched some misc redundant code and needlessly tightly coupled object relationships</li>
					<li>some bizarro tag sibling dialog code has been rewritten</li>
					<li>the autocomplete dropdown for 'writing' will now not expand search results to include parents when the receiving control isn't interested in them or it is otherwise not appropriate</li>
					<li>when the autocomplete dropdown does have parents, they will be selected in a group with their child</li>
					<li>the autocomplete dropdown for writing now broadcasts 'I'm done with tagging, close the dialog pls' in a better way</li>
					<li>'activating' the sibling or parent dialogs' listcontrols (usually by hitting enter) now processes all rows that are selected, not just the first</li>
					<li>manage siblings and parents dialogs can now take multiple initialising tags from the taglist right-click menu</li>
					<li>removed some redundant listbox code</li>
					<li>cleaned up and improved some tag list event processing</li>
					<li>cleaned up some taglist right-click menu code</li>
					<li>added system-wide mouse idle test to idle calculation. you can set this in files->options->maintenance and processing, and it defaults to ten minutes</li>
					<li>import folders now support tag import options' explicit tags for multiple tags to any tag service</li>
					<li>existing import folders will be updated to the new version, and if a local tag exists, it will be intserted into the new import tag options</li>
					<li>fixed a hentai foundry page parsing bug</li>
					<li>the deviant art downloader can now download >1024 pixel width versions of images via the download button (and a bit of cookie magic)</li>
					<li>gallery page queries that 404 (like for a non-existent username) will now report 'Gallery 404' rather than spamming the gallery's whole custom 404 html page to the status box</li>
					<li>fixed a bad layout flag that meant some namespace checkboxes in tag import options could remain hidden during first panel expand until first mouseover</li>
					<li>the import status frame now initialises its status text properly</li>
					<li>fixed last week's num_tags optimisations, which accidentally broke num_tags < x for x > 1</li>
					<li>the client should work on both OpenCV 2.4.x and 3.0.0 (thankfully, the only difference for our purposes turned out to be some static variable renaming)</li>
					<li>the Windows and OS X releases now come with OpenCV 3.0.0</li>
					<li>increased the max period of import and export folders to 30 days</li>
					<li>the launchfile/directory thread is now a daemon, so the (some flavours of Linux) client can shutdown even if an externally launched file/dir remains open</li>
					<li>misc cleanup</li>
				</ul>
				<li><h3 id="version_178"><a href="#version_178">version 178</a></h3></li>
				<ul>
					<li>import tag options now supports 'explicit tags', which will be added to all files imported</li>
					<li>the default import tag options system supports explicit tags, and will propagate them to new import tag options objects</li>
					<li>the gelbooru 503 Forbidden problem is fixed</li>
					<li>all gallery downloaders now send the page_url as http Referer header when fetching their image_urls</li>
					<li>pixiv parsing now grabs the correct tags for the image! previously, it was fetching the user's most common tags</li>
					<li>for now pixiv manga (which is not yet supported), will be skipped over in the gallery parsing step</li>
					<li>fixed a thumbnail drag-and-drop calculation that meant the DnD event would not start if the initial mouse movement went in an up-left direction</li>
					<li>bad animated gif frame timing detection is improved</li>
					<li>the fallback animated gif frame timing is scaled back to a more reasonable 12fps</li>
					<li>fixed a critical bug in the manage ratings dialog that meant any NULL or MIXED numerical rating controls were mistakenly creating 'set rating to 0.0' content updates</li>
					<li>fixed an obselete call with the new Pillow library that broke video thumbnail generation</li>
					<li>added an explicit file import test to my test suite (previously, this was a manual test, and I did not notice the failed video files last week)</li>
					<li>fixed a critical os x crash after navigating media with the manage tags dialog launched from the media viewer</li>
					<li>improved speed and memory use of num_tags queries a little bit</li>
					<li>reordered the predicate filters in the main query code so that num_tags happens right at the end, where it will run fastest</li>
					<li>removed an unnecessary filter from the main query code</li>
					<li>removed an accidental doubling of the simple predicate filters from the main query code where the file service domain is specified</li>
					<li>improved an important db index and made sure the db uses it everywhere it can. it should speed up most non-'all known tags' queries</li>
					<li>harmonised how all the new serialisable JSON objects are sent to and read from the db to a handful of simple general functions</li>
					<li>externally opening a file is offloaded to a temporary thread to avoid gui lockups on OS flavours that have delayed 'open this file pls' calls</li>
					<li>increased the commonly used read/write 64k block size to 256k, let's see if it reduces some file fragging</li>
					<li>clientside hydrus bandwidth reporting is a bit faster and simpler</li>
					<li>general code cleanup</li>
					<li>general refactoring</li>
					<li>a long-term refactoring job that aimed to better decouple the client, server, and hydrus parts is now completely done</li>
					<li>delineated the layout of the gallery and page of images management panels a little</li>
					<li>updated several links in the help and the program to https</li>
					<li>the petition content checkbox list is now significantly taller</li>
					<li>cleaned up the static folder a little bit</li>
					<li>silenced an unhelpful webm last frame error</li>
				</ul>
				<li><h3 id="version_177"><a href="#version_177">version 177</a></h3></li>
				<ul>
					<li>the old YAML "default advanced tag options" is converted entirely to the new JSON "default import tag options"</li>
					<li>created a new JSON object to store new options objects</li>
					<li>updated the gui to handle new default import tag options objects</li>
					<li>existing default advanced tag options data will be converted to the new system on update</li>
					<li>the petition management panel now presents similar petitions from the same user together, with the relevant data rows in a checkbox list, so janitors can approve/deny many similar petitions all at once</li>
					<li>the petetion management page no longer auto-loads file results for a petition--you can now see specific results for each sub-petition by double-clicking on them</li>
					<li>the server-to-client petition object is converted from yaml to json</li>
					<li>the new petition object now stores all the different 'content' rows for the same service/account/reason/action</li>
					<li>small content rows are now stored and transmitted in their own object</li>
					<li>the network now supports POST JSON requests</li>
					<li>account modifications now work through JSON</li>
					<li>the account identifier object is converted from yaml to json</li>
					<li>in the path tagging dialog, regexes that do not compile will now say so, reporting their short regex error statement</li>
					<li>fixed a bug that could sometimes occur when cancelling an ongoing gallery query</li>
					<li>cancelling an ongoing gallery query is now reflected in the gui much faster</li>
					<li>repositories will not burn CPU cleaning their updates if there are still pending file/mapping petitions to process</li>
					<li>repositories will clean updates in smaller bursts to reduce the contiguous server_busy time</li>
					<li>fixed drag and drop thumbnail ordering, which actually wasn't working but was accidentally randomly sorted when I tested it!</li>
					<li>a certain kind of error during vacuum that can mean two different things is now caught, and automatic vacuums then suspended while the user figures out what is going on</li>
					<li>revised some v176 update code that wasn't parsing some downloader pages correctly--now, if a downloader page cannot be updated, it will be discarded</li>
					<li>updated to Pillow 3.0.0 on all platforms and fixed some obselete image calls</li>
					<li>general code cleanup</li>
					<li>general code refactoring</li>
				</ul>
				<li><h3 id="version_176"><a href="#version_176">version 176</a></h3></li>
				<ul>
					<li>the gallery downloader is updated to the new system</li>
					<li>the gallery downloader code is generally a bit better all around</li>
					<li>the gallery downloader will now remember its urls and file and tag options and paused status and so on throughout a reboot</li>
					<li>the gallery downloader supports 'get tags even if file already in db' option</li>
					<li>the gallery downloader management panel is updated for the new object. like the other panel updates, it is a little more minimalist</li>
					<li>the gallery downloader management panel now has the import status button so you can review your parsed urls and retry them, or copy errors, or whatever</li>
					<li>existing gallery downloader pages in gui sessions will semi-convert on the db update</li>
					<li>subscriptions are updated to the new system</li>
					<li>the subscription code is generally a bit better all around</li>
					<li>subscriptions will no longer dump out on a failed file!</li>
					<li>subscriptions can now recognise when files are uploaded during a page-walk (which shuffles everything up by one, of course), and recover without assuming it has synced</li>
					<li>subscriptions can now be set an initial file limit and a periodic file limit separately</li>
					<li>the manage subscriptions dialog is updated for the new object</li>
					<li>the manage subscriptions dialog now has the import status button so you can review your parsed urls and retry them, or copy errors, or whatever</li>
					<li>existing subscriptions will convert on the db update</li>
					<li>subscription popup now shows per-file download progress</li>
					<li>boorus that use number of thumbs to advance their gallery page indices can now resume</li>
					<li>the thread watcher now obeys 'exclude deleted' status more reliably</li>
					<li>the 'page of images' downloader now obeys 'exclude deleted' status more reliably</li>
					<li>subscriptions now attempt to recover their sync status when a new file is uploaded during sync</li>
					<li>fixed a bug where the thread watcher was not applying the filename namespace to new files, only redundant ones</li>
					<li>the old advanced_import_options dictionaries are all updated to the new import_file_options object</li>
					<li>improved subscription-dialog-was-opened-while-subs-were-running detection and reaction</li>
					<li>the way galleries are identified behind the scenes is now much simpler and more flexible</li>
					<li>for now, hentai foundry downloads and subs will no longer support the specific hf filter--they will be unfiltered and sorted newest first, so they work like all the other galleries. I may reintroduce 'sort by popularity' if there is demand for it</li>
					<li>a bit of importer status update refactoring and cleanup</li>
					<li>fixed some db vacuum maintenance timing that was interfering with gui reporting, so the 'currently vacuuming' popup never appeared until the vacuum was complete</li>
					<li>fixed a possible bug for import folders that have a local tag set</li>
					<li>splash screen is no longer stay_on_top--if there is demand, I will add an option</li>
					<li>fixed a bug in the page deleted detection code</li>
					<li>added page hidden detection code, replaced some ambiguous pause code with it</li>
					<li>improved pause/play code throughout the program</li>
					<li>corrected some bad x/y status texts</li>
					<li>for simplicity, the import_file db command now always returns ( status, hash )</li>
					<li>for simplicity, the import_file db command no longer takes service_keys_to_tags</li>
					<li>plenty of general code cleanup</li>
				</ul>
				<li><h3 id="version_175"><a href="#version_175">version 175</a></h3></li>
				<ul>
					<li>the 'regex shortcuts' button in the path tagging dialog now permits the managing of favourite regex phrases</li>
					<li>added 'start animations this % in' options to options->media</li>
					<li>animations will no longer clear to white while scanning beyond their immediate frame cache</li>
					<li>modifier-click (like shift-click) will now drag animations without altering their pause/play status</li>
					<li>the splash screen is a little larger, to better fit db update text in</li>
					<li>the splash screen's text is split into two lines, and shutdown repository processing is a bit more verbose</li>
					<li>fixed some incorrect dialog text in manage sibling and parent dialogs</li>
					<li>rewrote sibling and parent pair update code to deal with unusual situations more gracefully</li>
					<li>improved how the new downloader engine saves error notes</li>
					<li>the import review frame now lets you copy the selected entries' notes to the clipboard</li>
					<li>video files will no longer fail to import in windows because of unicode characters</li>
					<li>recycling files with unicode characters on Linux will work more reliably, and when it breaks, it will fail more gracefully</li>
					<li>the client and server can now detect and recover from a rare error where a database file is created but never initialised with the appropriate tables</li>
					<li>the tag/file upload popup message now dismisses itself after a few seconds, rather than pointlessly lingering</li>
					<li>wx event ids used in one-shot menus will be recycled, which should alleviate the 'after a long time, some menu selections stop doing anything' problem</li>
					<li>some code cleanup</li>
				</ul>
				<li><h3 id="version_174"><a href="#version_174">version 174</a></h3></li>
				<ul>
					<li>'server stop' and 'server restart' now work!</li>
					<li>server will now log everything to console as well as server.log</li>
					<li>server log entries will always be prefixed by the time they were made</li>
					<li>server shutdown will close services more neatly</li>
					<li>server shutdown cannot be triggered multiple times with multiple keyboard interrupts</li>
					<li>server initialisation and shutdown is more verbose</li>
					<li>server now accepts POST '/shutdown' requests from localhost</li>
					<li>fixed a server shutdown bug</li>
					<li>mousewheel events that hit the command and ratings hover windows will be propagated to the media viewer (e.g. if you click a rating, you can now scroll immediately to move to the next file without having to refocus the media viewer window)</li>
					<li>fixed a bug where zooming out would go immediately to 1% if the media's exact fit zoom was already in the list of default zooms</li>
					<li>added 'check db integrity' to database maintenance menu</li>
					<li>multiple drag-and-dropped thumbnails will now be listed inside the drag-and-drop object in their hydrus thumbnail order (was previously random)</li>
					<li>animations will now pause/play correctly during inbox filtering</li>
					<li>most client errors now cause a 1 second wait on behalf of the caller, which should bottleneck error spam when it happens</li>
					<li>fixed some buggy display and rescind behaviour with pre-dialog-existing petitions in the manage parents and siblings dialogs</li>
					<li>the manage parents and siblings dialogs will now not attempt to remove/petition/rescind a pair if the entered list of pairs has entirely new entries</li>
					<li>the manage parents and siblings dialogs will now attempt to maintain their sort order after you change some pairs</li>
					<li>generally cleaned some parent and sibling dialog code</li>
					<li>added option to options->files and trash for whether to use your OS's recycle bin</li>
					<li>system:mime text now specifies specific mime group if appropriate, or otherwise lists every mime if >1 selected ('system:mime is specified' is dropped)</li>
					<li>hydrus repositories will sometimes catch and recover from zero-length update files</li>
					<li>hydrus repositories will catch processing parsing errors and pause when they happen</li>
					<li>the new hdd, page of images, and thread watcher import daemons will tidy themselves up if their accompanying pages are completely deleted</li>
					<li>improved how daemons shut down</li>
					<li>improved client shutdown logic and speed</li>
					<li>some misc code cleaning</li>
					<li>more general code cleanup</li>
				</ul>
				<li><h3 id="version_173"><a href="#version_173">version 173</a></h3></li>
				<ul>
					<li>converted import folders to the new system</li>
					<li>import folders now have names, so you can have several pointing to the same location</li>
					<li>import folders can filter by mime</li>
					<li>import folders now have separate actions for successful, redundant, deleted, and failed files</li>
					<li>these actions can be 'leave alone', 'delete' or 'move to location'</li>
					<li>import folders now support import file options</li>
					<li>import folders can now be individually paused</li>
					<li>import folders' popups are individually optional</li>
					<li>import folder edit dialog provides a path cache button, like new download pages, to let you review the paths it is remembering</li>
					<li>existing import folders will be roughly converted to the new system on update, but they will be in a paused state, so you can check they are what you want</li>
					<li>created new mime selection control</li>
					<li>mime selection control added to mime system predicate selection dialog, so you can now search by mime more specifically</li>
					<li>updated some mime system pred code to deal with this change</li>
					<li>a single non-dragging left-click on an animation now pause/plays!</li>
					<li>the animation scanbar will now only resume playing the video/flash after a scanning click/drag if it was playing before the drag began.</li>
					<li>added a 'polite wait' option to options->downloading. this is temporary until I write a better clientside bandwidth throttling system</li>
					<li>added a 'remove/petition all tags' button to the manage tags dialog to make mistakes easier to clean up</li>
					<li>added 'confirm send to trash' to options->gui</li>
					<li>added 'confirm archive/inbox' to options->gui</li>
					<li>added a simple 'export tags in .txts?' button to the export dialog. In future, I will expand this to do service-specific exports and also add it to regular export folders</li>
					<li>fixed some invalid name error handling in the manage dialogs</li>
					<li>fixed a bug that sometimes occured at the end of an admin immediate sync</li>
					<li>fixed a rare shutdown-order error in video rendering</li>
					<li>fixed an animation bar initialisation error that was causing error spam on some videos/flash</li>
					<li>general import code cleanup</li>
					<li>cleared up admin-side petition wording and presentation</li>
					<li>improved the threaded workflow and error reporting of the admin-side petition page</li>
					<li>the thread watcher now reports its number of next seconds until the next check in properly formatted time</li>
				</ul>
				<li><h3 id="version_172"><a href="#version_172">version 172</a></h3></li>
				<ul>
					<li>the server no longer needs wx!</li>
					<li>the server now runs from command line</li>
					<li>the server is now .py, not .pyw!</li>
					<li>run 'server help' for more info</li>
					<li>improved how the controllers start</li>
					<li>improved how the controllers stop</li>
					<li>improved controller boot error handling</li>
					<li>improved how pages close</li>
					<li>general controller code cleanup</li>
					<li>general server code cleanup</li>
					<li>fixed the always_on_shutdown (without asking) option, which was asking anyway</li>
					<li>removed a debug statement in isalreadyrunning code, whoops!</li>
					<li>improved isalreadyrunning detection. it should work breddy gud now</li>
					<li>added gallery file limit to new 'downloading' options page, which folds in the old thread checker options as well</li>
					<li>added option to always embed the autocomplete dropdown window (rather than having it a floating window), which is now default on for Linux and OS X</li>
					<li>manage services now supports two kinds of service reset for repositories</li>
					<li>the service reset buttons now only fire on dialog ok</li>
					<li>service reset will try, as cpu allows, to update its progress in a message popup window</li>
					<li>administrators now have a 'sync now' button on the review services window that lets you catch up immediately to the service without having to wait for the normal update time (this will burn cpu time serverside, so be careful!)</li>
					<li>fixed a bug when searching boorus with unicode-16 characters</li>
					<li>the client updates directory is neater</li>
					<li>'system busy' status is now shown on the status bar</li>
					<li>'force unbusy' added to debug menu</li>
					<li>invalid characters in export filenames will now be replaced by underscores</li>
					<li>fixed a bug where rating services' cached file counts were not decrementing on de-ratings</li>
					<li>rating services' cached file counts are reset on update</li>
					<li>hover windows will pop in over video again, but will not if the mouse is _near_ the animation bar</li>
					<li>searching for ':' in the autocomplete dropdown will no longer search the db for every single tag jej</li>
					<li>improved some server_busy logic</li>
					<li>improved some server shutdown logic</li>
				</ul>
				<li><h3 id="version_171"><a href="#version_171">version 171</a></h3></li>
				<ul>
					<li>improved isalreadyrunning code</li>
					<li>fixed isalreadyrunning code for the Linux frozen build</li>
					<li>the client's isalreadyrunning splash check will respond more quickly if you choose to wait</li>
					<li>repository processing sync will no longer update the frontend, which approx doubles its speed</li>
					<li>repository processing sync now only occurs when the client is idle, so it won't slow your browsing down</li>
					<li>if you catch the client while it is processing, doing pretty much any action will make it quit out nice and quick</li>
					<li>repository processing sync now occurs at a lower db level, meaning less laggy popup ui update and overall faster processing time</li>
					<li>repository popup disappears after a few seconds once it is done--if you leave your client on all the time, you probably won't see it again.</li>
					<li>split 'maintenance and memory' options panel into 'maintenance and processing' and 'speed and memory'</li>
					<li>added 'cpu busy' option to options->maintenance and processing</li>
					<li>added 'run stuff on shutdown' option to options->maintenance and processing to set whether pending db maintenance and repo processing can happen on shutdown</li>
					<li>added 'max minutes on shutdown' option to options->maintenance and processing to limit how much shutdown processing can be done in one sitting</li>
					<li>repositories can now sync on shutdown--they will report through the splash window</li>
					<li>shutdown maintenance is checked and run in a better way</li>
					<li>moved to a two-stage shutdown procedure</li>
					<li>daemons are better kept track of, and they talk to the controller in a better way</li>
					<li>daemons shut down in a better way</li>
					<li>improved a bunch of idle/busy/just woke from sleep logic</li>
					<li>improved how the controller maintains the db and memory</li>
					<li>improved force_idle mode in the client</li>
					<li>idle calculation is more accurate, and resets on more user-driven events</li>
					<li>improved responsivity for processing popup</li>
					<li>fixed a serious bug that was counting some unprocessed content as done when the service processing window was cancelled</li>
					<li>misc code improvements</li>
					<li>misc maintenance code improvements</li>
					<li>fixed a bug with parentless center-positioned dialogs not sizing themselves properly</li>
					<li>removed delete_orphans timespan param option</li>
					<li>fixed bugs selecting and media-viewering collected media</li>
					<li>fixed a missing thumbnail selection bug</li>
					<li>fixed some os x dialog interaction and z-order problems when the splash screen is open</li>
					<li>os x splash screen is no longer stay_on_top</li>
					<li>fixed the 110.00% display bug</li>
					<li>removed wx from pubsub code</li>
					<li>pubsubs now route through the controller</li>
					<li>reduced some pubsub overhead, we'll see if it smooths out some of the gritty stuff</li>
					<li>misc thread worker pool is now managed by and routed through controller</li>
					<li>some other thread-wx interaction is now routed through clientcontroller</li>
					<li>db now interacts with controller directly, not through wx</li>
					<li>all other indirect references to controller go through hydrusglobals, not wx</li>
					<li>refactored everything wx away from everything hydrus/server except controller code</li>
					<li>about window now says the client's network version</li>
				</ul>
				<li><h3 id="version_170"><a href="#version_170">version 170</a></h3></li>
				<ul>
					<li>added media viewer mime options to file->options->media page</li>
					<li>you can now set animated mimes to start in a paused state</li>
					<li>you can now set the client to 'open externally' any media from a thumbnail activation</li>
					<li>reworked the way the media viewer generalises and displays its media to obey these new options</li>
					<li>improved some misc zoom code</li>
					<li>flv video is now rendered natively by default</li>
					<li>audio now defaults to an 'open externally' button</li>
					<li>renamed the nebulous 'url' download page option to 'page of images'</li>
					<li>moved the 'page of images' download page to the new system--it'll now remember its state through a restart, has a the detailed import status button, all that stuff</li>
					<li>'page of images' download page now supports checkboxes to customise which types of links it will search for</li>
					<li>you can now close and rename page tabs from a right-click menu!</li>
					<li>deviant art parser now works for mature images</li>
					<li>improved deviant art tag and image page parsing</li>
					<li>added 'remove filtered files' option to file->options->files and trash</li>
					<li>improved UPnP dialog error reporting for when external IP cannot be parsed and for when external IP is reported as 0.0.0.0</li>
					<li>added an external ip/host override option to file->options->connection page</li>
					<li>whenever the client or server deletes a regular file or directory, it will now send it to the recycle bin</li>
					<li>files stored in the db are no longer read-only</li>
					<li>existing files stored in the db will attempt to be set read&write on update</li>
					<li>wrapped undo manager access in a lock, which may stop index bugs when a lot of stuff is going on</li>
					<li>fixed a bug in download progress->progress gauge hook when content length was absent</li>
					<li>removed previously entered zero-length namespaced tags (like 'wallpaper:') from client and server</li>
					<li>moved 'client/server already running' check from db access test to more reliable process list review</li>
					<li>improved 'client is already running' mini-dialog</li>
					<li>added cpu percent utilisation check (if any cores >50%, dump out) to idle check</li>
					<li>if the 'canvas zoom' value exactly matches a default zoom, it will not be inserted into the list of zooms to scroll through</li>
					<li>the 'canvas zoom' will be displayed with hundreds of a percent accuracy</li>
					<li>the new thread and hdd import pages will now obey page-global pause/resume events</li>
					<li>the new thread and hdd import pages now have the 'sort by' dropdown</li>
					<li>the new thread import page supports set_search_focus event</li>
					<li>added import tag options info to 'getting started - tags' help page</li>
					<li>relabelled the path tagging button on the import files dialog to something that made more sense</li>
					<li>might have patched an unusual subscription error reporting bug</li>
					<li>updated sqlite on windows--db should be a bit faster</li>
					<li>updated pillow on all platforms</li>
					<li>compiled a new python for my os x build with newer openssl library, which should fix some ssl problems people were having</li>
					<li>updated some deprecated directory parsing code</li>
					<li>general code cleanup</li>
				</ul>
				<li><h3 id="version_169"><a href="#version_169">version 169</a></h3></li>
				<ul>
					<li>revised all the help files</li>
					<li>updated out of date screenshots in the help files</li>
					<li>added some more screenshots to the help's index</li>
					<li>cleaned out unused help images</li>
					<li>fixed some missing service error catching in the custom filter setup dialog</li>
					<li>fixed random reordering of paths from import files selection dialog</li>
					<li>logged errors should now be prefixed by the time they occured</li>
					<li>errors should now be more reliably printed to the log</li>
					<li>fixed a problem with e621 queries that included '/'</li>
					<li>improved some server temp file error handling</li>
					<li>fixed a typo that was throwing errors when trash settings were set to 'no limit'</li>
				</ul>
				<li><h3 id="version_168"><a href="#version_168">version 168</a></h3></li>
				<ul>
					<li>thread watcher is moved to the new system--it will remember its previous state</li>
					<li>thread watcher has more compact, flexible gui layout</li>
					<li>thread watcher now supports file import status button, so failures can be reattempted</li>
					<li>thread watcher check now button has improved logic</li>
					<li>import tag options and import file options gui controls now plug into the new system</li>
					<li>thread watcher will now remember its tag and file options</li>
					<li>thread watcher will accept changes to its tag and file options after it is started</li>
					<li>fixed a bug in import tag options deserialisation</li>
					<li>hdd and thread watcher static texts will flicker less</li>
					<li>improved some network transfer gui reporting code</li>
					<li>send to trash, delete from trash, and undelete now all have different icons in the command hover window</li>
					<li>added open externally button to command hover window</li>
					<li>opening an animated gif or movie externally from the media viewer will pause it in the client</li>
					<li>share->copy->image added to media viewer for static images</li>
					<li>fixed a typo bug in copy 'image' to clipboard</li>
					<li>fixed a typo in external ip discovery that was causing errors for local booru external link generation</li>
					<li>improved external ip discovery error recovery</li>
					<li>in prep for the de-wxing of the server, refactored a lot of code so the server and client code don't import each other at any point</li>
					<li>if an attempt to close the client is aborted (e.g. because of an active import page), the exit splash screen will now destroy itself</li>
				</ul>
				<li><h3 id="version_167"><a href="#version_167">version 167</a></h3></li>
				<ul>
					<li>created gui control to show file import status</li>
					<li>added a button to launch this control, wrapped in its own frame, to the hdd import page</li>
					<li>you can now drag and drop thumbnails out of the client for quick export!</li>
					<li>the client will catch internal drag and drops, and won't interpret that as an import request</li>
					<li>dragging files onto the client will now always show the 'copy' mouse icon</li>
					<li>some thumbnail generation code is a bit quicker--resized thumbs are now always generated on their first viewing</li>
					<li>if you use 200x200 thumbnails, the client won't bother to generate resized thumbs, saving space and time</li>
					<li>the text entry dialog will now check its button status on a non-keyboard related text-change (e.g. selecting paste from the right-click menu)</li>
					<li>the popup created by downloading a raw url or a youtube video will finish itself properly when the import attempt is completed, removing the pause and cancel buttons and making the popup dismissable</li>
					<li>the splash screen will now stay on top</li>
					<li>the password entry dialog will also stay on top</li>
					<li>you can now copy the md5, sha1, or sha512 hashes of local files from the normal share->copy->hash menu</li>
					<li>fixed an overly broad deleted/redundant test on md5/url pre-import status checks</li>
					<li>options to remember size of manage tags and position of both manage tags and ratings dialogs added to file->options->gui</li>
					<li>updated some of the help</li>
				</ul>
				<li><h3 id="version_166"><a href="#version_166">version 166</a></h3></li>
				<ul>
					<li>created new object to hold hdd import information</li>
					<li>created new object to hold generalised import file status</li>
					<li>moved hdd management controller to the new system</li>
					<li>moved hdd management gui to the new system</li>
					<li>hdd imports will now remember their import and pause status through a session change</li>
					<li>misc import code improvements</li>
					<li>hydrus client is getting out of the zip business--zips are no longer parsed for import nor able to be created for export</li>
					<li>import and export code is simpler</li>
					<li>repository file downloading daemon will now throw up a small auto-dismissing popup when it downloads files</li>
					<li>repository file downloading daemon will respond to new downloads much quicker than previously</li>
					<li>if a repsitory is in the process of backing up when it receives a request, it will now return a 503 'server temporarily busy' error (rather than timing out)</li>
					<li>the client can now catch and handle these 503 errors gracefully</li>
					<li>backing up will no longer block the client's gui, and it will no longer timeout if the operation takes more than ten minutes</li>
					<li>some networking code is a little simpler</li>
					<li>added 'select local files' and 'select trash' to thumbnail right click menu</li>
					<li>'cancel download' added to file repository submenu of thumbnail right click menu</li>
					<li>some buggy listbox resize behaviour (scrollbars not disappearing and occasional layout and drawing update fail) has been fixed</li>
				</ul>
				<li><h3 id="version_165"><a href="#version_165">version 165</a></h3></li>
				<ul>
					<li>added a db table to track when a file was sent to trash</li>
					<li>added an option for whether trashed files are removed from view</li>
					<li>added a max age to trashed files</li>
					<li>added a max size to the trash</li>
					<li>added a daemon to maintain the trash</li>
					<li>improved some generic deleted shortcut logic, so delete key will present option to delete from trash if appropriate</li>
					<li>shift+delete will now undelete</li>
					<li>misc trash code improvements</li>
					<li>thumbnails deleted from the trash will accurately remove their inbox status icons</li>
					<li>images downloaded from file repositories will accurately add inbox status icons</li>
					<li>reduced chance of problems when trying to delete media from the trash when it is currently being rendered</li>
					<li>further reduced this chance</li>
					<li>removed redundant undelete code, folded it into add/delete code</li>
					<li>the media viewer will now remove files deleted from the trash in all cases, even when launched from a file repository search</li>
					<li>significantly improved how animations figure out when to put frames on screen. these timings should be much more accurate, slowing down only if your CPU can't keep up</li>
					<li>8chan thread watcher now parses all files from multiple file posts</li>
					<li>if a booru provides a link starting with 'Download PNG', which refers to the original source png, that will be preferred over the jpg (konachan and yande.re, which run Moebooru, do this)</li>
					<li>booru parser is now a little more liberal in parsing for the image link</li>
					<li>yande.re booru support is added by default</li>
					<li>fixed some local/remote state code, which was breaking file repository searches in several ways</li>
					<li>improved error handling in repository file download daemon</li>
					<li>cleaned up manage options dialog code</li>
					<li>reduced min size of the media caches in manage options dialog</li>
					<li>moved thumbnail size to 'maintenance and memory'</li>
					<li>added better error handling to repositories that cannot find an update file during processing</li>
					<li>repositories that have such errors will pause to give the user a chance to figure out a solution</li>
					<li>misc code improvements</li>
					<li>fixed a bug where file repository downloads were not importing if the file had once been deleted</li>
					<li>dropped the clever indices from last week--sqlite had too much trouble with them. I will reform my db tables next week to get around the whole issue. for now, I have reintroduced the bulky index and forced sqlite to use it where appropriate</li>
					<li>added a test for collecting pending tag data</li>
					<li>tags in the form 'text:', which would sometimes slip through when typing quickly, are now not processed</li>
					<li>improved tag cleaning error reporting</li>
					<li>improved when special wildcard and namespace predicates are provided</li>
					<li>namespace predicates now display as 'namespace:*anything*'</li>
					<li>fixed a bug when launching the media viewer from collected results</li>
					<li>fixed a command hover window layout bug that was putting namespace text in incorrect places</li>
					<li>fixed a bug that was causing the new client-wide processing phase option not to work because, ironically, its calculation was out of phase</li>
					<li>review services will now state how many updates have been processed</li>
					<li>review services will specify if an update is imminently due, rather than saying the repo is fully synched</li>
					<li>fixed a review services layout bug that was misaligning text after an account or data usage update</li>
					<li>fixed a bug in system:similar_to serialisation, so pages with this predicate can now be saved to a session</li>
					<li>fixed the same bug for system:hash</li>
					<li>vacuum should be a bit politer about waiting for its popup message to appear</li>
					<li>database maintenance won't run while a repository is synchronising</li>
				</ul>
				<li><h3 id="version_164"><a href="#version_164">version 164</a></h3></li>
				<ul>
					<li>rewrote the drawing code for the listbox that displays tags in various ways to be a lot faster and more memory efficient</li>
					<li>updated one new client mapping index that wasn't working quite as I wanted it to something more clever</li>
					<li>db will be a little smaller and mappings stuff will be even faster</li>
					<li>merged the two ratings system predicate input panels, so you can now select like/dislike and numerical ratings system predicates at the same time</li>
					<li>fixed booru download page serialisation, which means they will save to sessions</li>
					<li>prototyped trash service</li>
					<li>locally deleted files will now be sent to trash</li>
					<li>locally deleted files will not be removed from the existing search</li>
					<li>files can be permanently deleted from trash, which will also immediately physically delete them from your hdd</li>
					<li>files can be restored from trash back to the local file service</li>
					<li>inbox state is now more separate from the local file service, so it will be remembered through a visit to the trash</li>
					<li>improved delete code all around</li>
					<li>general inbox/archive db code improvements</li>
					<li>misc content update pipeline improvements</li>
					<li>optimised mass-adding of files to a service (for instance, when (un)deleting a whole bunch of files!)</li>
					<li>delete orphans daemon is removed--it will be replaced by a more thorough single-shot hdd/db purge like 'check file integrity'</li>
					<li>files are not yet automatically removed from the trash--I will add that next week.</li>
					<li>updated db access info in db folder</li>
					<li>added sqlite command line executable to db folder for all platforms</li>
					<li>bit of code cleaning</li>
					<li>cleaned up some gui error reporting</li>
					<li>might have fixed a service cache bug in the db that was causing double bandwidth reports and possible looping sync behaviour</li>
				</ul>
				<li><h3 id="version_163"><a href="#version_163">version 163</a></h3></li>
				<ul>
					<li>reconfigured some important mapping indices in the client db to reduce search time for many common tag operations</li>
					<li>the new indices have also sped up tag processing significantly</li>
					<li>added an automatic db optimiser analyzer run whenever the db updates</li>
					<li>pixiv now downloads the largest version of an image again</li>
					<li>pixiv tag parsing improved</li>
					<li>added support for some unusual mp4 types</li>
					<li>the noquery media panel is removed. pages with no query status will now show a normal thumbnail panel with 0 files, rather than 'None' files.</li>
					<li>check file integrity will now report number of missing files and incorrect files separately</li>
					<li>check file integrity can now take a folder to move incorrect files, rather than deleting them</li>
					<li>when you try to pend a tag with a sibling in the manage tags dialog, you will be prompted with the chance to pend the sibling instead</li>
					<li>the rating system predicate dialog now allows for easier (and multiple!) selection of like rating parameters</li>
					<li>the rating system predicate dialog now allows for easier (and multiple!) selection of numerical rating parameters</li>
					<li>the rating system predicate dialog now offers correct predicates for 'zero allowed' numerical rating services</li>
					<li>some bmp icon code cleanup</li>
					<li>changed pause and cancel buttons to bitmap buttons</li>
					<li>cleaned up a lot of pause and cancel code</li>
					<li>now, when popups are paused, they will hide their details</li>
					<li>popups that are cancelled by a dialog change (for instance when subscriptions are changed while subs are processing) will now dismiss themselves after a few seconds</li>
					<li>during repository sync, http failures are recovered from more gracefully, and any pending processing will continue</li>
					<li>the repository update downloading and processing loops will wait on the db and gui more efficiently</li>
					<li>fixed a bug in the way the manage export folders dialog was testing existence of subdirectories</li>
					<li>general code cleanup</li>
					<li>bit more code cleanup</li>
					<li>some good daemon refactoring</li>
				</ul>
				<li><h3 id="version_162"><a href="#version_162">version 162</a></h3></li>
				<ul>
					<li>on update, all previous gui sessions are deleted!</li>
					<li>on update, all export folders are deleted!</li>
					<li>made an important efficiency improvement to the new serialisation protocol--network version is incremented as a result</li>
					<li>finished extracting management data from management panel</li>
					<li>management data is wrapped in management controller, a new JSONable class</li>
					<li>pages collapsed to a single class</li>
					<li>page and management panel instantiation completely rewritten for the new system</li>
					<li>created new JSONable guisession class for better session management</li>
					<li>db is updated to store all this stuff in JSON rather than YAML</li>
					<li>session loading is much less bloaty for clients with many sessions</li>
					<li>all page types are now serialisable and hence addable to a session</li>
					<li>moved predicates to JSON</li>
					<li>moved filesearchcontext to JSON</li>
					<li>autocomplete dropdowns now remember their tag service, include current, include pending and synchronised status over sessions</li>
					<li>export folders now remember their file and tag services, and also include current and pending status</li>
					<li>some general improvements to export folder code</li>
					<li>cleanup of export folder dialog code</li>
					<li>added a test for export folders</li>
					<li>some general refactoring</li>
					<li>some general cleaning</li>
					<li>significant refactoring of predicate variables</li>
					<li>fixed a bug in multi-version update from before v154</li>
					<li>if you do not have any ratings services, the 'manage->tags/ratings' submenu will now just be 'manage tags'</li>
					<li>changed some thumbnail menu entries to say 'selected files' instead of 'all files', which is more accurate, see if you like it</li>
				</ul>
				<li><h3 id="version_161"><a href="#version_161">version 161</a></h3></li>
				<ul>
					<li>updated windows python, sqlite and ffmpeg</li>
					<li>added linux ffmpeg binary to the executable build</li>
					<li>updated os x ffmpeg binary</li>
					<li>animation is generally working for linux and os x</li>
					<li>fixed some linux/os x ffmpeg calls</li>
					<li>fixed webm import for linux/os x</li>
					<li>webms work great</li>
					<li>moved to rendering gifs with PIL by default on linux and os x, which has bad palette support but renders more reliably</li>
					<li>the animation scanbar position caret is now visible on linux and os x</li>
					<li>fixed some timing/resume issues the animation scanbar on os x</li>
					<li>the old mediactrl video embed is removed</li>
					<li>mp4, wmv, mkv are added to native rendering control, no audio yet (just like webm)</li>
					<li>flv and flash will now have a little vertical padding on max zoom to make vertical hover windows easier to access</li>
					<li>changed database to a faster synchronisation mode</li>
					<li>tuned update processing daemon for more accurate time calculations and faster baseline speed, even if that knocks gui latency a bit</li>
					<li>fixed rows/s being thrown wildly off by long pauses</li>
					<li>made update processing daemon more reactive</li>
					<li>improved some of the flow and generally cleaned the update processing daemon</li>
					<li>added processing phase option to regular delay to processing of updates (this is useful if you run multiple clients and don't want them to process at the same time)</li>
					<li>fixed e621 tag parsing</li>
					<li>completely rewrote the focus engine behind the autocomplete dropdown</li>
					<li>fixed a bunch of autocomplete dropdown's generally buggy behaviour for linux and os x</li>
					<li>fixed autocomplete dropdown's display, sizing, and positioning for linux and os x</li>
					<li>fixed autocomplete dropdown selecting system predicates with the keyboard</li>
					<li>fixed autocomplete dropdown show status in linux with multiple pages open</li>
					<li>improved all subprocess calls, removing interim shell step and parameterising passed arguments</li>
					<li>improved how files and directories are launched in windows</li>
					<li>upnp is fixed for linux</li>
					<li>fixed hover window archive/inbox/delete icon buttons, which were spamming their commands to all open media viewers, not just their own</li>
					<li>added a simple raised border to hover windows to better delineate them from the canvas background</li>
					<li>updated the hover window size and position code to be a bit more reliable (still seems to bug out a bit on linux)</li>
					<li>tags hover window should now expand sideways more reliably</li>
					<li>it is now not possible to create nested export folders</li>
					<li>searching for numtags < x will now include files with no tags</li>
					<li>fixed manage boorus dialog OK in linux</li>
					<li>fixed booru selection mini-dialog in linux</li>
					<li>generally improved restoring database code</li>
					<li>fixed restoring a database when you have tag archives in existing database</li>
					<li>fixed a unicode encoding error when converting certain jobs to text (this was throwing errors in deviant art downloads/subscriptions--we'll see what was actually going on now, whether this is an error not being formatted right or something else)</li>
					<li>started some great rewrite of management panel gui code</li>
					<li>rearranged the download panel gui hierarchy slightly</li>
					<li>improved collapsible panel collapse/expand layout code</li>
					<li>removed code and database table for the old numerical ratings filter</li>
					<li>some general code refactoring and cleanup</li>
					<li>improved client upnp daemon timing</li>
					<li>harmonised how the client and server check requests for bandwidth-tracking eligibility</li>
				</ul>
				<li><h3 id="version_160"><a href="#version_160">version 160</a></h3></li>
				<ul>
					<li>added options for http, socks4, socks5 proxying</li>
					<li>improved some network-related errors</li>
					<li>ratings services can have custom border and fill colours for their various states</li>
					<li>ratings services can now also be squares or stars instead of circles</li>
					<li>numerical ratings services can disallow zero ratings</li>
					<li>fixed the JSON parsing error that broke the thread checker</li>
					<li>shrank the width of the thread checker to make it a little less ugly</li>
					<li>the autocomplete tag search dropdowns will now accept and search with quickly entered text</li>
					<li>this new system will substitute siblings in the manage tags dialog</li>
					<li>fixed rows/s average calculation</li>
					<li>rows/s is more accurate</li>
					<li>content update popup string update is less laggy</li>
					<li>content update popup now shows content rows, rather than content parts</li>
					<li>removed update 'taking a break' component, as it was not doing the job I wanted it to</li>
					<li>db debug profile mode can now be turned off lol</li>
					<li>fixed an error from middle-clicking greyspace in the linux notebook tab area</li>
					<li>general code cleanup</li>
					<li>some string conversion code cleanup</li>
					<li>fixed a missing canvas bmp error with flash/flv embed buttons</li>
				</ul>
				<li><h3 id="version_159"><a href="#version_159">version 159</a></h3></li>
				<ul>
					<li>split previously monolithic repository updates into smaller pieces</li>
					<li>added service_update server calls</li>
					<li>extended content_update server calls to support sub-indices</li>
					<li>sped up some content update preprocessing code</li>
					<li>improved some content update preprocessing code</li>
					<li>radically reduced serverside memory usage while generating updates</li>
					<li>added iterator splitters to make sure any single update row cannot be too large</li>
					<li>thanks to iterator splitter, updates should process through the client more smoothly</li>
					<li>added timespan splitter to make sure any single server update query cannot be too large</li>
					<li>content updates are resumable if broken part way through downloading the list of them</li>
					<li>the update popup will state how fast it is currently working in rows per second committed</li>
					<li>cleanup of a lot of update related code</li>
					<li>more cleanup of update related code</li>
					<li>improved serialisable protocol so it'll work better over a network</li>
					<li>made serialisable protocol much simpler</li>
					<li>fixed numerical rating system predicate dialog slider range</li>
					<li>fixed numerical rating system predicate dialog OK for valued predicates</li>
					<li>fixed numerical rating custom filter action dialog</li>
					<li>improved some network yaml error handling</li>
					<li>replaced 'export tags' thumbnail menu entry with a tag archives system</li>
					<li>replaced 'import metadata' file menu entry with a tag archives system</li>
					<li>disabled thread dumper and manage imageboards and manage 4chan pass dialogs for now, because dumping code is out of date and completely screwed up</li>
					<li>client will now not start in idle mode</li>
					<li>help debug menu has new 'force idle mode' entry</li>
					<li>idle mode is displayed on status bar</li>
					<li>simplified client main gui status bar display and code</li>
					<li>the flash and flv files' embed button now has a little border to delineate it from the canvas background</li>
					<li>fixed some clientside bandwidth tracking code</li>
					<li>removed some old networking code</li>
					<li>made some custom objects draw themselves more efficiently</li>
					<li>for now, manage tag parents and siblings dialogs will not show deleted rows. I will eventually add a 'show deleted' checkbox, like the manage tags dialog has</li>
					<li>some static image rendering is slightly less laggy, particularly when browsing large images</li>
					<li>fixed initial height of manage tags dialog launched from preview window</li>
					<li>changed the 'search area' vs 'preview' sash gravity so the preview area won't expand or shrink on resize--see if you like it</li>
					<li>autocomplete dropdown should now hide itself when focus goes to other programs</li>
					<li>autocomplete dropdown should now hide itself when focus goes to other hydrus frames in os x</li>
					<li>fleshed out new URLCache object to handle better gallery download url management</li>
					<li>refactored some file status tracking stuff to a better system</li>
					<li>refactored gallery page fetching to a better system</li>
					<li>refactored gallery url handling to a better system</li>
					<li>some redundant import checking should be much faster</li>
					<li>improved error handling when booru image page parsing fails to find image url</li>
					<li>refactored how tags are fetched for DA, tumblr, and giphy as part of the above overhaul</li>
					<li>misc code cleanup</li>
				</ul>
				<li><h3 id="version_158"><a href="#version_158">version 158</a></h3></li>
				<ul>
					<li>subscriptions now have a 'get tags even if file already in db' checkbox, defaulting to false, which will significantly speed up subs with redundant files</li>
					<li>subscriptions will now more accurately obey initial limit</li>
					<li>gallery downloaders will now more accurately obey file limit</li>
					<li>merged some hentai foundry code into the general downloader</li>
					<li>cleaned and refactored a lot of import page initialisation code</li>
					<li>cleaned and refactored of lot of import management panel code</li>
					<li>cleaned and refactored of lot of import code</li>
					<li>created numerical rating control</li>
					<li>added numerical rating control to rating dialog</li>
					<li>added numerical rating control to rating hover window</li>
					<li>updated like and numerical rating service info for future support of custom colours and shapes</li>
					<li>fixed listbooks page deletion display</li>
					<li>fixed manage boorus saving changes to existing panels</li>
					<li>fixed manage imageboards saving changes to existing panels</li>
					<li>fixed manage imageboards saving remove imageboard</li>
					<li>improved and refactored listbook code, further separating active and proto pages</li>
					<li>improved some listbook name conflict error handling</li>
					<li>misc cleaning</li>
					<li>export folders and the export dialog will also export file attributes like access and modification time</li>
					<li>export folders will now overwrite destination files if they are a different size to the exportee</li>
					<li>export folders can now be set to 'synchronise', and so will delete any other files in the directory. existing export folders will behave exactly as before</li>
					<li>improved misc export and import folder code</li>
					<li>moved folder type tooltip to an explicit bit of text on export and import folder edit dialogs</li>
					<li>thumbnails can now display multiple hydrus file repository icons (current, pending, and petitioned) if multiple states apply</li>
					<li>hydrus file repository icons are gone from media viewer--now there is a text list</li>
					<li>hydrus file repository text list is added to hover window as well</li>
					<li>exclude_deleted option will no longer hide files from file repository search results--it was more confusing than helpful</li>
					<li>improved some error-prone logic in how advanced_import_options were being stored</li>
					<li>ratings hover window icon background colour is fixed</li>
					<li>imported bmps should now be converted to pngs with 1:1 colour (before, they were being collapsed to a 256-colour palette, which was showing ugly dither on complicated images)</li>
					<li>fixed a sometimes segfault crash on search refresh on OS X</li>
					<li>the preview window now supports a simple right-click menu</li>
					<li>added 'open installation folder' to file menu</li>
					<li>improved some media viewer precaching code, which should speed up some scrolling, particularly on the first scroll</li>
					<li>improved some layout code</li>
					<li>improved some file permissions code</li>
					<li>cleaned some canvas code</li>
				</ul>
				<li><h3 id="version_157"><a href="#version_157">version 157</a></h3></li>
				<ul>
					<li>fixed a bug in listbook page initialisation and retrieval that was affecting many dialogs on OK</li>
					<li>some general dialog OK code cleanup</li>
					<li>fixed a media-navigation bug in managetags dialog</li>
					<li>fixed a serious OK bug in imageboards dialog</li>
					<li>created a new 'periodic' object to manage future subscriptions timing improvements</li>
					<li>started subscription YAML->JSON conversion</li>
					<li>stopped compressing json in the client db so it is human readable and thus easily editable</li>
					<li>subscriptions are no longer renamable, as this code was super buggy and could delete other subs</li>
					<li>tidied up the database menu</li>
					<li>a bit of misc cleanup</li>
					<li>in many cases where it was once pseudorandom, services are now reported in alphabetical order</li>
					<li>prototyped 'like' ratings control</li>
					<li>added new like ratings control to the background bmp of the media viewer</li>
					<li>added new like ratings control to the manage ratings dialog</li>
					<li>added new like ratings control to a new hover window in the top-right</li>
					<li>added basic additional icon support to new hover window</li>
					<li>fixed some misc new alignment bugs related to new ratings stuff</li>
					<li>like ratings controls on the hover window have tooltips</li>
					<li>fixed up some icon/rating display logic in the background bmp of the media viewer</li>
					<li>updated ratings dialog error handling</li>
				</ul>
				<li><h3 id="version_156"><a href="#version_156">version 156</a></h3></li>
				<ul>
					<li>improved my build workflow in several ways, which should result in fewer orphan files and other build weirdnesses</li>
					<li>some bad path usage in initialisation icon resizing has been moved to better temp paths</li>
					<li>hitting page up or down on a manage tags dialog launched from the thumbnail grid no longer clears the current media</li>
					<li>improved file permissions code across the program</li>
					<li>fixed import folders daemon's test code for non-windows</li>
					<li>fixed up some temporary file code that wasn't cleaning up those files when the application was about to close</li>
					<li>fixed a newline parsing problem in copy/paste tags in the manage tags dialog</li>
					<li>added tag cleaning to pasting in the manage tags dialog</li>
					<li>added newline removal into standard tag cleaning process</li>
					<li>fixed a server db bug that was stopping some accounts from being created</li>
					<li>fixed some network session exception creation and catching</li>
					<li>new popup messages should no longer steal focus in most circumstances</li>
					<li>client should recover from serious popup message manager errors better</li>
					<li>hover windows will now only pop up if their media viewer is the currently focused frame</li>
					<li>hover windows will not hide until the mouse moves off them when flash or webm are underneath them</li>
					<li>os x will no longer vanish media in the media viewer on an action like archive or inbox</li>
					<li>fixed juddery media mouse dragging in linux</li>
					<li>improved the way listbooks work to avoid a problem with clientdata in wx linux</li>
					<li>export folder is gone as the default export location--now it is 'hydrus_export' under the current user's home dir</li>
					<li>updated windows ffmpeg to latest version</li>
					<li>fixed an important opencv dll conflict that was causing some gifs to render wrong in windows</li>
					<li>shift focus media logic improved--shift initial thumbnail is now last image selected</li>
					<li>shift selection will no longer deselect anything</li>
				</ul>
				<li><h3 id="version_155"><a href="#version_155">version 155</a></h3></li>
				<ul>
					<li>fixed a frame seek error when looping long and/or large gifs with unusual palettes</li>
					<li>improved recovery when fps reads as 0 on videos</li>
					<li>added error detection and graceful recovery and reporting for missing ActiveX flash control</li>
					<li>removed a lot of old imported messaging code that was slowing down boot</li>
					<li>removed some other old library imports that are no longer needed</li>
					<li>gracefully silenced 'application shutdown' daemon errors (they were previously spamming to console)</li>
					<li>fixed a hover window display check that was sometimes spamming linux with edge-case errors</li>
					<li>slideshows will now pause while the right-click menu is open, stopping bizarre full program crashes occuring on many menu items while slideshow was in progress</li>
					<li>fixed a thread_id-sqlite-cache_initialisation problem that was breaking tag archive sync</li>
					<li>harmonised copy/paste tag protocol in manage tags dialog with 'copy all tags' of the tags list</li>
					<li>removed some old messaging code in client db creation</li>
				</ul>
				<li><h3 id="version_154a"><a href="#version_154a">version 154a</a></h3></li>
				<ul>
					<li>fixed a bug in v154 update code when there was more than one set of shortcuts to convert</li>
					<li>fixed a faulty default value for num_pixels system predicate that was stopping options from opening</li>
					<li>fixed an error when video fps is 0</li>
				</ul>
				<li><h3 id="version_154"><a href="#version_154">version 154</a></h3></li>
				<ul>
					<li>managed to completely break my linux and os x dev environments trying to update python--their release will come soon, once I've cleaned them up</li>
					<li>removed some old cv code</li>
					<li>updated to opencv 2.4.11 on windows</li>
					<li>fixed a bug in trying to upload a small number of tag petitions</li>
					<li>hover command buttons are now shrunk to exact fit size</li>
					<li>added zoom buttons to command button hover window</li>
					<li>added navigation buttons to command button hover window</li>
					<li>added fullscreen switch button to command button hover window</li>
					<li>added archive/inbox button to command button hover window</li>
					<li>added delete button to command button hover window</li>
					<li>added generic close window button to command button hover window</li>
					<li>added tooltips to all the command buttons</li>
					<li>cleaned some misc canvas code</li>
					<li>hover windows now fit better, without overlap</li>
					<li>moved media info strings to top of media canvas, so they hide behind hover header</li>
					<li>hover windows will now not cover webms or gifs when the mouse is over the media container</li>
					<li>hover command buttons now work for inbox filter, including back/skip buttons</li>
					<li>inbox/archive button feels and works correctly for the inbox filter</li>
					<li>updated manage options dialog's 'default file system predicates' mess to use the new cleaner predicate panels</li>
					<li>all file system predicate defaults have been reset to default</li>
					<li>added system:num_pixels to file system predicates default panel</li>
					<li>fixed the system:num_pixels predicate being broken on options save</li>
					<li>removed the ratings system predicates from file system predicates default panel</li>
					<li>fixed misc system predicate bugs</li>
					<li>moved yaml->json conversion forward:</li>
					<li>settled on object code</li>
					<li>added built-in compression to serialisation</li>
					<li>added db tables and access code to support it</li>
					<li>fixed a little layout mess in the edit custom filter action dialog</li>
					<li>created a rich 'shortcuts' class for storing shortcut->action information that can be easily expanded to handle mouse events as well</li>
					<li>new shortcuts class works on new json storage rather than yaml</li>
					<li>moved custom filter shortcut action storage and general handling to new shortcuts object</li>
					<li>moved old favourite_shortcuts tests to new code</li>
					<li>cleaned a lot of the custom filter dialog code</li>
					<li>rewrote the custom filter setup dialog to work more like other dialogs--now all changes are saved on ok, and save/save as/delete is replaced with add/delete</li>
					<li>auto-creation of 'previous' shortcuts is removed, as all changes are saved to shortcut sets anyway</li>
					<li>removed the ratings filters--the numerical filter may make a return in another form, your thoughts would be appreciated</li>
					<li>fixed a cache counting bug when archiving redundant files during import</li>
					<li>sped up file deletion a little bit</li>
					<li>added an inbox cache to reduce laggy inbox checking, particularly search result fetching on dbs with large inboxes</li>
					<li>fixed subscriptions that have no initial file limit, please reset your sub url caches to fix in these cases</li>
					<li>did a lot of server/client database merging and refactoring</li>
					<li>improved some database error handling</li>
					<li>fixed an error in file repository superbans</li>
					<li>optimised some critical db code</li>
					<li>sped up tag censorship filtering</li>
					<li>added a db profiling mode, accessed from the help menu, that will dump copious db profiling info to the log</li>
					<li>misc code cleaning</li>
					<li>improved some popup mesage print sync timing</li>
					<li>rewrote some server auto-setup code to deal with slowly-starting server</li>
				</ul>
				<li><h3 id="version_153"><a href="#version_153">version 153</a></h3></li>
				<ul>
					<li>cut out some out of date stuff from help</li>
					<li>put a nice big red warning at the top of the 'running your own server' page</li>
					<li>added system:num_pixels for megapixel searching</li>
					<li>system predicates height, width, ratio, and the new num_pixels are now collapsed to a super-predicate, system:dimensions</li>
					<li>system:rating will now only show if you have some ratings services</li>
					<li>the system:rating dialog will now hide like or numerical ratings if you have no services of that kind</li>
					<li>complete refactorisation of system predicate dialog</li>
					<li>some misc system predicate bugs and bad panel event precedence fixed</li>
					<li>shortened all predicate spinctrls</li>
					<li>improved how system predicates are stored and used for a search</li>
					<li>moved some view menu items to the download menu and the new search menu</li>
					<li>all of the download gallery pages are added to the download menu</li>
					<li>added some explanatory text to the pixiv dialog</li>
					<li>the tag uploading process will more carefully prepare its subupdates so that mass allocations of the same tag to many files will be split into smaller chunks, avoiding connection timeouts in these cases</li>
					<li>hover windows will no longer hover over flash files</li>
					<li>tag hover frame will resize a little based on the canvas width</li>
					<li>the twenty pixel mouse warping when the mouse starts dragging close to the edge of the media viewer will no longer occur on flash files</li>
					<li>the canvas buffer for flash files is expanded to five pixels either side</li>
					<li>the hover tags window will now update itself when the media's tags change</li>
					<li>new hover window for details and commands, up top of the media viewer</li>
					<li>moved the old popout windows' buttons to the new hover window</li>
					<li>added hover window commands for the normal browser</li>
					<li>cleaned up some general canvas code</li>
					<li>index string will now display with a slash in all cases (it was a backslash for windows, for accidental reasons)</li>
					<li>file limit for subscriptions and download pages now has minimum value 1</li>
					<li>searching for number of tags while tag censorship has some namespaces  will no longer throw an error</li>
					<li>moved boot and exit code responsibility from the splash frame to the controller</li>
					<li>improved the boot and exit code generally, including dragging feedback lag and error handling</li>
					<li>improved some thread error handling</li>
					<li>fattening service info won't trigger on client shutdown quite so much, which should speed up shutdown a little</li>
				</ul>
				<li><h3 id="version_152"><a href="#version_152">version 152</a></h3></li>
				<ul>
					<li>added prototype hover frame for tags in media view</li>
					<li>hover frame shouldn't show when a dialog is open</li>
					<li>manage tags dialog launched from media viewer now has a delete button</li>
					<li>subscriptions now have an 'initial limit' variable, defaulting to 500, that limits the total number of files the subscription daemon will look for on the initial sync</li>
					<li>added a similar file limit spinctrl to gallery download pages</li>
					<li>updated layout of import files dialog</li>
					<li>cleaned up some ugly global variable scope stuff</li>
					<li>fixed initialisation of advanced import options in file import dialog</li>
					<li>made a good start to better object serialisation</li>
					<li>subscription and repository sync daemon jobs that stop due to a dialog-driven change during processing will now cancel themselves after five seconds</li>
					<li>fixed namespace (e.g. 'series:') tag censorship</li>
					<li>fixed the fullscreen switch bug that was breaking an (initially fullscreen)->(non fullscreen) media viewer</li>
					<li>fixed some search logic (some system predicates were not firing when there were no regular tags present)</li>
					<li>removed some artificial delays on daemon db access, let's see if it chokes anything</li>
					<li>harmonised a bunch of client and server controller code</li>
					<li>created a common controller class and merged a lot of the client and server controller code into it</li>
					<li>general code cleanup</li>
					<li>more general code cleanup</li>
				</ul>
				<li><h3 id="version_151"><a href="#version_151">version 151</a></h3></li>
				<ul>
					<li>added a possible solution to the manage tags dialog next/previous buttons crash</li>
					<li>completely overhauled temporary file management throughout client and server</li>
					<li>removed old temp folder</li>
					<li>copy files to clipboard will now copy the database's exact file paths (rather than copying to a temp folder beforehand), making it a lot quicker</li>
					<li>the import folders daemon will no longer attempt to import (and hence spam errors about) zero-length files</li>
					<li>added one-time tag archive sync button to the 'perform a service-wide operation' dialog in review services. this lets you add or delete the archive's tags by namespace</li>
					<li>revised the tag archive sync code a little so it syncs to non-local files as well, if the hashes can be lined up</li>
					<li>added hash cross-referencing to archive sync code before maina processing step, often saving a huge amount of time</li>
					<li>fixed a parsing error with advanced content updates at the gui-end</li>
					<li>added GetName and IterateHashes to hydrus tag archives</li>
					<li>added default 'similar to' max hamming distance to file system predicate defaults in client options</li>
					<li>fixed up the default text display of the file service system predicate</li>
					<li>added some text to the sort/collect options panel to better explain what the big listbox is for</li>
					<li>fixed a popup numerical typo when uploading files to a repository</li>
					<li>fixed an utterly bizarre bug caused by the import files dialog that was screwing up subsequent dialogs' layout and size, apparently by wx voodoo</li>
					<li>refactored all the functions and classes of hydrusconstants to better locations</li>
					<li>misc other refactorisation</li>
					<li>misc cleaning</li>
					<li>renamed hydrusdownloading to clientdownloading</li>
					<li>changed all default { } and [ ] parameters to None. I don't think it mattered, but just in case for the future</li>
					<li>moved some ugly global variable stuff to better places, hoping to do more in future</li>
					<li>cleaned up many unused imports</li>
				</ul>
				<li><h3 id="version_150"><a href="#version_150">version 150</a></h3></li>
				<ul>
					<li>added an 'idle' updating processing mode that churns through tags four times faster but makes gui laggy. it will kick in whenever you haven't done anything in thirty minutes</li>
					<li>improved some gallery downloader status texts</li>
					<li>gallery downloader will no longer wait 5 secs before fetching first page of urls</li>
					<li>fixed a critical race condition that had a chance of causing complete and unrecoverable gui freeze in the gallery downloader code</li>
					<li>fixed rendering of some bizarro pngs that CV couldn't understand</li>
					<li>fixed tag parent management for admin users</li>
					<li>fixed up some tag parent dialog code</li>
					<li>tag sibling dialog now accepts single reasons for multiple pairs, like the tag parent dialog</li>
					<li>improved error state on rendering video that reports resolution of 0x0</li>
					<li>removed looping error reporting on certain static image rendering errors</li>
					<li>fixed an error when some thumbs were 'collected' while fading in</li>
					<li>tagboxes now select on home/end and support numpad versions of page up/down</li>
					<li>fixed a radio button initialisation bug</li>
					<li>boosted the initial size of the 'set default advanced tag options' dialog so the collapsible pane is more visibile</li>
					<li>silenced a upnp error when external ip can't be parsed</li>
					<li>reduced some tag dialog previous/next button lag</li>
					<li>general code cleanup and refactorisation</li>
					<li>gui flag refactorisation and unification</li>
					<li>refactorisation of most non-constant stuff from constants files</li>
					<li>refactorisations of media mixins class in prep for a general rewrite of that code</li>
					<li>improved client initialisation of default options, boorus, and imageboards</li>
				</ul>
				<li><h3 id="version_149"><a href="#version_149">version 149</a></h3></li>
				<ul>
					<li>all listctrls with an attendant delete button will now support the same action with the delete key</li>
					<li>several normal tag boxes will support the delete key as well</li>
					<li>added a temporary service cache to the client db to speed up service fetching until I can figure out a yaml replacement</li>
					<li>cleared out inefficient tag and hash database fetching and generation code</li>
					<li>tag parent dialog will now ask for an action/reason for every ( children, parent ) pair rather than every ( child, parent ) pair</li>
					<li>fixed an error with collecting by rating</li>
					<li>fixed the 'fix' to the gui_colours db update problem</li>
					<li>the autocomplete dropdowns in the paths-to-tags dialog will no longer produce errors when tags are submitted</li>
					<li>improved accuracy of taglist scroll-to-selected scrolldown calculation</li>
					<li>collapsed some of the helter-skelter db code in prep for future improvements</li>
					<li>moved daemon code to separate files</li>
					<li>silenced server upnp errors</li>
					<li>all except: continue lines are banished!</li>
					<li>cleaned up some miscellaneous exception code</li>
					<li>cleaned some ugly behind the scenes a/c dropdown button code</li>
					<li>did some general code cleanup</li>
				</ul>
				<li><h3 id="version_148"><a href="#version_148">version 148</a></h3></li>
				<ul>
					<li>rewrote thumbnail canvas and scrolling code from a crashtastic monolithic bmp to a lighter, faster, and more flexible page buffer</li>
					<li>all custom gui elements should be less flickery</li>
					<li>the manage tags dialog will now grow significantly taller if its parent window is also tall</li>
					<li>dialogs launched by the media viewer will initially position themselves according to that, rather than the main gui</li>
					<li>dialogs launched by controls will initially position themselves according the control's toplevelwindow, as originally intended</li>
					<li>thumbnail download (for file repositories) no longer happens silently in the background; it will now occur in the repository sync daemon, reporting its progress in the normal repo sync popup</li>
					<li>missing thumbnails are now replaced with the hydrus psi symbol silently, with a simple statement written to the log</li>
					<li>fixed a tiny typo in update error code that was reporting version wrong</li>
					<li>fixed a typo bug in gettagarchivetags</li>
					<li>fixed a typo that had broken namespace sorting</li>
					<li>numerous other single-line miscellaneous bug fixes</li>
					<li>fixed a bug with displaying media with size (0,0)</li>
					<li>fixed a bug with zooming in flash files</li>
					<li>improved some buggy tag selection logic that was sometimes desyncing indices between menu popup and selection</li>
					<li>tags will now stay selected even through changes to the tags list</li>
					<li>any attempt to close the autocomplete dropdown floating frame should now bump the close event up to the whole program</li>
					<li>linux release now includes source code alongside executables</li>
				</ul>
				<li><h3 id="version_147"><a href="#version_147">version 147</a></h3></li>
				<ul>
					<li>fixed a problem when trying to do a multi-release update that contained the v146 update</li>
					<li>fixed the 'canvas not resizing after media removal' bug</li>
					<li>when an autocomplete appears in a dialog, the dropdown window will integrate into the dialog (rather than being a popup), allowing mouse interaction</li>
					<li>refitted the paths-to-tags dialog so the different static boxes and newly embedded A/C dropdowns fit better</li>
					<li>fixes to and cleanup of sibling tag retrieval code</li>
					<li>fixes to and cleanup of sibling tag filter code</li>
					<li>fixes to and cleanup of sibling tag search code</li>
					<li>fixes to and cleanup of sibling tag display code</li>
					<li>fixed a couple bugs in READ autocomplete tag search caching that was stopping namespaced queries searching properly if typed in manually rather than pasted</li>
					<li>fixed a similar bug in WRITE autocomplete tag search</li>
					<li>fixed a bug that was ignoring namespace entirely in WRITE autocomplete</li>
					<li>synchronised subscription popups' new file buttons with the text</li>
				</ul>
				<li><h3 id="version_146"><a href="#version_146">version 146</a></h3></li>
				<ul>
					<li>manage tags and ratings dialogs will now OK on F3/F4, not CANCEL</li>
					<li>zoom switch (default shortcut 'z') will now work for images smaller than the media viewer's canvas</li>
					<li>in the media viewer, the canvas-fitting zoom value is now inserted into a media's scrollable zooms</li>
					<li>added 'tags box background' gui custom colour</li>
					<li>volume, chapter, and page tags will sort properly again in thumbnail view, including last week's improvements</li>
					<li>the thread watcher will no longer break its checking loop on non-404 http request or parse errors (i.e. the manual 'check now' button will still work after a misc error)</li>
					<li>to remove clutter, the preview window will no longer show tags and file information like the normal media viewer</li>
					<li>subscriptions will now show a live 'show files' button as they process</li>
					<li>the copy and 'open new page' right-click menu options on tags will now work on more controls</li>
					<li>cleaned quite a bit of tags box code</li>
					<li>cleaned up and unified a lot of miscellaneous canvas zoom and display code</li>
					<li>fixed an error when trying to upload a file petition without any accompanying file uploads</li>
				</ul>
				<li><h3 id="version_145"><a href="#version_145">version 145</a></h3></li>
				<ul>
					<li>added custom gui colours for thumbnail backgrounds and borders, the autocomplete background, and media background and text</li>
					<li>added <- and -> arrows to manage tags dialog launched from navigable media viewer</li>
					<li>on empty input in the manage tags dialog, page up and page down work as shortcuts for the new <- and -> buttons</li>
					<li>fixed the media height calculation for animations, so when they are vertically scaled, the total height including scanbar won't overflow off screen</li>
					<li>allowed non-integer page, chapter, volume tags in display and sort calculations</li>
					<li>semi-integer tags will sort along with integer tags and string tags like so: 0 < 0a < 0b < 1 < 2 < 22</li>
					<li>improved the old tag/media sorting code</li>
					<li>removed loli and shota from hentai foundry filter options</li>
					<li>patched old db-stored predicates to attempt to convert to the new format when queried for _inclusive</li>
					<li>this _should_ have fixed the recent export folder problems</li>
					<li>created an 8chan board, and updated my various links, including in the client, to migrate from my old forum to this</li>
					<li>added a 'fit to canvas' checkbox in file->options->media that will zoom small images to the full size of the media viewer</li>
					<li>misc code improvements</li>
				</ul>
				<li><h3 id="version_144"><a href="#version_144">version 144</a></h3></li>
				<ul>
					<li>files named 'Thumbs.db' will now be skipped in the import files dialog</li>
					<li>fixed wildcard searches, which last week's predicate rewrite broke</li>
					<li>fixed a typo that was showing namespace predicates as exclusive (-series:*) when they were actually inclusive (series:*) and vice versa</li>
					<li>added wildcard namespace searching for database autocomplete queries</li>
					<li>fixed database wildcard autocomplete searching when wildcard match is not the first word in a tag</li>
					<li>fixed database file searching when wildcard match is not the first word in a tag</li>
					<li>added a comprehensive suite of predicate-unicode conversion tests</li>
					<li>cleaned and improved some of the downloader code</li>
					<li>added five second per-gallery-page delay to subscription daemon</li>
					<li>added three second per-file-delay for regular gallery downloads and subscriptions, just to be polite to those web services</li>
					<li>added three second per-file-delay to the thread watcher for the same reason</li>
					<li>added a 'check now' button to the thread watcher</li>
					<li>fixed a problem that was sometimes causing subscriptions, when paused, to continually restart</li>
					<li>removed unnamespaced tag parsing from deviant art</li>
					<li>fixed creator parsing for deviant art, which was formerly cutting off the first character</li>
					<li>patched an account sync problem in the manage tags dialog</li>
					<li>in add tags by path dialog, tags are now sorted before being added to the file list</li>
					<li>in add tags by path dialog, the regex sections now generate tags for every match in the string, not just the first</li>
					<li>stopped collapsible panels resizing dialogs to minsize on collapse or expand</li>
					<li>added shortcut for 'open externally', default Ctrl+E</li>
					<li>moved 8chan to new 8ch.net domain (old domain still works)</li>
				</ul>
				<li><h3 id="version_143"><a href="#version_143">version 143</a></h3></li>
				<ul>
					<li>when making a READ autocomplete tag query, instances of tags that only have a count in a single namespaced domain will no longer accumulate helper results in the non-namespaced domain i.e. no more 'blah (1)' 'title:blah (1)' dupes</li>
					<li>improved the way the above results are calculated</li>
					<li>pixiv artist downloading now correctly asks for numerical artist id</li>
					<li>reworded some of getting started with files help page to better explain multiple selection</li>
					<li>widened the splash screen a bit so db update messages have more space</li>
					<li>all frames and dialogs now have an explicit minimum size that is usually far smaller than their initial size</li>
					<li>the dialogs with listctrls (import files, manage custom filter actions, and so on) now start a little shorter in height</li>
					<li>fixed some bad sizer flags in dialogs with listctrls</li>
					<li>rebalanced content update throttling for quicker correction under heavy load</li>
					<li>moved the new 5 second break in the gallery parser to a position for quicker status updates</li>
					<li>the gallery parser will report total urls found when it is finished (even if that is zero) and wait a bit to let you read that</li>
					<li>fixed services->news to hide if you aren't connected to any repositories</li>
					<li>autocomplete boxes are now a very slight shade of blue, see if you like it</li>
					<li>fixed 'launch file externally' for linux and os x</li>
					<li>fixed 'launch directory externally' for linux and os x</li>
					<li>fixed 'set up server for me' for linux and os x, I think</li>
					<li>improved some general external-process-launching code</li>
					<li>cleaned and improved some of the predicate code</li>
				</ul>
				<li><h3 id="version_142"><a href="#version_142">version 142</a></h3></li>
				<ul>
					<li>added wildcards to autocomplete results and file queries</li>
					<li>autocomplete results will match your wildcard _exactly_</li>
					<li>a new predicate type will appear at the top of wildcard queries; selecting it will search files with that wildcard</li>
					<li>the new wildcard predicate can be prepended with a minus sign to exclude from results just like normal tag and namespace queries</li>
					<li>in wildcard predicates, namespace and/or tag can contain wildcard characters</li>
					<li>added some wildcard help</li>
					<li>putting in '***' as an autocomplete query is now a pretty bad idea!</li>
					<li>fixed some logic in how tags are matched against unusual search input in the db</li>
					<li>sped up and cleaned how tags are matched against search input</li>
					<li>fixed some namespace logic in how tags are matched against search input</li>
					<li>below-character-threshold autocomplete queries will now return all applicable namespace results (e.g. putting in '1' will return [ 1, page:1, chapter:1, volume:1 ], not just [ 1 ])</li>
					<li>added 'open externally' to launch the file in default external program to thumbnail and media viewer menu</li>
					<li>added a five second delay between gallery-page fetches in the downloader to reduce chance of 429 errors (this was affecting big sankaku searches)</li>
					<li>added danbooru webm downloading</li>
					<li>fixed a typo in the thread watcher</li>
					<li>fixed a bit-rot bug that was stopping the 'like' ratings filter from launching</li>
					<li>fixed right click menu in custom filter</li>
				</ul>
				<li><h3 id="version_141"><a href="#version_141">version 141</a></h3></li>
				<ul>
					<li>combined mappings are no longer calculated and stored</li>
					<li>recalculate combined mappings obviously removed from database menu</li>
					<li>combined mappings no longer have to be recalculated on a service deletion; the accompanying 'this could take a long time' warning dialog is gone as well</li>
					<li>combined mappings autocomplete counts are now calculated on-the-fly</li>
					<li>combined mappings tag queries are now performed on-the-fly</li>
					<li>combined mappings namespace queries are now performed on-the-fly</li>
					<li>combined mappings zero/non-zero tag count queries are now performed on-the-fly</li>
					<li>combined mappings regular tag count queries are now performed on-the-fly</li>
					<li>corrected some logic with regular tag count queries, I think</li>
					<li>autocomplete tag cache dirties and culls itself more efficiently on tag update</li>
					<li>autocomplete tag cache dirties and culls itself more efficiently on file import/delete</li>
					<li>removed a couple of non-useful AMP tests that were breaking due to a previous change in connection code</li>
					<li>improved how popup messages give the gui permission to update; hopefully the gui will lock up less when big jobs with popups are happening</li>
					<li>improved some misc timing logic</li>
					<li>improved some repo sync timing logic</li>
					<li>added simple emergency throttling to the repo sync daemon when the CPU/HDD is getting hammered</li>
					<li>improved some repo sync text number-grammar and timing</li>
					<li>added sankaku channel booru, including flash</li>
					<li>the booru downloading code that discovers image urls is more flexible</li>
					<li>improved my job pause/cancel logic so paused jobs, when cancelled/completed, will report themselves as no longer paused (this was affecting the downloader page, with paused jobs not dismissing themselves on a subsequent cancel)</li>
				</ul>
				<li><h3 id="version_140"><a href="#version_140">version 140</a></h3></li>
				<ul>
					<li>if a repository or subscription popup message has nothing to report, it will dismiss itself</li>
					<li>fixed handling of text popup display when the object passed was not text</li>
					<li>delete orphans is now cancellable</li>
					<li>vacuum, deleted orphans, and upload pending popup messages will dismiss themselves an hour after they are done</li>
					<li>tightened the subscription final state popup message to just a title and a button</li>
					<li>removed much of the very expensive autocomplete tag cache maintenance code, which seems not to be worth the effort</li>
					<li>culled the autocomplete tag cache in prep for new maintenance cycle</li>
					<li>fixed a resize timing bug that was causing large images to scale in an ugly way when the media viewer was launched in a borderless state</li>
					<li>'open selection in new page' will no longer default focus on the sort dropdown; it'll go to the media panel (this was causing scrolling confusion)</li>
					<li>fixed a non-updating display bug when resizing frames/dialogs with auto-resizing listctrls on linux</li>
					<li>cleaned up a wall-of-text error when closing the client immediately after deleting a tag service</li>
					<li>filled a gap in static text image object cleanup</li>
					<li>cleaned up some thumbnail waterfall/fade code</li>
					<li>filled several gaps in thumbnail object cleanup</li>
				</ul>
				<li><h3 id="version_139"><a href="#version_139">version 139</a></h3></li>
				<ul>
					<li>cleaned up all the old popup message code, and fully integrated the new</li>
					<li>moved repo sync to the new popup messaging system</li>
					<li>moved normal errors and db errors to the new popup messaging system</li>
					<li>improved some error handling code</li>
					<li>reintroduced message printing</li>
					<li>improved subscriptions messaging</li>
					<li>added cancel button to:</li>
					<ul>
						<li>check file integrity</li>
						<li>export to tag archive</li>
					</ul>
					<li>added pause and cancel buttons to:</li>
					<ul>
						<li>repository sync</li>
						<li>subscription sync</li>
						<li>pending upload</li>
						<li>regenerate thumbnails</li>
					</ul>
					<li>improved how jobs' pausability and cancelability are spawned</li>
					<li>improved and harmonised a lot of pause and cancel and general shutdown-job-interaction logic</li>
					<li>pausable and cancellable popups can only be dimissed with right click once they are done or cancelled</li>
					<li>improved some more pause logic in the subscription and repository sync daemons</li>
					<li>improved popup pause responsivity</li>
					<li>added comprehensive cancelled/finished log statements for the newly pausable and cancellable operations</li>
					<li>'just woke from sleep' calculation will no longer evaluate to true on application start</li>
					<li>deleted the old broken message log page, which I had forgotten even existed!</li>
					<li>fixed a bug stopping adding tag repositories in the manage services dialog</li>
					<li>fixed a bug that was hiding the 'name and credentials' panel in the manage services dialog</li>
					<li>improved some kinds of thumbnail error reporting</li>
					<li>sped up client boot by one second</li>
				</ul>
				<li><h3 id="version_138"><a href="#version_138">version 138</a></h3></li>
				<ul>
					<li>created new 'maintenance and memory' options page in the manage options dialog, and moved some things over from 'files and memory', which is now 'files and thumbnails'</li>
					<li>added options for idle, vacuum, and delete orphans periods to the 'maintenance and memory' page in the manage options dialog</li>
					<li>fixed the incredibly annoying animated scanbar delayed-frame bug, where a click on the scanbar would not draw the new frame until the old frame's expected delay was complete. scanbar scanning is a lot smoother all around, now</li>
					<li>animations now show their current frame number in the animation scanbar</li>
					<li>status bar now shows inbox/archived counts on any selection</li>
					<li>reworked static image zoom code so they resize beautifully, without jaggies, at the cost of a bit of CPU and memory</li>
					<li>created new flexible message pathway</li>
					<li>moved most messages to new pathway</li>
					<li>improved a bunch of message and job_key related code</li>
					<li>btw: messages will no longer close themselves; their end state is now to report what happened until you dismiss them. if this turns out to be annoying, I'll change it</li>
					<li>fixed the pending menu not updating its count when files imported and added tags via archive sync</li>
					<li>improved the logic behind the 'computer just woke from sleep' calculation</li>
					<li>improved the accuracy of the 'client is currently idle' calculation</li>
					<li>improved database vacuum so the .db-wal file is flushed afterwards, for both client and server</li>
					<li>because of better vacuuming, server db backup no longer needs to create a bloated .db-wal backup</li>
					<li>removed a very common superfluous empty tag upload packet in normal tag uploads</li>
				</ul>
				<li><h3 id="version_137"><a href="#version_137">version 137</a></h3></li>
				<ul>
					<li>eliminated a loophole in the tag-pending process that allowed zero-length subtags through during archive sync</li>
					<li>improved the way tags are cleaned and checked, no matter their source</li>
					<li>added zero-length subtag (e.g. 'character:') checking and exclusion to the server</li>
					<li>removed erroneously pending or current tags that have a zero-length subtag</li>
					<li>added 'copy bitmap' option on still image right-click menu</li>
					<li>harmonised a whole bunch of clipboard code</li>
					<li>added a check file integrity db function, with quick filename existence and thorough content hashing modes</li>
					<li>added clear service info cache debug function to database menu</li>
					<li>added regenerate combined mappings debug function to database menu</li>
					<li>added a primary key to the hydrus tag archive db to save some space on duplicate mappings</li>
					<li>added AddMappings to the hydrus tag archive to make mass mapping-adding a bit more efficient</li>
					<li>added DeleteTags to the hydrus tag archive</li>
					<li>added Get/DeleteMappings convenience synonyms for Get/DeleteTags for the hydrus tag archive</li>
					<li>added an 'export to hydrus tag archive' button in the advanced content update dialog</li>
					<li>renamed the db tag archive sync methods to better reflect what they actually do</li>
					<li>massively simplified how cursors are referenced inside the client and server databases</li>
					<li>cleaned up some db cursor code</li>
					<li>fixed a critical error in the database test code that was spawning a double db mainloop</li>
					<li>improved error handling when regenerating thumbnails</li>
					<li>fixed error handling when waterfalling thumbnails</li>
					<li>fixed a typo in export tags process</li>
					<li>improved the way the client flushes its buffered log data to disk</li>
					<li>added log buffer flushing to the server</li>
					<li>added a confirm dialog to advanced content update dialog's powerful 'go' button</li>
					<li>added custom titles to many co-opted yes/no dialog boxes where the default 'Are you sure?' didn't make sense</li>
					<li>cleaned up some misc code</li>
					<li>cleaned up some misc bitmap language</li>
				</ul>
				<li><h3 id="version_136"><a href="#version_136">version 136</a></h3></li>
				<ul>
					<li>added tag archives</li>
					<li>added tag archive sync initialisation on all existing local files</li>
					<li>added tag archive sync maintenance on newly imported files</li>
					<li>added a new db directory, client_archives</li>
					<li>added tag archive sync options to tag services in manage services dialog</li>
					<li>added local tags service to manage services dialog</li>
					<li>added sha512 to local hash cache</li>
					<li>added tag archive hash_type guessing</li>
					<li>added a new dialog for selecting n arbitrary strings</li>
					<li>got testing to work on all platforms</li>
					<li>fixed the hydrus server for linux and os x; it now has a stay-alive frame rather than a taskbaricon</li>
					<li>improved some dialog testing code so it would work on all platforms</li>
					<li>fixed a deffered problem that was causing the server AMP test to hang on Linux and OS X</li>
					<li>neatened and harmonised a bit of common file and network streaming code</li>
					<li>improved some misc manage services dialog code</li>
					<li>fixed a critical bug that was meaning certain service changes were not being saved to the database, so were being forgotten on restart</li>
					<li>fixed some select-string code that wasn't taking sets of strings for a weird wx reason</li>
				</ul>
				<li><h3 id="version_135"><a href="#version_135">version 135</a></h3></li>
				<ul>
					<li>added a menu option to any tag's right-click menu to open a new search page for that tag</li>
					<li>added a subscription cache to the client database to speed up subs checking</li>
					<li>added a filter to the message popup system so those annoying and 99% pointless PyDeadObjectErrors will not display. they will still be written to the log</li>
					<li>cleaned up a couple of temporary file deletion errors</li>
					<li>improved some more temp file deletion error handling</li>
					<li>fixed a bug that I think was stopping file repositories from being deleted</li>
					<li>improved the manage services db edit log</li>
					<li>fixed a bad comparison that was causing superfluous edit actions after a manage services dialog ok</li>
					<li>fixed a new bug related to displaying non text in the popup system</li>
					<li>added a 'just woke from sleep' check to all daemons, so CPU heavy stuff like repository sync will not initialise if you just woke your computer. the grace period lasts about ten minutes</li>
					<li>retuned the way the subscrption daemon initialises (it'll now wait two minutes after startup before firing)</li>
					<li>fixed a typo that was causing fatten service info to fire more often than it should</li>
					<li>added a yes/no warning to options ok when the thumbnail dimensions have been changed</li>
					<li>added a popup message when thumbnail dimensions have been changed to report on deletion progress</li>
					<li>added account testing to my server db testing suite</li>
					<li>improved the security of the registration_key->access_key transaction; it'll now generate a new access_key with every call</li>
				</ul>
				<li><h3 id="version_134"><a href="#version_134">version 134</a></h3></li>
				<ul>
					<li>updated to wx 3.0.1.1</li>
					<li>fixed a critical media scrolling bug due to the wx update</li>
					<li>improved some bad media scrolling code, sped things up a bit</li>
					<li>fixed 'top' and 'bottom' media scrolling events</li>
					<li>fixed a typo that meant the default fullscreen media browsing shortcuts were ctrl+ appended rather than working on their own</li>
					<li>overly-verbose errors and other text popups are now cropped to 1KB for gui display, with a notice. the full message will be printed to the log as usual</li>
					<li>improved how severe boot crashes are reported</li>
					<li>fixed a bit of text-reporting code that wasn't handling non-text very well</li>
					<li>improved handling of a weird popup message manager error</li>
					<li>fixed an occasional overhasty cleanup error in the checkimportfolders daemon</li>
					<li>added options for default values for the thread watcher's number of times to check and check period</li>
					<li>fixed the thread watcher complaining about closing when the checking was finished</li>
					<li>optimised some id generating code to stop spamming the id cache, which I think was overloading after a while and causing weird PyAssertionErrors</li>
					<li>neatened autocomplete dropdown service storage and menu id generation</li>
					<li>improved menu id generation for tagbox</li>
					<li>fixed opening new petition page from view menu</li>
					<li>added a 'this might take ages' warning yes/no dialog when trying to delete a tag service</li>
					<li>added a little popup message info to report on progress when deleting a tag service</li>
					<li>added some server db testing</li>
					<li>fixed an error when double-clicking a tag in a page without search predicates</li>
					<li>updated some help links from mediafire to the new github releases page</li>
					<li>fixed a typo bug in server db's account flushing code</li>
				</ul>
				<li><h3 id="version_133"><a href="#version_133">version 133</a></h3></li>
				<ul>
					<li>reworked the add file process to correct file repository file counts</li>
					<li>made add file process to calculate inbox and local thumbnail count more efficiently</li>
					<li>fixed a critical bug in server db creation that was stopping file repository service from working</li>
					<li>added go/exit fullscreen options to fullscreen right click menu as alternative for default shortcut 'f'</li>
					<li>improved fullscreen position, size, maximised, and borderless state memory</li>
					<li>removed old 'fullscreen_borderless' option in local options</li>
					<li>thread checker now supports 8chan urls</li>
					<li>thread checker now has 'number of checks still to do' spin control so you have more options to fire and forget</li>
					<li>improved how the thread checker constructs and passes url information around</li>
					<li>improved some thread checker timing logic which _might_ have been causing problems</li>
					<li>improved some thread checker error reporting</li>
				</ul>
				<li><h3 id="version_132"><a href="#version_132">version 132</a></h3></li>
				<ul>
					<li>merged two complicated serverside account tables into two simpler tables</li>
					<li>with this action, was able to clean out a lot of rubbish old server account code</li>
					<li>made it so accounts can only be on one service. existing (admin) accounts that straddled sevices will have new access keys printed in a text file in the base installation directory on server update</li>
					<li>rewrote the account object to be simpler and easier to maintain</li>
					<li>swapped the old rubbish 'account_id' identifier in the account object for the much better 'account_key' identifier</li>
					<li>harmonised some conflicting account-related variable names</li>
					<li>refined the way the unknown account is stored and identified</li>
					<li>split serverside account verification and identification into two separate paths, to reduce chance of security problems</li>
					<li>reworked account identifiers (a general purpose account identifying object that is used in admin-server interactions) and their associated db functions to be more secure and reliable</li>
					<li>simplified account data use checking</li>
					<li>simplified and harmonised the way used bytes and used requests are stored and retrieved in the account and account type</li>
					<li>with guarantee of account_key uniqueness across entire server, I have simplified session code in several places</li>
					<li>updated help to reflect the new relationship between access keys and account keys</li>
					<li>added 'copy account key' button to review services, which will now be the thing for users to use if they need an admin to modify their account</li>
					<li>fixed serverside credential verification for non-instantiated (still have a registration key) access keys</li>
					<li>added a bit of explaining text to the 'waiting' autocomplete state</li>
					<li>fixed a typo that caused errors when deleting files from a file repo</li>
				</ul>
				<li><h3 id="version_131"><a href="#version_131">version 131</a></h3></li>
				<ul>
					<li>removed tag service precedence and its various expensive and overly complicated effects</li>
					<li>recalculated combined tag mappings using new simple union based merge</li>
					<li>cleaned updatemappings code, and I think fixed some tiny count logic bugs</li>
					<li>refactored eight overly complicated sub-functions of updatemappings down to two simpler ones</li>
					<li>fixed up a mention of tag service precedence in help</li>
					<li>deleted a bunch of old client update code</li>
					<li>added adaptive throttling to tag updates, so they'll speed up and slow down based on current CPU load</li>
					<li>refined a bunch of the parent and sibling code, given the new changes</li>
					<li>updated and cobbled back together a host of finicky parent and sibling and regular tag test code, given the new changes</li>
					<li>fixed a bit of logic in the censorship code that was causing overly broad namespaced matches</li>
					<li>fixed error when selecting a specific tag service in a normal search</li>
					<li>deleting a service no longer throws an extraneous error after it is complete</li>
					<li>fixed danbooru large pngs, which were being resized in a way that broke some of the downloader's url prediction code and caused 404s</li>
					<li>fixed a bug in the input custom filter action dialog</li>
					<li>fixed a misc clientserviceidentfier bug in custom filter initialisation</li>
					<li>fixed setting numerical ratings from a custom filter (I think) and I think fixed many other custom filter operations</li>
					<li>fixed several text-entry-dialog-launched-from-dialog bugs</li>
					<li>fixed, I really think for real this time, the serverside account desync bug. it was in session init, where I had not previously looked</li>
					<li>improved some popup messages' text</li>
					<li>improved the way some exceptions are reported</li>
					<li>cleaned some error reporting code</li>
					<li>silenced the more-annoying-than-useful account sync failure popups</li>
					<li>fixed and cleaned server start/stop/restart code a bit more</li>
					<li>reduced regular CPU hit from resize thumbnail daemon and made it more polite in starting</li>
				</ul>
				<li><h3 id="version_130"><a href="#version_130">version 130</a></h3></li>
				<ul>
					<li>fixed youtube downloads</li>
					<li>fixed remote services not showing in OS X manage services dialog</li>
					<li>updated 'running from source' help page with some new info for Linux</li>
					<li>cleaned a little more code</li>
					<li>fixed bug that was stopping new/modified serverside services booting immediately</li>
					<li>improved the server-client service key translation code on serverside service modification</li>
					<li>fixed test credentials button in manage services dialog for unsaved services</li>
					<li>fixed bandwidth tracking errors for unsaved services</li>
					<li>deleted some old unused server options code</li>
					<li>improved server services start/stop code a bit more</li>
					<li>massively rebalanced the autocomplete maintenance routine after a tag service deletion or tag service precedence change</li>
					<li>made a mess of some of the deleted tag update processing code, I'll fix it next week</li>
				</ul>
				<li><h3 id="version_129"><a href="#version_129">version 129</a></h3></li>
				<ul>
					<li>fixed a typo in launching the ratings dialog</li>
					<li>did some important code cleanup re a common ambigious variable name</li>
					<li>improved serverside account tracking in a way that will help future user management clientside too</li>
					<li>improved serverside session code a bit more</li>
					<li>improved general serverside login</li>
					<li>improved serverside access key verification</li>
					<li>aligned server db update code with the client's only-update-up-to-50-versions rule</li>
					<li>fixed some buggy repository test code</li>
					<li>fixed some buggy local booru test code</li>
				</ul>
				<li><h3 id="version_128"><a href="#version_128">version 128</a></h3></li>
				<ul>
					<li>fixed right click on thumbnail error</li>
					<li>improved assumed permission defaults on tag dialogs and right click download/upload actions (i.e. tag dialog's entry A/C will no longer disappear when you desync from tag service)</li>
					<li>removed account desync on network version mismatch, to stop this problem anyway</li>
					<li>fixed tag parents not showing in autocomplete dropdowns</li>
					<li>added sqlite3 command line tool to db folder for convenience</li>
					<li>fixed a typo in manage server's services dialog</li>
					<li>some misc code cleanup</li>
					<li>added default advanced tag options pane to manage options dialog</li>
					<li>added default advanced tag options to manage subscriptions dialog</li>
					<li>fixed booru namespaces in manage subscriptions dialog to be booru-specific</li>
					<li>added default advanced tag options to normal download pages</li>
				</ul>
				<li><h3 id="version_127"><a href="#version_127">version 127</a></h3></li>
				<ul>
					<li>finished service_identifier rewrite, phew</li>
					<li>added an exception catch for full program crashes; big errors will now be written to crash.log</li>
					<li>added a shutdown check to make sure popup message manager closes properly when certain weird errors occur</li>
					<li>'files_service_identifiers_cdpp' is now renamed to the vastly less insane 'locations_manager'</li>
					<li>removed db update code older than 50 versions</li>
					<li>a new error message will display if trying to update more than 50 versions in one go</li>
					<li>many other small fixes I didn't keep track of</li>
				</ul>
				<li><h3 id="version_126"><a href="#version_126">version 126</a></h3></li>
				<ul>
					<li>restored a dll that I thought was no longer needed, but was actually doing some weirder gif rendering</li>
					<li>added 'remove' to fullscreen menu</li>
					<li>harmonised thumbnail and fullscreen right click menus a bit more</li>
					<li>added pause button to popup messages for repo update and subscription processing</li>
					<li>moved service_identifier switchover forward</li>
					<li>moved all service fetching to streamlined and non-laggy manager</li>
					<li>changed client options to store default tag repository in a better way</li>
					<li>changed subscriptions to store their advanced tag options in a better way</li>
					<li>fixed a 'missing service' bug in advanced tag options</li>
					<li>remade idle calculation into a much better gui-based rather than db-based test</li>
					<li>fiddled more with maintenance timing, hopefully for the good</li>
					<li>new screenshots in the help index pages!</li>
					<li>improved how auto repo and server setup work and report their status</li>
					<li>the client's UPnP daemon will no longer spam errors if your IGD doesn't support UPnP</li>
					<li>fixed a bad db call in server's UPnP  daemon</li>
				</ul>
				<li><h3 id="version_125"><a href="#version_125">version 125</a></h3></li>
				<ul>
					<li>moved client splash screen and client boot to application event loop (i.e. your mouse won't hourglass over it now)</li>
					<li>splash screen is now draggable</li>
					<li>added splash screen for client shutdown</li>
					<li>cleaned up shutdown procedure</li>
					<li>added detailed A/C timing options</li>
					<li>created a new text entry dialog that won't allow ok on empty text</li>
					<li>hence fixed a startup bug when a session was created with no name (and likely others!)</li>
					<li>further tweaked idle calculation to improve maintenance routine</li>
					<li>revised a bunch of the maintenance timer logic</li>
					<li>fixed some bugs in the maintenance timer logic</li>
					<li>fixed a daemon error reporting typo</li>
					<li>fixed another way session data usage tracking could split, server-side</li>
					<li>brushed some more dust off the server-side session code</li>
					<li>improved some bad image processing nomenclature</li>
					<li>took first steps in service_identifier replacement rewrite</li>
				</ul>
				<li><h3 id="version_124"><a href="#version_124">version 124</a></h3></li>
				<ul>
					<li>fixed some more broken gifs (those with funky transparency, I think)</li>
					<li>fixed a critical bug in the subscriptions dialog that was causing subscriptions to be deleted</li>
					<li>reintroduced old locale code, with minor improvement, to fix number grouping (123,456,789) issue</li>
					<li>added a short pre-activation wait to all daemons to reduce more wake-from-sleep problems like the UPnP issue last week</li>
				</ul>
				<li><h3 id="version_123"><a href="#version_123">version 123</a></h3></li>
				<ul>
					<li>rewrote the old gif rendering code to the new system, so gifs with variable framerates now work again!</li>
					<li>fixed a bug that was stopping the first zoom of an image from showing if it took more than a frame to render</li>
					<li>webms are now zoomable beyond frame border</li>
					<li>webms will now respond to keypresses and mouseclicks when cursor is inside their border</li>
					<li>added service select to import metadata</li>
					<li>if repo sync is paused, either globally or individually, repo will no longer try to regularly sync their accounts</li>
					<li>fixed individual repository pause sync</li>
					<li>I think I fixed a serverside session synchronisation bug that was causing too-small data usage reports</li>
					<li>improved complicated tag action descriptions in manage tag dialog</li>
					<li>hastened initialisation of subscriptions daemon</li>
					<li>hastened initialisation of subscriptions dialog</li>
					<li>neatened all object declarations</li>
					<li>fixed a menu bug in OS X</li>
					<li>added put a little delay in the upnp daemon, hopefully to stop the error popups after waking from sleep</li>
					<li>updated an old hacky bit of locale code that was breaking certain platforms of wx 2.9.5.0</li>
					<li>improved animation and other rendering timings on non-windows platforms</li>
					<li>improved media focus on non-windows platforms</li>
				</ul>
				<li><h3 id="version_122"><a href="#version_122">version 122</a></h3></li>
				<ul>
					<li>fixed server upnp daemon to use correct port, I think</li>
					<li>added client upnp daemon for local booru; it'll update upnp mappings as soon as they are changed</li>
					<li>added bandwidth tracking for local booru; it'll even magically update before your eyes in review services</li>
					<li>bandwidth limits are tested, so exceeding data usage will result in 403 errors until the next month</li>
					<li>moved local booru css to an external file any user can edit</li>
					<li>added 'open share in new page' button to local booru review services</li>
					<li>fixed local booru display for video, flash, audio, pdf and miscellaneous</li>
					<li>fixed local booru render resolution for all media</li>
					<li>fixed local booru thumbnails for video, flash, audio, pdf and miscellaneous</li>
					<li>added caching headers to static file requests to reduce browser-hydrus bandwidth</li>
					<li>fixed local booru page text's newline formatting</li>
					<li>added local booru unit tests</li>
				</ul>
				<li><h3 id="version_121"><a href="#version_121">version 121</a></h3></li>
				<ul>
					<li>first version of local booru</li>
				</ul>
				<li><h3 id="version_120"><a href="#version_120">version 120</a></h3></li>
				<ul>
					<li>improved quality of downsized animation rendering</li>
					<li>sped up downsized animation rendering in this case</li>
					<li>neatened animation code</li>
					<li>fixed a mid-animation resize parameter bug</li>
					<li>I think I fixed an animation scan bug that was sometimes giving the wrong frames</li>
					<li>added thumbnails for all video formats</li>
					<li>fixed an off-by-one framecount bug for certain videos, and retroactively fixed counts for existing videos</li>
					<li>fixed a couple harmless width/height numpy.shape switcharounds</li>
					<li>cleaned up some file parsing code</li>
					<li>added a pixiv unit test</li>
					<li>fixed a bug when servers were returning unusual relative redirect urls (gelbooru)</li>
					<li>semi-fixed a bug when servers were returning unescaped redirect urls (gelbooru)</li>
				</ul>
				<li><h3 id="version_119"><a href="#version_119">version 119</a></h3></li>
				<ul>
					<li>fixed an overzealous error in v118 update code</li>
					<li>new direct ffmpeg video decoder for webm</li>
					<li>new system takes advantage of multi-core processors, increasing render speed</li>
					<li>improved animated frame timings</li>
					<li>fixed a number of gifs that were causing the "None has no 'shape' attribute" error</li>
					<li>sped up memory and subprocess cleanup after video playback</li>
					<li>added some new ffmpeg instructions to the running from source help page</li>
					<li>added client and server startup and shutdown statements to the log</li>
					<li>improved some idle time logic, which should improve maintenance timings</li>
					<li>fixed a critical idle timing bug that was adding 1s to many actions, including file queries!</li>
					<li>fixed a pubsub testing bug that was preventing daemons from quickly closing after a unit test</li>
				</ul>
				<li><h3 id="version_118"><a href="#version_118">version 118</a></h3></li>
				<ul>
					<li>improved animated frame buffer size calculation, saving memory and improving smaller animation performance</li>
					<li>improved quality of static image thumbnail generation</li>
					<li>fixed webm mouse event propagation</li>
					<li>updated and improved perceptual hash code</li>
				</ul>
				<li><h3 id="version_117"><a href="#version_117">version 117</a></h3></li>
				<ul>
					<li>fixed the gif rendering error that was causing threading lockup</li>
					<li>fixed a bug in the animated drawing code that was causing +5ms duration on every frame</li>
					<li>improved frame duration checking code</li>
					<li>lowered quality of animated frame resizing to improve effective framerate for previews</li>
					<li>fixed a problem with pixiv session management</li>
					<li>fixed a problem with pixiv tag subscriptions</li>
					<li>neatened an error with pixiv manga download failures</li>
					<li>corrected reviewservices hyperlinkctrl initialisation</li>
					<li>improved the wording for the 'port already bound' error message on client startup</li>
					<li>improved hydrus network session error handling</li>
					<li>cleaned up some old gui messaging code</li>
					<li>some general image/video code nomenclature cleanup</li>
					<li>changed http connection maintenance daemon to be snappier on client shutdown</li>
					<li>subscription minimum check period is now 1 time unit, not 0!</li>
				</ul>
				<li><h3 id="version_116"><a href="#version_116">version 116</a></h3></li>
				<ul>
					<li>gifs now render their frames as needed, rather than building a giant memory-hogging cache of all of them</li>
					<li>webms now have thumbnails!</li>
					<li>refactored important hydrus threading code to a separate module</li>
					<li>added new 'call-to' worker threads for snappier job-thread behaviour</li>
					<li>fixed a typo that was stopping new repositories being entered in the manage repositories dialog</li>
				</ul>
				<li><h3 id="version_115"><a href="#version_115">version 115</a></h3></li>
				<ul>
					<li>moved review and manage services windows to a local/remote dichotomy</li>
					<li>moved local booru service code generally forward</li>
					<li>added local booru service to db init/update</li>
					<li>added booru to review services</li>
					<li>added booru to manage services</li>
					<li>neatened some misc client code</li>
					<li>improved static/animated image rendering code in general</li>
					<li>added some cv stuff to gif rendering code</li>
					<li>cleaned up gif rendering code</li>
					<li>sped up animated gif rendering by about 5-10 times!</li>
					<li>added some cv stuff to static image rendering code</li>
					<li>cleaned up static image rendering code</li>
					<li>sped up static image rendering up to 4 times!</li>
					<li>image import should generally be faster</li>
					<li>pulled animated images off the image cache, reducing memory usage</li>
					<li>added some clever compression that cuts image cache memory usage in half!</li>
				</ul>
				<li><h3 id="version_114"><a href="#version_114">version 114</a></h3></li>
				<ul>
					<li>gif rendering seems to be fixed in all cases! hooray!</li>
					<li>fixed 'pop from empty list' popup error spam in the new cache clearing system</li>
					<li>fixed weird behaviour on right-clicking 'dismiss all' popups button</li>
					<li>added a unit test for perceptual hash generation, with an eye to moving the delicate code from cv to cv2</li>
					<li>updated opencv to 2.4.9</li>
					<li>updated pyinstaller, so frozen releases may be a bit more stable!</li>
					<li>moved webm and mkv info parsing over to cv, which allows num_frames</li>
				</ul>
				<li><h3 id="version_113"><a href="#version_113">version 113</a></h3></li>
				<ul>
					<li>added mkv+webm support!</li>
					<li>fixed some system:mime selection stuff</li>
					<li>fixed a missing db call in the server upnp daemon</li>
					<li>fixed upnp dialog's edit button</li>
					<li>cleaned up upnp dialog's post-button refreshing logic</li>
					<li>fixed getupnpmappings to deal with >10 mappings</li>
					<li>fixed fullscreen_switch for custom filter</li>
					<li>fixed a late canvas drawing exception when fullscreen window was closing due to being media-empty</li>
					<li>rolled back to wx 2.9.5 for windows again. not worth the trouble, right now</li>
					<li>hydrus caches should now clean up anything older than twenty minutes</li>
					<li>'last session' will now be saved every five minutes, rather than only on a successful close</li>
				</ul>
				<li><h3 id="version_112"><a href="#version_112">version 112</a></h3></li>
				<ul>
					<li>A/C dropdown is fixed on linux!</li>
					<li>wrote new UPnP library based on miniupnpc multiplat executables</li>
					<li>integrated new UPnP library into existing client code</li>
					<li>upnp management dialog should now work for os x and linux</li>
					<li>integrated new UPnP library into existing server code</li>
					<li>added UPnP unit tests</li>
					<li>fixed a bug when upnp executable path had whitespace</li>
					<li>renamed 'add, remove or edit services' to 'manage services'</li>
					<li>fixed some review services frame text display issues for restricted non-repository services</li>
					<li>optimised review services frame initialisation db requests</li>
					<li>added a database maintenance routine that should help review services launch a bit faster on average</li>
					<li>improved manage services layout a little bit</li>
					<li>removed initialise server button when it is invalid</li>
					<li>updated 4chan thread url parser to handle new 4chan thread urls</li>
					<li>redirected 4chan thread downloader to new api address</li>
					<li>fixed an error reporting problem in repository sync</li>
					<li>fixed my linux dev environment, so linux executable is back</li>
					<li>changed wx requirement to 2.9 on linux, due to bugs in linux 3.0.0.0 release</li>
					<li>fixed a typo in repository  deletion</li>
					<li>added repository deletion to unit tests</li>
					<li>added num_base and num_step to file path regex dialog</li>
					<li>fixed popup display of certain exceptions, including file parsing exceptions</li>
					<li>cleaned up os x and linux build scripts, added static&help sync</li>
				</ul>
				<li><h3 id="version_111"><a href="#version_111">version 111</a></h3></li>
				<ul>
					<li>fixed booru searches that include unusual characters like '&'</li>
					<li>added pause synchronisation to individual repositories in the manage services dialog</li>
					<li>fixed gui_sessions with predicates (again!)</li>
					<li>added a unit test for gui_session storage, shouldn't get problems with that again</li>
					<li>fixed a getcountlesscopy predicates bug</li>
					<li>first step in multi-platform upnp support is DONE, phew</li>
					<li>harmonised subscription file import errors with normal hdd import errors. they nshould be a bit clearer</li>
					<li>corrected how popup text width is enforced</li>
					<li>added a warning to the reset cache button in the manage subscriptions dialog</li>
					<li>os x autocomplete dropdown seems to be magically fixed, not sure how or when that happened</li>
					<li>started HydrusBooru</li>
					<li>fixed some problems with twisted startup/shutdown in unit testing</li>
				</ul>
				<li><h3 id="version_110"><a href="#version_110">version 110</a></h3></li>
				<ul>
					<li>fixed a variable overwriting issue in the subscription daemon error reporting code that was causing error spam</li>
					<li>fixed more actual and potential instances of this error elsewhere</li>
					<li>fixed a bug in the import file error system for non-local files</li>
					<li>fixed url parsing for urls lacking 'http://' or 'https://'</li>
					<li>fixed hentai foundry image parsing for two different cases</li>
					<li>fixed client gui-initiated db backup to also backup client_updates folder</li>
					<li>A/C dropdown now shows current and pending counts separately!</li>
					<li>fixed display of uncaught database exceptions</li>
					<li>new version of sqlite for windows, might speed some things up a bit</li>
					<li>upgraded a bunch of other libraries, look forward to mysterious new bugs!</li>
					<li>I _think_ some transparency support is improved</li>
					<li>moved messaging forward</li>
					<li>dropped processed_mappings experiment</li>
					<li>removed a bloated mapping index, hopefully speeding a couple things up</li>
					<li>fixed an erroneous error message in hydrus network session manager</li>
				</ul>
				<li><h3 id="version_109"><a href="#version_109">version 109</a></h3></li>
				<ul>
					<li>started processed_mappings table. for now, it mirrors normal mappings table</li>
					<li>improved manage tags dialog logic</li>
					<li>fixed only_add issue for parent tags</li>
					<li>fixed an important tags box surplus tags display bug when focus repository was changed</li>
					<li>fixed petitioned tag counts in tag boxes, as long as 'all known tags' is not selected</li>
					<li>fixed occasional zero tag count in tags box</li>
					<li>added petitioned tags to normal media fetch, not sure why they were missing</li>
					<li>fixed a random error when trying to refresh a 'open selection in new page' page</li>
					<li>improved help to reflect new manage tags dialog</li>
					<li>cleaned up an annoying spam-text-to-console issue when running test.py</li>
					<li>reworked the way the server clean/create update daemons interface with the database</li>
					<li>improved how updates are stored and fetched in the server db--no longer needs a db hit to fetch</li>
					<li>harmonised client db's update naming convention to the server's</li>
					<li>improved server db to update the same new-ish way client db does it</li>
				</ul>
				<li><h3 id="version_108"><a href="#version_108">version 108</a></h3></li>
				<ul>
					<li>added 'database->delete orphan files' for manual firing of this maintenance routine</li>
					<li>improved redirect location parsing--should fix the booru 'Could not connect to None!' errors</li>
					<li>fixed 4chan thread downloader's erroneous 'still working' warning when trying to close while paused</li>
					<li>added multiple additions to manage tag parents dialog</li>
					<li>added multiple additions to manage tag siblings dialog</li>
					<li>generic improvements to both dialogs</li>
					<li>manage tags dialog now shows all the selection's tags combined, not just the tag intersection</li>
					<li>multiple improvements to manage tags dialog</li>
					<li>reworked some tagsbox classes to be more flexible</li>
					<li>improved dialogsetupexport's use of tagsbox</li>
				</ul>
				<li><h3 id="version_107"><a href="#version_107">version 107</a></h3></li>
				<ul>
					<li>converted 'namespace blacklists' to more general 'tag censorship'</li>
					<li>tag censorship now accepts unnamespaced tag bans</li>
					<li>tag censorship now accepts all namespaced tags bans</li>
					<li>tag censorship now permits bans for all tag services</li>
					<li>fixed several small bugs carried over from the namespace blacklists code</li>
					<li>added a bit about tag censorship to help, under advanced.html</li>
					<li>fixed youtube downloading</li>
					<li>file import dialog now ignores dupe paths</li>
					<li>improved update status text in review services window</li>
					<li>fixed erroneous capital P on pending menu</li>
					<li>fixed shortcut input dialog's ok button</li>
					<li>fixed modify tags dialog's admin modify button</li>
					<li>added several bits of explanation text to advanced dialogs</li>
					<li>added more helpful timestamp to news dialog</li>
					<li>neatened export dialog's layout</li>
					<li>corrected some double-escaped backslashes in the export filename pattern button menu</li>
					<li>fixed modify accounts dialog's http request</li>
					<li>improved grammar in db pubsub code</li>
				</ul>
				<li><h3 id="version_106"><a href="#version_106">version 106</a></h3></li>
				<ul>
					<li>download by raw url now sends the correct text to the popup on successful import</li>
					<li>first step in peer-to-peer repository sync is complete</li>
					<li>repository updates are now stored as local yaml, in the new client_updates folder</li>
					<li>repository reset keeps the downloaded updates, only does a reprocess</li>
					<li>all repository updates should process faster, especially if you have saved sessions</li>
					<li>a lot of misc gui lag should be reduced, especially if you have saved sessions</li>
					<li>the way the gui's menubar is updated is massively improved</li>
					<li>os x and linux menubar should be less spastic</li>
					<li>several improvements to daemon pubsub workflow</li>
				</ul>
				<li><h3 id="version_105"><a href="#version_105">version 105</a></h3></li>
				<ul>
					<li>complete rewrite of message data handling and display</li>
					<li>hidden gauge messages will now display correctly</li>
					<li>fixed error-display bugs in the log page</li>
					<li>massively improved how database errors are generated and displayed</li>
					<li>improved and streamlined how other errors are generated and displayed</li>
					<li>improved the way all gui elements are deleted from memory</li>
					<li>fixed the frequent segfault in os x and linux when closing popup messages</li>
					<li>fixed the common segfault in os x and linux when refreshing a query</li>
					<li>fixed the occasional segfault in os x and linux when closing a page</li>
					<li>fixed pattern shortcut buttons</li>
					<li>the 'show deleted' checkbox on manage tags dialog makes a return</li>
					<li>neatened several checkboxes so clicking the label text clicks the checkbox</li>
				</ul>
				<li><h3 id="version_104"><a href="#version_104">version 104</a></h3></li>
				<ul>
					<li>first version of export folders is ready</li>
					<li>cleaned up all ok and cancel dialog behaviour</li>
					<li>cleaned up some misc dialog button code</li>
					<li>fixed up some ugly db yaml pubsub stuff</li>
					<li>fixed a juddering 100% CPU loop in the subscriptions code</li>
					<li>subs and repo sync will now put up a popup gauge</li>
					<li>repo sync will now pause mid-update on repository pause</li>
					<li>services->pause->stuff will poke daemons to restart more reliably</li>
					<li>removed the service status area of the statusbar</li>
					<li>fixed 'subscriptions forgetting their tag options' bug</li>
					<li>added select invert, thanks to @fluffy_cub for contribution</li>
					<li>fixed a slight logic bug with display of select archive/inbox</li>
					<li>added better instructions on how to run in OS X from source, thanks to user steenuil for contribution</li>
				</ul>
				<li><h3 id="version_103"><a href="#version_103">version 103</a></h3></li>
				<ul>
					<li>fixed a virtual size issue with expanding collapsible panes inside scrolling windows :S</li>
					<li>fixed images not showing on first zoom switch</li>
					<li>improved touch and feel of image/flash scanbar</li>
					<li>subscriptions dialog is now flattened</li>
					<li>reworked advanced_tag_options to be more efficient and flexible</li>
					<li>fixed a couple bugs in advanced_tag_options</li>
					<li>moved fake http unit tests to a fake version of the new networking system (so much better, now!)</li>
					<li>moved real http unit tests to new networking system (so much better, now!)</li>
					<li>fixed up a last couple network things</li>
					<li>I probably fixed some file upload code, as well</li>
					<li>cleared out old network code</li>
					<li>fixed a fake pubsub problem in unit tests</li>
					<li>made a single new db table for consolidating:</li>
					<ul>
						<li>4chan_pass</li>
						<li>pixiv_account</li>
						<li>boorus</li>
						<li>favourite_custom_filter_actions</li>
						<li>gui_sessions</li>
						<li>imageboard_sites</li>
						<li>imageboards</li>
						<li>import_folders</li>
						<li>subscriptions</li>
					</ul>
					<li>couple small help edits</li>
					<li>fixed view->new booru download page</li>
					<li>started export folders</li>
				</ul>
				<li><h3 id="version_102"><a href="#version_102">version 102</a></h3></li>
				<ul>
					<li>initial linux release</li>
					<li>rewrote running_from_source.html</li>
					<li>altered some service object and db stuff to look after null access keys and temp services a bit better</li>
					<li>key registration works on new network system</li>
					<li>all downloaders use new network system</li>
					<li>A/C timer tweaked a little more</li>
					<li>did some timer event grammar improvements</li>
					<li>improved button behaviour in import files dialog</li>
					<li>backing up a server no longer causes a timeout problem</li>
					<li>prototype export/import tag metadata is done</li>
					<li>rewrote the way animated gif frames are navigated and thrown to screen</li>
					<li>fixed an issue that was causing some dialogs to OK when escape was pressed or the close cross was clicked</li>
					<li>this above issue included the enter system predicate dialog</li>
				</ul>
				<li><h3 id="version_101"><a href="#version_101">version 101</a></h3></li>
				<ul>
					<li>fixed another update problem for clients &lt;v95</li>
					<li>uploading pending content should be less gui-blocking</li>
					<li>fixed numpad navigation of page chooser to work for qwerty rather than dvorak as default</li>
					<li>os x page picker now obeys arrow and numpad keys for navigation</li>
					<li>os x command key should be treated as ctrl now, for better cross-platform compatibility</li>
					<li>a couple more cmd/ctrl confusions cleared up</li>
					<li>os x menubar disappearing after fullscreen problem fixed</li>
					<li>added stateless http connection manager</li>
					<li>simplified how http works in hydrus</li>
					<li>http connections now used more efficiently</li>
					<li>better cookie parsing</li>
					<li>better http application shutdown handling</li>
					<li>some misc http bugs fixed</li>
					<li>new http error handling should limit occasional spam-errors</li>
					<li>moved all hydrus http connections to new manager</li>
					<li>moved many non-hydrus http connections to new manager</li>
				</ul>
				<li><h3 id="version_100"><a href="#version_100">version 100</a></h3></li>
				<ul>
					<li>MVC import_controller system created</li>
					<li>download gauges lag reduced</li>
					<li>download cancel button desync bug fixed</li>
					<li>download error code harmonised</li>
					<li>download async code pushed to threads</li>
					<li>download job key checking and management improved</li>
					<li>download queue feed timer will obey page-hidden pause status</li>
					<li>download success and exception handling harmonised</li>
					<li>download on-close thread-signalling much improved</li>
					<li>download pages now take responsibility for download code factories</li>
					<li>download management panel code harmonised</li>
					<li>download management panels made much more MVC</li>
					<li>download error reporting is much improved</li>
					<li>download fail management is much improved</li>
					<li>download button response is much faster</li>
					<li>download progress display is split into the easier to read file/queue/builder trichotomy</li>
					<li>download display indices are less schizophrenic</li>
					<li>lots of misc improvements to download code and nomenclature</li>
					<li>thumbnail page's refresh and select menu items now only appear when appropriate</li>
					<li>thumbnail page's select menu will only show inbox/archive sub-items when appropriate</li>
					<li>thumbnail page's menu is less buggy generally</li>
					<li>db updates are now parcelised into each version, rather than one big job</li>
					<li>improved db version update notification</li>
					<li>a problem with updates from ~v70 to >v95 is fixed</li>
					<li>fixed a bug in popup message dismissal</li>
					<li>database exception formatting improved</li>
					<li>database exception display spam reduced</li>
					<li>database exception redundant traceback removed</li>
					<li>autocomplete character-search-delay time extended from 150ms to 250ms</li>
					<li>async wx window destroy code improved in certain places</li>
					<li>improved non-wx-thread popup error reporting</li>
					<li>some other bugfix, grammar and nomenclature stuff I can't remember</li>
				</ul>
				<li><h3 id="version_99"><a href="#version_99">version 99</a></h3></li>
				<ul>
					<li>added backup database menu option</li>
					<li>added restore database menu option</li>
					<li>gone back to wx 2.9.5 for now</li>
					<li>fullscreen scrolling should be a bit smoother now</li>
					<li>fixed sessions for 'open selection in new window'</li>
					<li>new regex shortcut for filename in the 'add tags before importing' dialog</li>
					<li>fixed dialogs cancel-closing on an unfocused 'enter'</li>
					<li>finally fixed the animation scanbar vertical sizing on preview screen</li>
					<li>animation scanbar now shows gif frame rendering progress more smoothly</li>
					<li>test.exe now included in windows release</li>
					<li>some frame parents code cleanup</li>
					<li>a tiny bit of gif code cleanup</li>
					<li>deleted some old server code</li>
					<li>cleaned up import pause/cancel code</li>
					<li>improved hydrus's thread-communication objects</li>
					<li>cleaned up downloader code and logic and gui display</li>
				</ul>
				<li><h3 id="version_98"><a href="#version_98">version 98</a></h3></li>
				<ul>
					<li>update to wxpython 3.0</li>
					<li>you can now add tags when importing from a zip</li>
					<li>you can now download arbitrary urls from download->a raw url</li>
					<li>'select files to import' dialog has massively improved file parsing, with:</li>
					<ul>
						<li>new gauge location</li>
						<li>queueable parse jobs</li>
						<li>paths that stream as they are parsed</li>
						<li>pause/cancel buttons</li>
					</ul>
					<li>new 'check credentials' button in manage services dialog</li>
					<li>new access_key_verification server request</li>
					<li>fixed a very important bug that affected normal tags when adding parents or siblings</li>
					<li>fixed a bug where old pending parents would not be remembered when new same-child parents were later pended</li>
					<li>fixed a similar bug where rescinding parent pends would screw things up</li>
					<li>pending counts will new correctly update on a sibling or parent pend rescind</li>
					<li>parent tags no longer (incorrectly) remove when:</li>
					<ul>
						<li>removing 'just this file' child tags in 'add tags before importing' dialog</li>
						<li>removing child tags in custom filter</li>
					</ul>
					<li>some youtube videos were not downloading due to a redirect issue. it is improved, possibly fixed completely</li>
					<li>collapsible panes, like 'advanced import options', will refit dialogs on collapse/expand</li>
					<li>fixed an bug in the way certain server errors were handled</li>
					<li>fixed a serverside bug for GET account when using account_id as identifier</li>
					<li>fixed 'modify petitioner' button in petition pages</li>
					<li>fixed a bug that was preventing clearing of temp path on client startup</li>
					<li>cleaned up some credentials code</li>
					<li>some general code grammar improvement</li>
					<li>reworded some help</li>
					<li>reworked account identifiers</li>
					<li>os x</li>
					<ul>
						<li>now has an app icon, woop</li>
						<li>os x page closing logic improved</li>
						<li>collections checkbox dropdown seems to work, now</li>
						<li>fixed segfault on popup message close</li>
						<li>thumbs loading from initial session seems to draw properly, sometimes</li>
						<li>fullscreen no longer causes segfault whenever you zoom or scroll</li>
					</ul>
				</ul>
				<li><h3 id="version_97"><a href="#version_97">version 97</a></h3></li>
				<ul>
					<li>initial os x test build</li>
					<li>collect typo fixed</li>
					<li>'remove all mappings with specific namespace' added to advanced content update dialog</li>
				</ul>
				<li><h3 id="version_96"><a href="#version_96">version 96</a></h3></li>
				<ul>
					<li>went over _all_ my help (about 200KB of text!), cutting down waffly paragraphs, rewritting bits that were stiff or unclear, updating screenshots, and adding several new sections people suggested</li>
					<li>did a complete rewrite of how the client stores services in its database, streamlining everything</li>
					<li>several bugs exposed by the services rewrite fixed</li>
					<li>several moments of weirdness exposed by the services rewrite made more sane</li>
					<li>new version of sqlite (3.8.2)</li>
					<li>new version of python (2.7.6)</li>
					<li>cleaned up a debug print statement that was spamming gauge numbers to the log</li>
					<li>when loaded from a session, hdd import pages will now hide their processing panel</li>
					<li>fixed namespace sorting to manage numbers again</li>
					<li>collapsed the many different download gallery page classes to a single one</li>
					<li>started an important rewrite of how downloaders are going to work in future</li>
					<li>improved testing framework's pubsub testing support</li>
					<li>subs sync daemon now restarts correctly after a dialog-driven pause</li>
					<li>parents now obey siblings!</li>
					<li>siblings and parents are updated on forget pending</li>
					<li>got AMP message between persistent and temporary peers working</li>
				</ul>
				<li><h3 id="version_95"><a href="#version_95">version 95</a></h3></li>
				<ul>
					<li>pages launched from a session will no longer run their query on startup; they will remember their thumbnails</li>
					<li>import pages added to gui sessions, although they do not yet remember their progress</li>
					<li>the way session pages are started is improved</li>
					<li>advanced content update dialog simplified and rearranged</li>
					<li>advanced content update db code written for copy operation</li>
					<li>advanced content update db code written for delete operation (local service only)</li>
					<li>advanced content update db code written for delete deleted operation ( local service only)</li>
					<li>made first version of IMMessage objects</li>
					<li>added network version checking to hydrus's AMP</li>
					<li>better AMP error catching and reporting added</li>
					<li>AMP tests moved further forward</li>
					<li>tightened up AMP network code, fixed last bugs</li>
					<li>cleaned up a huge pile of 'expiry/expires/expiration' semantic mess</li>
					<li>same for some mapping_ids/mappings_ids stuff</li>
					<li>removed predicate knowledge from media display classes, which was just a mess, really</li>
					<li>corrected a weird param order in sessions</li>
					<li>general code cleanup</li>
					<li>several old instances of tuple-list yaml compromise removed</li>
					<li>fixed a session bug in the testing code because of last week's manager management change</li>
					<li>fixed a hydrus session bug for accounts with no expiry</li>
					<li>fixed a very important server-side network version checking bug</li>
					<li>added client-side network version checking</li>
				</ul>
				<li><h3 id="version_94"><a href="#version_94">version 94</a></h3></li>
				<ul>
					<li>reorganised the 'add tags from path' dialogs so the regex buttons made a little more sense</li>
					<li>when deleting a file, the current focus will pre-defocus</li>
					<li>'confirm close client' dialog will now auto-yes after 15 seconds</li>
					<li>fixed a bug when POST hydrus queries couldn't return any data</li>
					<li>'failed to update repository' message made simpler</li>
					<li>added tuples to pyyaml's safe_loader (which was more of a pain than I expected)</li>
					<li>manager management improved, with changes reflected across all the code</li>
					<li>session management prototype is done</li>
					<li>query pages can be added to sessions</li>
					<li>default startup session can be set in options</li>
					<li>sessions are managed with new submenu under file</li>
					<li>creating registration keys will show them in a new, more helpful frame</li>
					<li>same for initialising a server</li>
					<li>and for auto server setup</li>
					<li>auto server setup has cleaner error reporting</li>
					<li>new service admin accounts now have different access keys to the server admin account</li>
					<li>fixed up testing framework to test AMP a bit better</li>
					<li>IM session manager written</li>
					<li>server db support for new session manager added</li>
				</ul>
				<li><h3 id="version_93"><a href="#version_93">version 93</a></h3></li>
				<ul>
					<li>can now undo/redo all tag operations except rescind petition</li>
					<li>can now undo/redo file pending, rescind pending and petition</li>
					<li>improved undo/redo description generation</li>
					<li>fixed a bug that was showing extraneous undo/redo actions that did nothing</li>
					<li>review services frame's permissions strings will size a little better</li>
					<li>new 'perform a service-wide update' button on review services frame</li>
					<li>started tag-specific dialog for this new button, and began db code that'll execute its stuff</li>
					<li>a little code reorganisation</li>
					<li>fixed a bug in the export dialog that was throwing errors when trying to overwrite read-only files</li>
					<li>moved a number of old dialog error messages to the new verbose popup system</li>
					<li>when accounts are made stale (as part of client version update), they will no longer lose their privileges</li>
					<li>fixed the log page to deal with (ignore) gauge messages</li>
					<li>fixed a db problem in my testing framework</li>
					<li>AMP IM support moved way forward</li>
					<li>IM manager first draft done</li>
				</ul>
				<li><h3 id="version_92"><a href="#version_92">version 92</a></h3></li>
				<ul>
					<li>encrypted instant messaging framework started</li>
					<li>encrypted instant messaging test added</li>
					<li>encrypted instant messaging trust framework started</li>
					<li>started an AMP framework for encrypted instant messaging</li>
					<li>tag A/C exact match parameter added</li>
					<li>tag A/C exact match parameter test added</li>
					<li>tag A/C logic reorganised and improved</li>
					<li>tag A/C now gives exact matches for queries shorter than the A/C threshold</li>
					<li>tag A/C threshold default set to 2</li>
					<li>fixed an important architectural bug in pubsub</li>
					<li>generally cleaned up pubsub code</li>
					<li>'popup messages sometimes not updating' problem is fixed</li>
					<li>a bit of initialisation cleanup to make startup behaviour more reliable</li>
				</ul>
				<li><h3 id="version_91"><a href="#version_91">version 91</a></h3></li>
				<ul>
					<li>improved how accounts are identified in the server</li>
					<li>rewrote how serverside session data is managed</li>
					<li>added monthly data reset to session data</li>
					<li>fixed session update on account modification</li>
					<li>fixed a bug in accountidentifier generation from accounts</li>
					<li>fixed a bug in account-multi-session tracking</li>
					<li>server session manager unit test added</li>
					<li>reworked testing to take arguments to only run specific tests</li>
					<li>changed all file downloads to be more memory efficient, either by gui or subscription</li>
					<li>made download testing fail better</li>
					<li>added deviant art unit test</li>
					<li>fixed deviant art thumb parsing error</li>
					<li>fixed deviant art fullsize image parsing error</li>
					<li>undo system reworked in prep for first prototype</li>
					<li>undo/redo keyboard shortcuts (ctrl-z and -y) infrastructure added and db updated</li>
					<li>undo works for fullscreen</li>
					<li>a bunch of fullscreen keypress processing improved</li>
					<li>undo manager testing added</li>
					<li>added upnp option to all services</li>
					<li>added upnp daemon to maintain upnp serverside</li>
					<li>'copy all tags' and 'copy all tags with counts' added to tagslists</li>
					<li>rejiggered a bit of the app startup, including db password check</li>
					<li>found a better error noise</li>
					<li>in fullscreen, the mouse cursor will no longer auto-hide when over an animation scanbar</li>
				</ul>
				<li><h3 id="version_90"><a href="#version_90">version 90</a></h3></li>
				<ul>
					<li>client db unit tests added:</li>
					<ul>
						<li>4chan_pass</li>
						<li>autocomplete_tags</li>
						<li>booru and boorus</li>
						<li>downloads</li>
						<li>favourite_custom_filter_actions</li>
						<li>imageboard</li>
						<li>import_folders</li>
						<li>md5_status</li>
						<li>media_results</li>
						<li>namespace_blacklists</li>
						<li>news</li>
						<li>pixiv_account</li>
						<li>improved services</li>
						<li>sessions</li>
						<li>shutdown_timestamps</li>
					</ul>
					<li>fixed modify account</li>
					<li>fixed modify account again!</li>
					<li>made account_info respond a lot faster with large tag counts</li>
					<li>neatened some client db code</li>
					<li>youtube 'file already deleted' error now reported correctly</li>
					<li>youtube general error reporting improved</li>
					<li>fixed multiple-computer-single-account data use reporting</li>
					<li>moved file parsing from nested dialogs to a single popup message gauge</li>
					<li>fixed an export folder path-display issue when an install moves location</li>
					<li>improved how some file downloaders process their files</li>
					<li>added prototype file download status bars to all download management panels</li>
					<li>fixed a bunch of tests that were cleaning up inelegantly</li>
				</ul>
				<li><h3 id="version_89"><a href="#version_89">version 89</a></h3></li>
				<ul>
					<li>fixed blacklist manager for numtags</li>
					<li>fixed a sql typo for numtags</li>
					<li>delete from fullscreen menu fixed</li>
					<li>fixed a unicode error-handling issue</li>
					<li>sped up autocomplete tag fetch for large result sets</li>
					<li>improved the way autocomplete dropdown scrolls</li>
					<li>vastly improved efficiency of how all listboxes draw</li>
					<li>the server will no longer start if something is using the server admin port</li>
					<li><i>i.e. you can no longer run multiple copies of the same server by accident</i></li>
					<li>improved client and server port change (service shutdown and restart)</li>
					<li>improved testing framework to handle fake db reads better</li>
					<li>improved testing framework to manage client and server sessions</li>
					<li>several network request unit tests added:</li>
					<ul>
						<li>access_key</li>
						<li>account</li>
						<li>account_info</li>
						<li>account_types GET</li>
						<li>account_types POST</li>
						<li>file_repo file</li>
						<li>file_repo thumbnail</li>
						<li>init</li>
						<li>ip</li>
						<li>news</li>
						<li>petition</li>
						<li>registration_keys</li>
						<li>services GET</li>
						<li>services POST</li>
						<li>session_key</li>
						<li>stats</li>
						<li>update GET</li>
						<li>update POST</li>
					</ul>
					<li>fixed clientside permissions exception</li>
					<li>several db unit tests added:</li>
					<ul>
						<li>import_file</li>
						<li>system_predicates:</li>
						<ul>
							<li>age</li>
							<li>archive</li>
							<li>duration</li>
							<li>everything</li>
							<li>file_service</li>
							<li>hash</li>
							<li>height</li>
							<li>inbox</li>
							<li>local</li>
							<li>mime</li>
							<li>not_local</li>
							<li>num_tags</li>
							<li>num_words</li>
							<li>ratio</li>
							<li>similar_to</li>
							<li>size</li>
							<li>width</li>
							<li>limit</li>
						</ul>
					</ul>
					<li>fixed a bug in system:age?</li>
					<li>fixed a bug in system:duration&lt;0</li>
					<li>fixed a bug in system:duration?0</li>
					<li>improved num_tags logic</li>
					<li>fixed system:num_tags&lt;1</li>
					<li>fixed system:num_tags&gt;1</li>
					<li>fixed a hash filter bug for system:similar_to</li>
					<li>fixed system:similar_to for unknown hashes</li>
					<li>fixed system:size Bytes</li>
					<li>updated linux.html and running_from_source.html in help</li>
				</ul>
				<li><h3 id="version_88"><a href="#version_88">version 88</a></h3></li>
				<ul>
					<li>moved server daemon start to a better place</li>
					<li>cleaned up more server db code</li>
					<li>fixed getnumpetitions</li>
					<li>fixed getpetition</li>
					<li>reworked modifyservices and fixed server request</li>
					<li>reworked modifyservices dialog to work with new system</li>
					<li>server service options now managed from modifyservices dialog; old options dialogs deleted</li>
					<li>auto-repository setup restored and fixed</li>
					<li>harmonised edit_log actions all across the code</li>
					<li>added namespace blacklist manager</li>
					<li>added namespace blacklist dialog</li>
					<li>integrated namespace blacklist into:</li>
					<li><ul>
						<li>search by tag</li>
						<li>search by tag count</li>
						<li>creating media results (thumbnails)</li>
						<li>autocomplete tags read</li>
						<li>autocomplete tags write</li>
					</ul></li>
					<li>fixed a problem with deleted tags not being applied correctly on initial thumbnail display</li>
					<li>started a server unit testing framework</li>
					<li>added 'running in linux' info to help</li>
				</ul>
				<li><h3 id="version_87"><a href="#version_87">version 87</a></h3></li>
				<ul>
					<li>misc:</li>
					<li><ul>
						<li>fixed system:untagged, which was doing numtags>0 by accident</li>
					</ul></li>
					<li>basics:</li>
					<li><ul>
						<li>moved client local service to twisted</li>
						<li>moved server to twisted</li>
						<li>cleaned up a whole lot of unrelated server stuff I haven't touched in a while</li>
						<li>fixed some misc typos</li>
					</ul></li>
					<li>details:</li>
					<li><ul>
						<li>built twisted server framework to plug into hydrus</li>
						<li>changed hydrus authorisation header</li>
						<li>changed sessions to manage accounts, reducing server db load</li>
						<li>reworked session cookie to be neater</li>
						<li>cleaned up a bunch of server code</li>
						<li>fixed how certain server errors were being printed to the log</li>
						<li>reworked response_context to a body/path dichotomy to reduce cpu+memory on file requests</li>
						<li>collapsed a bunch of GET POST requests to the same path</li>
						<li>reworked server_service_identifiers to be port-independant</li>
						<li>improved data use logging to support new session management system</li>
						<li>moved session management to new system</li>
						<li>moved error management to new system</li>
						<li>integrated twisted thread into hydrus controller</li>
						<li>reworked root and favicon</li>
						<li>reworked local file and thumbnail requests</li>
						<li>reworked restricted service requests</li>
						<li>reworked admin service requests</li>
						<li>reworked repository service requests</li>
						<li>removed manage options query; it'll be rolled into manage services admin queries</li>
						<li>updated serverdb to manage with new system, harmonising internal and external requests to one workflow</li>
						<li>made server-side data use tracking simpler</li>
						<li>added Content-Type header to most requests</li>
						<li>improved how key registration, init, and account GET requests are handled client-side</li>
						<li>harmonised how account_keys are created server-side</li>
						<li>moved server management from serverdb to servercontroller, with better pubsub restart</li>
						<li>moved several useful functions to the new serverconstants.py</li>
						<li>fixed a max_age sessions issue</li>
					</ul></li>
				</ul>
				<li><h3 id="version_86"><a href="#version_86">version 86</a></h3></li>
				<ul>
					<li>timeout on connections improved</li>
					<li>rewrote the objects behind the dumper</li>
					<li>the dumper should now select media properly again</li>
					<li>closed pages now timeout after an hour</li>
					<li>upgraded to new version of sqlite</li>
					<li>fixed client port bind detection and error reporting</li>
					<li>you can set the client's local server's port in client options</li>
					<li>local server port changes will happen when dialog changes</li>
					<li>unified the upload and youtube download popup messages into one popup</li>
					<li>fixed changing thumbnail size (stupid typo!)</li>
					<li>added 'database->regenerate all thumbnails' to fix certain thumbnail errors</li>
					<li>add a popup gauge for regen all thumbnails</li>
					<li>fixed yesno dialogs, which were showing a neutral 'Cancel' button rather than a red 'no'</li>
					<li>the upnp dialog's buttons now work, have fun with it!</li>
				</ul>
				<li><h3 id="version_85"><a href="#version_85">version 85</a></h3></li>
				<ul>
					<li>updated to new version of wxpython</li>
					<li>several key_down events moved to char_hook</li>
					<li>rewrote collapsiblepane class to remove weird refit and scroll behaviour</li>
					<li>a problem with adding service via a registration key is fixed</li>
					<li>tag upload pending is granulated into separate queries, to reduce server and client lag</li>
					<li>uploads moved to an asynchronous popup message with a gauge, rather than the modal progressdialog</li>
					<li>reorganised file upload content_updates to be a bit smoother</li>
					<li>fixed a redirection bug that wasn't obeying schema changes such as http->https</li>
					<li>updated e621 url to https schema</li>
				</ul>
				<li><h3 id="version_84"><a href="#version_84">version 84</a></h3></li>
				<ul>
					<li>switch fullscreen button added to fullscreen canvases</li>
					<li>messaging stuff is disabled for now</li>
					<li>gif scanbars now fill up as the frames render</li>
					<li>pngs with transparency are no longer drawn with black background after first viewing</li>
					<li>made a small change to listbooks to correct some gui-weirdness, particularly in local options</li>
					<li>autocomplete dropdown windows will now hide-and-reposition on parent scroll events</li>
					<li>autocomplete hide-and-reposition waits 250ms rather than 100ms, making it a little less flickery</li>
					<li>a graphical bug related to hitting end on a large search is fixed</li>
					<li>upnp framework started</li>
					<li>services->manage local upnp started</li>
					<li>new messagegauge added</li>
					<li>fixed mp4 import</li>
					<li>youtube url->formats added</li>
					<li>youtube format chooser dialog added</li>
					<li>youtube downloader thread added</li>
					<li>youtube gauge popup added</li>
					<li>youtube error handling improved</li>
					<li>youtube num_bytes_done added</li>
					<li>youtube unknown total_num_bytes handled</li>
					<li>youtube cancel button added</li>
					<li>youtube right click dismiss throws up a yes/no dialog to decide whether to cancel the download</li>
					<li>started manage upnp dialog</li>
					<li>closed page undo added</li>
					<li>closed pages will be paused and quiet</li>
					<li>pause import folders option added</li>
					<li>fixed an invalid index drawing bug after removing certain media</li>
					<li>thumbnail waterfall improved</li>
					<li>tags are limited to 1024 characters</li>
				</ul>
				<li><h3 id="version_83"><a href="#version_83">version 83</a></h3></li>
				<ul>
					<li>sort by longest fixed for files with no duration</li>
					<li>reverse sort by rating fixed for files with no rating</li>
					<li>sort by largest, newest fixed for files with unknown size or timestamp</li>
					<li>sort by unknown/absent values sorts more accurately</li>
					<li>search by num_tags and min_num_tags fixed</li>
					<li>remove media thumbnail update bug fixed</li>
					<li>currently viewable indices screwed up after a remove media bug fixed</li>
					<li>remove all media entire black screen bug fixed</li>
					<li>delete media redraw optimised</li>
					<li>several message print unicode/raw byte errors fixed</li>
					<li>scrollbar position calculation improved, so 'black rectangle on scrolled thumbnail canvas when num_cols changed after resize' bug should be fixed</li>
					<li>'tiny black lines on small slider drag' bug fixed</li>
					<li>moved a bunch of right_up events to right_down, see what you think</li>
					<li>popup message cleanup is better on shutdown</li>
					<li>pubsub typeerrors handled more gracefully</li>
					<li>improved how options init and update works</li>
					<li>client will now remember the restored size, restored position, maximised state, and screen the gui was last left at</li>
					<li>client will remember all the same details for fullscreen, separately</li>
					<li>these sizes _should_ rescue from offscreen if you disconnect/reposition a non-primary display</li>
					<li>shift+home/end now scrolls and selects, rather than only buggily scrolling</li>
					<li>I fixed a content_update bug re petitions</li>
					<li>'show in new page' pages will no longer show search subbox</li>
					<li>added hentai foundry tests</li>
					<li>fixed hentai foundry title and creator tag parsing in certain cases</li>
					<li>fixed some related html unicode issues</li>
					<li>initial value on tag siblings dialog fixed</li>
					<li>tag siblings and parent dialogs now start sorted by the right column (parent/older sibling)</li>
					<li>setting a default collect will no longer cause a nasty crash!</li>
					<li>setting an orphaned default collect will no longer cause problems</li>
					<li>deselect thumbnails has improved focussed media management</li>
					<li>can now select inbox or archive from right click menu</li>
				</ul>
				<li><h3 id="version_82"><a href="#version_82">version 82</a></h3></li>
				<ul>
					<li>a bug where slow search results would sometimes appear after search predicates were removed has been fixed</li>
					<li>a lot of autocomplete gui- and db-blocking reorganisation</li>
					<li>searches are now entirely asynchronous to gui thread</li>
					<li>searches are split into two granular phases, and are cancellable during processing</li>
					<li>simplified system predicate storage</li>
					<li>consolidated all system predicate filtering to initial db search</li>
					<li>huge improvements to how the thumbnail canvas is sized and extended and drawn to</li>
					<li>numerous fixes and improvements to how thumbnails are drawn to screen</li>
					<li>reworked how collect works</li>
					<li>and sort</li>
					<li>the raw cpu time behind sorting in muuuuuuuch faster</li>
					<li>clarified my listening media class</li>
					<li>added another optimisation to canvas resizing</li>
					<li>big improvement to canvas redrawing and refreshing</li>
					<li>important fix in how client figured out what to draw when clicking in whitespace</li>
					<li>thumbnail fade is much smoother</li>
					<li>thumbnails should now generally draw a little smoother</li>
					<li>selectall and selectnone's thumbnail fade is less cpu intensive</li>
					<li>cleared up a number of collect related selection and index bugs</li>
					<li>fixed a media identifier issue</li>
					<li>all import-related append and drawing is muuuuch faster</li>
					<li>flicker bug on small appends fixed</li>
					<li>fixed a page up/down drawing bug on the main thumbnail canvas view</li>
					<li>fixed an unknown-timestamp thumbnail right click issue</li>
					<li>made my internal media data storage system a lot simpler</li>
					<li>new sortedlist class to make some media stuff easier to manage</li>
					<li>reworked how new media is added to a page of thumbs (usually import-append, but the new system supports collect- and sort-sympathetic insertion):</li>
					<li>-calculating combined tags on the left can be up to ten times faster</li>
					<li>-integrating new files into the sort is much quicker</li>
					<li>-integrating new files into the collect is much quicker</li>
					<li>-improved how new thumbnails are decided to be drawn</li>
					<li>trying to archive or inbox more than one file, you'll get a yes/no dialog to confirm</li>
					<li>started db testing framework</li>
					<li>db tracebacks improved</li>
					<li>slimmed down content_update data-side processing</li>
					<li>a couple small code fixes</li>
					<li>archive and inbox no longer remove from the search if the opposite system predicate is set</li>
					<li>system:rating fixed</li>
					<li>fixed a bug where you could middle-click-download files that had no known source</li>
					<li>couple of bugs with system:ratio fixed</li>
					<li>system:ratio string representation is 16:9, rather than 1.777779</li>
					<li>gui thread is more intelligent in telling non-gui threads that it is busy</li>
				</ul>
				<li><h3 id="version_81"><a href="#version_81">version 81</a></h3></li>
				<ul>
					<li>mp4 added</li>
					<li>mp4 mime search added</li>
					<li>wma added</li>
					<li>wma mime search added</li>
					<li>wmv added</li>
					<li>wmv mime search added</li>
					<li>changed to video and audio icons, rather than one for each mime</li>
					<li>popup messages now dismiss on RIGHT_UP rather than RIGHT_DOWN</li>
					<li>moved many more messagebox errors to the new popup error system</li>
					<li>cleaned up clientgui's superfluous error handling</li>
					<li>rewrote error redirection to new popup system</li>
					<li>more error overhaul</li>
					<li>print statements overhaul</li>
					<li>better db updated statement, through popup system</li>
					<li>traceback show/hide button added to new popup error box</li>
					<li>copy button added to new popup error box</li>
					<li>added a 'x more messages/dismiss all' popup when there are more than ten messages to display</li>
					<li>review services refresh account button will disable until the server replies</li>
					<li>file system predicate dialogs have better initial focus</li>
					<li>streamlined server file import and improved respective data usage calc</li>
					<li>made internal options storage a lot more efficient</li>
					<li>cleaned up a little cache code</li>
					<li>export to zip improved to new file handling system</li>
					<li>upload to repo improved to new file handling system</li>
					<li>some db write priority stuff switched around and renamed</li>
					<li>streamlined a little client db workflow</li>
					<li>neatened client db exception handling</li>
					<li>db updated message is now a popup</li>
					<li>removed some orphaned methods in client db</li>
					<li>client file and thumbnail server requests made a bit faster and neater</li>
					<li>removed db loop from export and dump file fetch</li>
					<li>neatened some client and server file 404 exception paths</li>
					<li>further cleaned up the way file paths are calculated and fetched</li>
					<li>further cleaned db in relation to files, and removed the old mime cache, for both server and client</li>
					<li>removed orphaned db export infrastructure</li>
					<li>add_thumbnails in client made simpler</li>
					<li>improved http response parsing</li>
					<li>refactored a bunch of http response processing</li>
					<li>new exception display system added for caught exceptions</li>
					<li>fixed a shutdown hang on certain delete orphans failure</li>
				</ul>
				<li><h3 id="version_80"><a href="#version_80">version 80</a></h3></li>
				<ul>
					<li>manage tags and ratings dialogs have their initial focus corrected</li>
					<li>custom filter now obeys tag parents for tag actions</li>
					<li>fixed an annoying as hell multiple-page shared-thumbnail visual-selection-status bug</li>
					<li>added e621 test</li>
					<li>fixed e621 tag parsing, including new species namespace</li>
					<li>might have fixed a missing thumbnail error</li>
					<li>fixed system:hash</li>
					<li>fixed some repo file downloading stuff</li>
					<li>fixed some general db fetching file info stuff</li>
					<li>made x files imported from y message a little slimmer</li>
					<li>fixed minsize for the main gui frame</li>
					<li>added better initialsize for the fullscreen frame</li>
					<li>putting a thread url into the thread_id part of the dumper will auto-convert to the thread_id</li>
					<li>added dumper's multipart form data generation test</li>
					<li>added generic multipart form data generation test</li>
					<li>fixed dumper unicode issue</li>
					<li>error reporting in dumper is a little better</li>
					<li>streamlined how mime is calced</li>
					<li>massively improved how mp3, flac and ogg are parsed and validated</li>
					<li>massively improved the internal import files workflow to use less memory and hdd reads and writes, particularly for video</li>
					<li>similarly improved server-side import workflow</li>
					<li>the way temp dir works is improved</li>
					<li>sped up server file/thumbnail fetch</li>
					<li>reworked how thumbnails are fetched in a couple places</li>
					<li>started rework of how options is stored</li>
					<li>wrote mp4 properties parser, but no mp4 just yet</li>
				</ul>
				<li><h3 id="version_79"><a href="#version_79">version 79</a></h3></li>
				<ul>
					<li>popup messages will now report whenever a subscription or import folder successfully imports some files, with a button to show them in a new search</li>
					<li>popup messages now wrap</li>
					<li>slightly better error popup</li>
					<li>many more errors reported through error popup</li>
					<li>old logging system switched over to new messaging system</li>
					<li>popup message manager will only show ten messages at once, now</li>
					<li>selectfromlistofstrings now supports enter key to select</li>
					<li>completely reworked how dialog cancel works; absolutely all dialogs should now close with escape key</li>
					<li>reworked how a bunch of dialogs do ok</li>
					<li>a huge amount of dialog refactoring</li>
					<li>made ok button initial focus of all dialogs</li>
					<li>couple of bugs in service options dialog fixed</li>
					<li>rejiggered some button names and focus behaviour a bit more</li>
					<li>some classname refactoring</li>
					<li>muchly improved string->unicode handling</li>
					<li>improved timestamp generation</li>
					<li>fixed a clientserviceidentifier->text bug</li>
					<li>reworked how namespace cache in tagsmanager object is calculated</li>
					<li>improved instantiation of noneablespinctrls</li>
					<li>fixed a bug in the thumbnails download daemon</li>
					<li>changed the way daemons wait for the db, much to the better</li>
					<li>moved daemons out of the db object</li>
					<li>rejiggered writedaemon synchrony so exceptions work</li>
					<li>fiddled around with some help links</li>
					<li>default, non-maximised size of client is a little more comfortable</li>
					<li>custom filter now has a popup that'll let you change the custom actions mid-filter</li>
					<li>server now uses new synchronous logging system</li>
					<li>fixed an options save bug for server</li>
					<li>updated server diagram in help</li>
					<li>added test for dialog selectfromlistofstrings</li>
					<li>added test for dialogyesno</li>
					<li>made a framework for testing that requires network stuff</li>
					<li>made a newgrounds test</li>
					<li>fixed newgrounds swf parsing</li>
					<li>made a framework for testing that requires file reads and writes</li>
					<li>fixed a graceful-exception bug in mime parsing</li>
					<li>added test for synchronous import_folders</li>
					<li>added test for delete import_folders</li>
					<li>wrote a test for importfolders daemon</li>
					<li>import folders no longer delete or reattempt failed imports; they'll just ignore them</li>
					<li>import folders are deleted on update, since old objects are obselete</li>
					<li>import folders won't try to do zips any more; they'll just ignore them</li>
					<li>rejiggered how import folders does its path parsing to remove mime calc cpu usage</li>
				</ul>
				<li><h3 id="version_78"><a href="#version_78">version 78</a></h3></li>
				<ul>
					<li>expanded parents testing with a namespace example</li>
					<li>made getgstvcp in tags manager only return numbers for vcp</li>
					<li>refactored ManageDialogs to their own file</li>
					<li>refactored Exceptions to their own file</li>
					<li>improved my testing framework so it can do wx gui elements</li>
					<li>added test for dialogchoosenewservicemethod, fixed a typo</li>
					<li>added test for dialogfinishfiltering</li>
					<li>added test for dialogfinishratingfiltering</li>
					<li>those two finish filter dialogs are a little simpler, now</li>
					<li>set up a system so dialogs are a bit simpler, in terms of button event processing</li>
					<li>added test for dialogfirststart</li>
					<li>added 'add parent to tag' on tag right click menu</li>
					<li>added 'add sibling to tag' on tag right click menu</li>
					<li>made manage parents/siblings dialog focus selection more intelligent</li>
					<li>'audio - any' mime search fixed</li>
					<li>reworked audio embed container significantly</li>
					<li>added embed button</li>
					<li>all noisy mimes are now protected by embed button</li>
					<li>you can now rescind pending file uploads or petitions from thumbnail right click menu</li>
					<li>fixed a redundant bit of code in process content updates</li>
					<li>in modify account dialog, set account expiry to 'does not expire' fixed</li>
					<li>logging now happens a little more synchronously for client</li>
					<li>popup messages prototype done</li>
					<li>popup message for normal text</li>
					<li>popup message for some errors</li>
					<li>fixed a small redundancy bug in data cache</li>
					<li>fixed a localisation bug when converting numbers (1234) to formatted version (1,234, 1.234, 1 234)</li>
					<li>improved the code behind 'open selection in new page' in two ways</li>
				</ul>
				<li><h3 id="version_77"><a href="#version_77">version 77</a></h3></li>
				<ul>
					<li>tag parents manager unit tests done</li>
					<li>completely rewrote parents pair generation</li>
					<li>rewrote parents pair retrieval to be much faster</li>
					<li>parents manager is much more resistant to loops</li>
					<li>in two ways!</li>
					<li>loop detection fixed in manage parents dialog, as well</li>
					<li>fixed how deleted parents are applied to combined service identifier</li>
					<li>fixed how deleted parents are applied to specific service identifier</li>
					<li>tag manager unit tests done, and everything was working ok!</li>
					<li>shuffled objects around a bit, unified some tag code</li>
					<li>tag manager merge unit tests done, and everything was working ok!</li>
					<li>tag manager merge code simplified and result rewritten to a new, simpler class</li>
					<li>small bug in how preview canvas fetches tags fixed</li>
					<li>finished off import folders daemon</li>
					<li>added import folders gui</li>
					<li>added flac support</li>
					<li>added ogg support</li>
					<li>added a secondary layer of mime detection for greater accuracy</li>
					<li>added a tertiary layer of mime detection for greater mp3 accuracy!</li>
					<li>fixed an offset bug in mime detection</li>
					<li>simplified and unified client/server file info parsing</li>
					<li>import error handling improved</li>
					<li>neatened how special thumbs are stored, refreshed, and retrieved</li>
					<li>neatened how the bmp->png conversion happens</li>
					<li>improved hash->mime caching for both client and server, to speed up http retrieval time for the new filetypes</li>
					<li>better mime fetch in dumper, too</li>
					<li>improved debugging messages for a bunch of my custom objects</li>
				</ul>
				<li><h3 id="version_76"><a href="#version_76">version 76</a></h3></li>
				<ul>
					<li>made unit testing framework</li>
					<li>tag siblings object now tested properly</li>
					<li>hydrusdownloading functions now tested properly</li>
					<li>added simple mp3 support to client, with external launch or embed</li>
					<li>added search by mp3 mime</li>
					<li>added mp3 to server</li>
					<li>higher precedence deleted tag siblings now overrule lower existing pairs</li>
					<li>tag sibling closed loop pairs ( a, a ) are skipped</li>
					<li>neatened predicate sibling matching in two ways</li>
					<li>improved tag autocomplete matching logic</li>
					<li>skip logic improved for like ratings filter</li>
					<li>skip logic improved and button added for numerical ratings filter</li>
					<li>did a little work on reducing memory usage</li>
					<li>reordered data cache's memory purge, which will make huge images load better</li>
					<li>fixed a zoom bug with pdf buttons</li>
					<li>added some select all, select none and refresh to thumbnail right click menus</li>
					<li>reorganised menus a bit anyway</li>
					<li>fullscreen tags on the left are now sibling-collapsed</li>
				</ul>
				<li><h3 id="version_75"><a href="#version_75">version 75</a></h3></li>
				<ul>
					<li>fullscreenpopup window added</li>
					<li>fullscreenpopup window can be dragged about</li>
					<li>fullscreenpopupfilterinbox</li>
					<li>fullscreenpopupfilterlike</li>
					<li>fullscreenpopupfilternumerical</li>
					<li>accuracy slider moved to popup</li>
					<li>compare same image until done added to popup</li>
					<li>keep on left/random/right added to popup</li>
					<li>'don't ratings filter this' added to popup</li>
					<li>that annoying as hell thumbnail selection drawing state bug is fixed</li>
					<li>display of flash with only one frame fixed</li>
					<li>downloaded tags now work again, sorry for the disruption!</li>
					<li>deleted tags will now always show in manage tags dialog</li>
					<li>fixed the various problems that were stopping DELETED->PENDING->CURRENT working for tags</li>
					<li>fixed the children can only have one parent bug</li>
					<li>fixed a deleted tag parents bug</li>
					<li>a little counting logic improved in the special deleted_pending case</li>
					<li>fixed a typo re uploading file to a repo</li>
					<li>main guis statusbar now has a little 'db locked' indicator</li>
				</ul>
				<li><h3 id="version_74"><a href="#version_74">version 74</a></h3></li>
				<ul>
					<li>flash scanbar added</li>
					<li>made new mediacontainer class for media canvas</li>
					<li>extracted scanbar to separate class</li>
					<li>made animation frame tracking and control more sensible overall</li>
					<li>previous_frame/next_frame shortcut now works for flash as well</li>
					<li>fixed age predicate for > hours</li>
					<li>fixed an important 'all known tags' A/C count cache bug when multiple services have the same tags for a file</li>
					<li>if you have resolve_petitions permission for a tag service, tag siblings and parents petitions need no reason</li>
					<li>slight change in how un-namespaced totals are calculated in A/C read</li>
					<li>collection now obeys siblings</li>
					<li>thumbnail upper text now obeys siblings</li>
					<li>fullscreen text now obeys siblings</li>
					<li>bit of siblings code cleanup</li>
					<li>a little changeup to how showselectioninnewpage collects its media</li>
					<li>/asp/, /gd/, /lgbt/, /vr/ and /wsg/ added to default dumper support</li>
					<li>trying out making the server non-daemon, to see how that manages</li>
				</ul>
				<li><h3 id="version_73"><a href="#version_73">version 73</a></h3></li>
				<ul>
					<li>every file operation from fullscreen was broke due to a single-character typo that got propagated</li>
					<li>fixed local ratings, which were broken five different ways</li>
					<li>ditched the deleted_pending concept, which was actually making things more complicated</li>
					<li>possible fix to review services opening on bottom level</li>
					<li>dumper no longer says it is still dumping on page close if it is done dumping</li>
					<li>you can now scroll the dumper's upper comment box</li>
					<li>moved site links over to github</li>
					<li>fixed a typo re downloading a file that is already in the db and adding tags at the same time</li>
					<li>local tags delete fixed</li>
					<li>tag parents now apply globally, like siblings</li>
					<li>thumbnail resizer daemon is less verbose and more helpful on IOErrors</li>
					<li>fixed namespace colours in manage tags dialog</li>
					<li>open selection in a new page now works for single-file selections</li>
					<li>upload tags progress bar misalign fixed</li>
					<li>namespaced counts no longer total up in A/C writes</li>
					<li>manage siblings dialog now catches collisions when you put in the old, not the pair, and asks you what you want to do</li>
					<li>age predicate now supports hours</li>
					<li>while search is not synchronised, A/C will now query db when it might have queried the current media</li>
					<li>think I fixed a sometimes-not-initially-showing-first-frame-of-gifs problem</li>
					<li>downloaders now run parsed tags through siblings and parents managers</li>
					<li>maaaybe fixed a cache counts error</li>
					<li>wrote a little more sibling and parent help, and updated schema</li>
				</ul>
				<li><h3 id="version_72"><a href="#version_72">version 72</a></h3></li>
				<ul>
					<li>remote tag siblings!</li>
					<li>remote tag parents!</li>
					<li>simplified update nomenclature</li>
					<li>streamlined client-to-server update objects and processing</li>
					<li>streamlined server-to-client update objects and processing</li>
					<li>did a bunch of work on content_updates</li>
					<li>did some work on service_updates, too</li>
					<li>improved client-side petition handling</li>
					<li>a bunch of changes to how uploadpending works</li>
					<li>the way pending downloads are stored is improved</li>
					<li>mappings tables are collapsed server-side</li>
					<li>file tables are collapsed server-side</li>
					<li>moved tag siblings and parents to content_updates</li>
					<li>moved file upload/download to content_updates</li>
					<li>reworked tag content_updates to be more streamlined</li>
					<li>addfile/tagrepositoryupdate is made entirely content_updates, now</li>
					<li>simplification in the way deleted content is stored</li>
					<li>repo update processing string is muchly improved</li>
					<li>repo update processing is smoother!</li>
					<li>a slight change to default behind-the-scenes searches</li>
					<li>improved how the server creates updates on service init</li>
					<li>improvements to service_identifiers_to_statuses_to_tags sub-init and related parts of tags_manager</li>
					<li>some misc nomenclature improvements</li>
					<li>fixed a denypetition bug for file repositories</li>
					<li>fixed optimised petition handling in server</li>
					<li>fixed posting tags in dumper</li>
					<li>fixed a problem with getunknownaccount</li>
					<li>server now analyses on vacuum, like client</li>
					<li>fixed a lolbug in thumbnail resizer daemon that was continually resizing thumbs</li>
					<li>fixed a bug in cache counts, which should fix the 'pending menu disappeared' problem</li>
					<li>corrected num_archive count in file repos</li>
					<li>downloading files is simpler and faster; download menu is simpler</li>
					<li>fixed server initialisation</li>
					<li>updated to new sqlite version</li>
				</ul>
				<li><h3 id="version_71"><a href="#version_71">version 71</a></h3></li>
				<ul>
					<li>collapsed the four mappings tables into two tables</li>
					<li>merged the two active_mappings tables into the mappings table</li>
					<li>made a <i>great</i> number of changes to how mappings and active_mappings are stored and processed throughout</li>
					<li>'active' and 'null' nomenclature is now 'combined'; null service_ids are now just ints</li>
					<li>improved deletepending so it isn't so tough on the a/c cache</li>
					<li>tags regex dialog entries 'for all files' and 'just for this file' was all broke</li>
					<li>A/C read now bumps the exact match of the entry to the top of the list, if its count is non-zero</li>
					<li>fixed A/C for weird-character queries, like '['</li>
					<li>the dumper now makes success/error noises as appropriate</li>
					<li>you can turn these noises off in the new sound tab in file->options</li>
					<li>screwed around with garbage collection while checking mimetypes during pre-import</li>
					<li>adding a tag parent will spam-add the actual parent tags to every child instance for the appropriate service</li>
					<li>updated db diagrams</li>
					<li>revised my sibling chain collapsing algorithm</li>
					<li>locked db on init dialog message is improved a little</li>
					<li>system:limit added to combined file service searches</li>
					<li>num pending menu counts now split into with (pending/petitioned)</li>
					<li>corrected a server db index oversight</li>
					<li>newgrounds title tag fixed</li>
				</ul>
				<li><h3 id="version_70"><a href="#version_70">version 70</a></h3></li>
				<ul>
					<li>tag parents db stuff</li>
					<li>tag parents manager</li>
					<li>tag parents predicate and matches indented expansion</li>
					<li><blockquote>and drawing it!</blockquote></li>
					<li>tag parents top result reordering</li>
					<li>tag parents top result insertion</li>
					<li>tag parents actually doing what they do</li>
					<li>polished off tag parent help</li>
					<li>made a full-search table to speed up tag A/C requests</li>
					<li>added tag full-text search</li>
					<li>reworked how tag and file services add and reset, to reduce A/C time</li>
					<li>reworked recalc active mappings to be more beautiful, if not faster</li>
					<li>fade animation timer improved in several ways</li>
					<li>thumbnail fetch made much smoother</li>
					<li>newgrounds artist downloading for games and movies added</li>
					<li>newgrounds subs added</li>
					<li>download panel input now highlights on init</li>
					<li>4chan filename tag added</li>
					<li>the setfocus on filter close is neater</li>
					<li>age phrase is now 'imported [time] ago'</li>
					<li>age is now shown in fullscreen</li>
					<li>can now copy file from fullscreen, from menu or shortcut</li>
					<li>4chan pass authentication improved</li>
					<li>fixed a couple tag service precedence sync bugs</li>
				</ul>
				<li><h3 id="version_69"><a href="#version_69">version 69</a></h3></li>
				<ul>
					<li>first dialog for tag siblings</li>
					<li>tag siblings db table</li>
					<li>tag siblings manager in controller</li>
					<li>tag siblings display in tagsboxcpp</li>
					<li>tag siblings display in tagsboxflat</li>
					<li>tag siblings display in tagsboxmanage</li>
					<li>tag siblings display in tagsboxactiveonly, via A/C dropdowns, for both read and write</li>
					<li>top result sibling switcheroo in A/C write</li>
					<li>A/C db fetch now does siblings too</li>
					<li>db tag search does siblings</li>
					<li>siblings help, with some nice mini-charts</li>
					<li>I fixed collections, which were typo-broke; I'll make sure it doesn't happen again</li>
					<li>more granular subs error handling, meaning individual file failures won't crash an entire sub</li>
					<li>individual subs can now be paused</li>
					<li>e621 fixed for real this time</li>
					<li>A/C improvement that slows tag updates a little but should stop A/C lag after an update</li>
					<li>as a result, trying out dropping the CPU-intensive fatten_ac_cache maintenance call</li>
					<li>A/C read will now update system preds every time you click on it, so inbox/archive counts will stay accurate</li>
					<li>A/C "all known files + tags" will no longer show the mega-laggy total file count</li>
					<li>a list -> tuple convenience fix in sanelistctrl</li>
					<li>if you don't have any pixiv credentials set up, you will now no longer get the option to start downloading pixiv stuff</li>
					<li>fixed a tiny typo in the thumbnail resizer that made it wait far more politely than was intended</li>
					<li>slight change to ratio system pred that fixes some lockups, sometimes, I think</li>
					<li>fullscreen flash and video will get a pixel of whitespace on the right</li>
				</ul>
				<li><h3 id="version_68"><a href="#version_68">version 68</a></h3></li>
				<ul>
					<li>fullscreen view now takes addmediaresult</li>
					<li>export to zip!</li>
					<li>import from zip, with tag regex stuff too!</li>
					<li>export to encrypted zip!</li>
					<li>import from encrypted zip!</li>
					<li>import encryption help in advanced.html</li>
					<li>import process code processes mimes less jankily</li>
					<li>delete after successful import checkbox added</li>
					<li>import regex tags dialog now has # namespace</li>
					<li>import regex tags dialog collects its info a bit more intelligently</li>
					<li>new confirm exit client option</li>
					<li>subs will save their progress every 20 files downloaded, so pause/restart is less punishing</li>
					<li>simplified thumbnail cache retrieval</li>
					<li>some thumbnail waterfall and animation tuning, let me know what you think</li>
					<li>e621 fixed</li>
					<li>danbooru fixed</li>
					<li>reworked booru gallery page num calc, which was completely screwed</li>
					<li>DA fixed for most cases</li>
					<li>booru thumb parsing made a _little_ more permissive</li>
					<li>server now uses the same new file storage system as the client</li>
					<li>download cancel buttons have a little better feel</li>
					<li>new thumbnail prefetch thread makes thumbs load a load faster</li>
					<li>fixed a little rubbish naming semantics in ClientGUI</li>
					<li>reorganised and streamlined much of the encryption code</li>
					<li>updated a bunch of help screenshots</li>
				</ul>
				<li><h3 id="version_67"><a href="#version_67">version 67</a></h3></li>
				<ul>
					<li>subscription db access improved</li>
					<li>subscription 'delete subs seemingly at random' bug fixed</li>
					<li>some nice subs help</li>
					<li>subs and repos, if changed during a pause, will restart with new changes</li>
					<li>subs and repos will automatically pause while their respective dialogs are open</li>
					<li>new namespace | regex listctrl in regex dialog, instead of old sctvcp rubbish</li>
					<li>new /aa/aa...0 file storage system for client</li>
					<li>fixed deleteorphans mime issue</li>
					<li>export and copy files now export writeable files, not read-only</li>
					<li>rejiggered daemon db access, improving maintenance reliablity</li>
					<li>dumper and 'show in new page' pages now process content updates correctly</li>
				</ul>
				<li><h3 id="version_66"><a href="#version_66">version 66</a></h3></li>
				<ul>
					<li>subscriptions done! works for all normal download types</li>
					<li>pause repo sync, pause subs sync</li>
					<li>all download sites moved to the new system</li>
					<li>lots of small changes to how download code works</li>
					<li>pixiv tags is renamed to pixiv tag, since it only does one!</li>
					<li>fixed DA</li>
					<li>fixed DA again!</li>
					<li>fixed DA tag parsing for all the diff types of username re http://help.deviantart.com/106/</li>
					<li>fixed pixiv, somewhat</li>
					<li>fixed giphy</li>
					<li>fixed boorus for gallery_advance_num > 1</li>
					<li>boorus reset in db to default</li>
					<li>fixed copy files</li>
					<li>fixed getmime</li>
					<li>a silly parent assignment for A/C meant they were not closing with pages</li>
					<li>made the cpu burn for the thumbnail resizer a bit more polite on hdd</li>
					<li>repo sync daemon and subs sync daemon combined</li>
					<li>some timing adjustments in sync daemon</li>
					<li>subscription_type constant -> site_download_type</li>
					<li>fixed temp folder being cleared on startup (a read-only issue)</li>
					<li>advancedoptions classes now support setinfo</li>
				</ul>
				<li><h3 id="version_65"><a href="#version_65">version 65</a></h3></li>
				<ul>
					<li>added subscriptions dialog</li>
					<li>added prototype subscription daemon, but not yet activated it</li>
					<li>added downloader classes</li>
					<li>began reorganisation of nearly all download code</li>
					<li>moved parsing around</li>
					<li>moved advancedhttpconnection around</li>
					<li>moved serviceupdate around</li>
					<li>moved some content_update stuff around</li>
					<li>moved some constants around</li>
					<li>files in client_files now have extensions</li>
					<li>files in client_files are now read only</li>
					<li>pdf launch is simplified as a result of this new ext stuff</li>
					<li>fixed find similar images; it was just a typo</li>
					<li>also fixed initial predicates string display</li>
					<li>rejiggered the thumbnail resizer again; due to my stupidity, it was causing lag</li>
					<li>thumbnail resizer burns a little more cpu when there are >10,000 or >100,000 thumbnails to render</li>
					<li>it also now does thumbs in random order, for a couple of good reasons</li>
					<li>upgraded sqlite, hopefully some queries will run faster?</li>
					<li>upgraded to python 2.7.4. please report any weird errors</li>
				</ul>
				<li><h3 id="version_64"><a href="#version_64">version 64</a></h3></li>
				<ul>
					<li>got rid of system:not_uploaded_to - now system:file service, which is a lot more powerful</li>
					<li>some display changes to system predicates to make them a bit more human-readable</li>
					<li>added export dialog</li>
					<li>made a couple small changes to help about the export dialog</li>
					<li>collect by rating</li>
					<li>sort by rating now works for collections, using an estimate (only accurate when also collecting by that rating)</li>
					<li>built a custom radiobox class and added it to ratings dialog so it has radio buttons again</li>
					<li>new ratings filter for local_ratings_like services. works just like normal inbox filter</li>
					<li>added a little info in help about this new filter</li>
					<li>new session manager for pixiv and hentai foundry, reducing number of session inits the client has to do</li>
					<li>new init welcoming window for first boot</li>
					<li>new politer error message for when db is locked on boot</li>
					<li>shift+arrow keys now pan in fullscreen mode. you can change them in options as normal, if you like</li>
					<li>resize thumbnails daemon is now part of maintenance thread stuff. hopefully less blocking now</li>
					<li>inbox pages will remove media when you archive stuff, again. this is just a bit I forgot to update from last week's predicate overhaul</li>
					<li>fixed and changed the way hitting the change tag service button works</li>
					<li>I fixed previews and fullscreen cache estimate in local options too!</li>
					<li>fixed giphy so it works with their new api</li>
					<li>rejiggered the update notification order to be a bit more accurate</li>
					<li>updated auto-setup code and help to use new no-ip domain rather than old raw ip</li>
					<li>v64 will also update the old ip to the new no-ip domain automatically</li>
					<li>bit of variable renaming</li>
					<li>cleaned up a couple menu memory leaks</li>
					<li>updated a little of future.html</li>
				</ul>
				<li><h3 id="version_63"><a href="#version_63">version 63</a></h3></li>
				<ul>
					<li>added include/exclude namespace predicate</li>
					<li>added intelligent delay to A/C to smooth out db requests</li>
					<li>rejiggered the A/C code so that spamming/pasting several characters and then deleting some will re-search for matches as appropriate</li>
					<li>cut size down to just B, KB, MB, GB</li>
					<li>maybe I fixed system:ratio in certain cases!</li>
					<li>some general predicates display syntax changes</li>
					<li>(archive/inbox) and (local/not local) mutual exclusivity with new system</li>
					<li>system:num_words</li>
					<li>right click -> open selection in new page</li>
					<li>upgraded from PIL to Pillow, to zero noticeable effect lol</li>
					<li>had another look at dodgy animated gif transparency; couldn't figure it out</li>
					<li>CMYK jpegs images now supported! interlaced pngs simply not supported with PIL/Pillow yet</li>
					<li>numpad delete added as a valid shortcut key</li>
					<li>removed an old buggy deleteorphans line</li>
					<li>new thumbnail resize daemon to fill out the thumbnails directory in the background</li>
					<li>collections with only one file will now be converted to singletons</li>
					<li>screwed around with locale settings. not sure if this will break things!</li>
					<li>manage tags and ratings now in fullscreen rmb menu</li>
					<li>on downloads, ( url -> hash ) pairs are stored in db, even if the file was already deleted or already in db</li>
					<li>a few additions to help</li>
					<li>reworked the spinctrls system preds to not have 100 as default max</li>
					<li>changed a bunch more spinctrls, including memory sizes, in local options</li>
					<li>and a statictext that wasn't showing number of thumbs for cache size</li>
					<li>bugfix in ratings filter</li>
				</ul>
				<li><h3 id="version_62"><a href="#version_62">version 62</a></h3></li>
				<ul>
					<li>remade a/c dropdown to a better, less buggy class</li>
					<li>reworked a little of the a/c dropdown focus logic</li>
					<li>reworked a little of the a/c dropdown show/hide logic</li>
					<li>a 'sometimes hangs on "gui" on startup after crash' bug is fixed</li>
					<li>can copy from listboxes with new right click menu</li>
					<li>dumper page will protest if you try to close it while it is still dumping</li>
					<li>import page won't protest if you try to close it while paused</li>
					<li>num_words will show on pdf right click</li>
					<li>fixed the network version mismatch exception, exactly one week late lol</li>
					<li>couple of tiny menu memory leaks removed</li>
					<li>couple of misc gui tidies</li>
					<li>custom filter favourites save and delete buttons will grey out as appropriate</li>
					<li>bit of general code cleanup</li>
					<li>we nested classes now</li>
					<li>moved contentupdate class from cc to hc, in prep for repo update rewrite and contentupdate gen</li>
				</ul>
				<li><h3 id="version_61"><a href="#version_61">version 61</a></h3></li>
				<ul>
					<li>session db tables</li>
					<li>session manager objects</li>
					<li>session net code done</li>
					<li>session failure recovery</li>
					<li>registration key table</li>
					<li>registration key requests</li>
					<li>some registration help added</li>
					<li>harmonisation of many http request names</li>
					<li>extracted uploadpending code from db transaction, making it a lot more polite and architecturally correct</li>
					<li>pixiv now parses the ascii creator name as well as the japanese counterpart. No option to choose between them yet!</li>
					<li>improved processcontentupdate to support more actions, making db a little more serial</li>
					<li>home and end now scroll to focussed media</li>
					<li>some http timeout tweaks, to stop the 'can't connect to server' problems on complicated queries</li>
					<li>a typo in modify account types was fixed</li>
					<li>manage tags dialog shouldn't fritz out quite so much when a service doesn't have post_data permisisons</li>
				</ul>
				<li><h3 id="version_60"><a href="#version_60">version 60</a></h3></li>
				<ul>
					<li>pixiv account management dialog</li>
					<li>pixiv gallery parse</li>
					<li>pixiv page tag parse, including creator and title</li>
					<li>pixiv user download</li>
					<li>pixiv tag download</li>
					<li>collapsed the page chooser a little to fit pixiv in comfortably</li>
					<li>pdf support!</li>
					<li>pdf launching via preview/fullscreen button</li>
					<li>pdf header parsing with num_words rough estimate</li>
					<li>system:mime=application/pdf</li>
					<li>system:mime=application</li>
					<li>custom filter favourites done! with default, previous, save, save as and delete</li>
					<li>some small changes to temp folder logic</li>
					<li>vastly improved scroll-thumbnail-prefetch logic. important bits all rewritten and made sane. data and gui rows line up better, with fewer bugs</li>
					<li>vastly improved thumbnail fade. now attempts to render at 60fps, and calculates alpha much more efficiently</li>
					<li>thumbnails won't fade if they are off-screen; they'll just draw in one frame</li>
					<li>fixed thumbnail last row drawing problem (again!)</li>
					<li>due to daemon-db-spam, db maintenance check was only firing on pc wake from sleep, now it fires properly every twenty idle mins</li>
					<li>maintenance timer won't fire directly after waking from a sleep</li>
					<li>deleteorphans copes with alien files a bit more gracefully</li>
					<li>A/C appearing on top is mostly fixed</li>
					<li>some general A/C weirdness is fixed/made better</li>
					<li>reworked some of the thumbnail selection and scrolling code to line up better</li>
					<li>thumbnail window will stop spamming 'scroll to focus' every time something small changes. it should only do it on fullscreen close and non-ctrl or -shift mouse/key events now</li>
					<li>some general focus code was looked at</li>
					<li>ratings filter now supports the fullscreen_switch shortcut</li>
					<li>just a couple changes to help to include the new 'f' fullscreen_switch shortcut</li>
					<li>10s timeout on http queries</li>
					<li>http redirect code is improved</li>
					<li>http cookie handling code is improved</li>
					<li>made hf session establishment a bit cleverer</li>
				</ul>
				<li><h3 id="version_59"><a href="#version_59">version 59</a></h3></li>
				<ul>
					<li>new vastly improved 'collect by' dropdown</li>
					<li>fullscreen 'f' shortcut</li>
					<li>fullscreen default option</li>
					<li>added tumblr prototype parser, with tags</li>
					<li>server init and repository init typos are fixed</li>
					<li>a misaligned sizer was fixed</li>
					<li>a bunch of spinctrls no longer init at <= 100</li>
					<li>the problem with the last thumbnail rows sometimes not drawing properly should be fixed</li>
					<li>A/C lag calculates a little more intelligently</li>
					<li>manage ratings for collections now works</li>
				</ul>
				<li><h3 id="version_58"><a href="#version_58">version 58</a></h3></li>
				<ul>
					<li>new custom staticbox sizer/panel put in about fifty places</li>
					<li>big layout changes in management panels</li>
					<li>I made a new, better set of sizer flags for nested sizers</li>
					<li>testing out several new borders</li>
					<li>several other small layout changes, lining things up</li>
					<li>a few colour changes with the new classes</li>
					<li>advanced options class is better, more streamlined</li>
					<li>advanced options class is less flickery, I think</li>
					<li>A/C spazzes out less when dragged about</li>
					<li>A/C queries db less annoyingly, especially when you type fast</li>
					<li>the thumbnail display draws its whitespace a little better, filling in the right-hand and bottom-end gaps</li>
					<li>importing thumbnails now add to the last row one thumb at a time (rather than at one row at a time) once the scrollbar appears</li>
					<li>shift + f7 now sends things back to inbox, like a reverse archive.</li>
					<li>this works from thumbnail menu</li>
					<li>and in fullscreen</li>
					<li>new menu item 'remove these' for thumbnails, anywhere, including dumper!</li>
					<li>'tags just for this file' now works a looooot better! it unions all selected tags, and detects deselections better</li>
					<li>giphy downloader added</li>
					<li>giphy tags added, thanks to @fluffy_cub</li>
					<li>copying file now _also_ copies paths to clipboard; depending on where you paste, you'll get the files or the text appropriately</li>
					<li>new shortcut (default ctrl+m) for 'focus media'</li>
					<li>focus search now works for manage tags and tags regex dialogs</li>
					<li>think I worked out the last of the up/down arrow cursor shortcut problems</li>
					<li>a ton more code cleaning</li>
					<li>hentai foundry artist not found 404 error detected</li>
					<li>in regex dialog, tags are cleaned before display on screen</li>
					<li>4chan ban is now recognised, and thread dumps are hence suspended</li>
					<li>when ordering tags by incidence, disputes are now resolved by lexicographic</li>
					<li>fullscreen init is a little faster for the first image</li>
					<li>select imageboard dialog now toggles tree with double click</li>
					<li>select imageboard dialog is also taller</li>
				</ul>
				<li><h3 id="version_57"><a href="#version_57">version 57</a></h3></li>
				<ul>
					<li>added quick vs accurate slider for numerical ratings filter</li>
					<li>new slider will remember where you left it last</li>
					<li>ratings filter internal comparison logic is more sane</li>
					<li>'already rated' will now show the specific rating beside it</li>
					<li>ratings filter (hopefully!) chooses better comparisons, in about four different and new ways</li>
					<li>you can now ratings filter just one file</li>
					<li>ratings filter code is neatened a whole lot, especially on my horrible variable names</li>
					<li>I may have fixed an equality ratings filter bug</li>
					<li>internal rating data -> pretty text for display is more flexible and accurate</li>
					<li>going back several steps on ratings filter will no longer forget to re-rate already rated files</li>
					<li>delete from dumper no longer screws with the indices</li>
					<li>dumper is more stable, less likely to bail on the whole dump if something odd happens</li>
					<li>dumper should recognise duplicate file errors and recover the fail</li>
					<li>if the user has idled for the last twenty minutes, the db checks to see whether it can optimise itself</li>
					<li>fixed flickering on fullscreen drag</li>
					<li>fixed flickering onn fullscreen image init, meaning smoother mousewheel/whatever scrolling</li>
					<li>fixed a graphical glitch in manage boorus dialog, and a bunch of others (removed all staticboxsizers)</li>
					<li>fixed a similar glitch in manage ratings dialog - it now has dropdowns; I'll probably make it radio buttons again soon</li>
					<li>fullscreen page navigation (previous, next, first, last) shortcuts are now customisable</li>
					<li>custom filter now supports these new page nav shortcuts</li>
					<li>can now do home/end and page up/down in shortcuts</li>
					<li>shortcuts listctrls now sort by action by default</li>
					<li>I improved the my custom listctrl's code generally</li>
					<li>little less ugly code, here and there</li>
					<li>fixed a whole ton of regular little bugs</li>
				</ul>
				<li><h3 id="version_56"><a href="#version_56">version 56</a></h3></li>
				<ul>
					<li>new existing tag sort dropdown</li>
					<li>an option to set default existing tag sort</li>
					<li>dumper error logic improved</li>
					<li>dumper now does random sort properly!</li>
					<li>double buffering hilariousness</li>
					<li>some reordering of the local options dialog</li>
					<li>made a 'shortcut' entry object</li>
					<li>made a parent frame object</li>
					<li>collection thumbnails will redraw if the sort changes</li>
					<li>add media and add thumbnail data and graphics logic is improved</li>
					<li>4chan pass now authenticates for an entire year</li>
					<li>bit more in help about the autocomplete tag entry</li>
					<li>tag petition processing speed is a loooot faster</li>
				</ul>
				<li><h3 id="version_55"><a href="#version_55">version 55</a></h3></li>
				<ul>
					<li>custom filter prototype ready!</li>
					<li>added some info on custom filter to help (in advanced.html)</li>
					<li>you can now set a default tag service in options</li>
					<li>tag rexeg dialog's listctrl refreshes without scrolling up to the top every time</li>
					<li>tag for this file in tag regex dialog applies to all selected, not just the first</li>
					<li>scrolling in autocomplete entry will scroll services in manage tags and tags regex dialog</li>
					<li>ctrl+scrolling in autocomplete entry will scroll through results</li>
					<li>complete rewrite of image prefetch calculation</li>
					<li>couple of content-update display bugs in ratings filter fixed</li>
					<li>in manage ratings dialog, sliders will preset to best guess at current score</li>
					<li>dumper should be fixed</li>
					<li>resized active predicates box (much smaller)</li>
					<li>a deprecated call updated</li>
					<li>added some forum extensions</li>
				</ul>
				<li><h3 id="version_54"><a href="#version_54">version 54</a></h3></li>
				<ul>
					<li>several new flash key and mouse event bugs fixed - now: mouse in = to flash | mouse out = to frame</li>
					<li>the problem with scrollable management windows not drawing things on scroll is fixed; staticboxsizers now replaced with "- title -"</li>
					<li>ratings filter now accepts several shortcut keys, directing to whichever window the mouse is over</li>
					<li>the ratings filter windows will redraw themselves appropriately on content and service updates, e.g. changing tags with F3</li>
					<li>ratings filter will choose the files to compare to more intelligently, both from the db and the currently-rated pool</li>
					<li>the way services are identified behind the scenes is entirely overhauled and improved</li>
					<li>the review service dialog is better as a result</li>
					<li>all dialogs will now cancel-exit on pressing escape</li>
					<li>started fade in and out for thumbnails</li>
					<li>up cursor arrow in filter now skips</li>
					<li>the tags regex dialog is refitted so it will refit on small screens better</li>
					<li>dumper now dumps in its own thread (no longer locks up the gui while uploading)</li>
					<li>the calculation of num_frames for flvs was off by a thousand, lol</li>
					<li>synchro/wait shortcut typo fixed</li>
					<li>inbox and other icons moved to background in fullscreen</li>
					<li>fullscreen makes less db queries r.e. ratings</li>
					<li>a couple managementpanel resize issues corrected</li>
					<li>a couple drawing/flickering issues corrected</li>
					<li>some updates to help</li>
					<li>I made a forum to my site, and added links in the client and help</li>
				</ul>
				<li><h3 id="version_53"><a href="#version_53">version 53</a></h3></li>
				<ul>
					<li>several terrible ratings filter bugs fixed</li>
					<li>ratings filter can now rate files internally</li>
					<li>ratings filter frame now has a statusbar</li>
					<li>system:rating:service=uncertain added</li>
					<li>upgraded to wx2.9, which included a ton of bug fixes</li>
					<li>sort by namespace wasn't working due to an odd typo</li>
					<li>collect by logic changed a little so that 'none' values are collected</li>
					<li>the shutdown lag from v52 is corrected</li>
				</ul>
				<li><h3 id="version_52"><a href="#version_52">version 52</a></h3></li>
				<ul>
					<li>ratings filter prototype is done</li>
					<li>bit of help docs</li>
					<li>more intelligent cpu burn on shutdown</li>
					<li>dumper can manage flood time error, and recover from it</li>
					<li>whole load of work done on mappings optimisation, meaning mappings updates, uploading mappings and approving petitions work about 100x faster!</li>
					<li>forgetting pending uploads now throws up an ok/cancel dialog</li>
					<li>had another look at overwriting deleted tags</li>
				</ul>
				<li><h3 id="version_51"><a href="#version_51">version 51</a></h3></li>
				<ul>
					<li>dumper deals with failed uploads better, although there is more work to do.</li>
					<li>flv support for client and file repo!</li>
					<li>reworked tag services' permissions calculations on thumbnail menu</li>
					<li>new fatten A/C cache on shutdown</li>
					<li>system:untagged works again for null tag repo ('all known tags')</li>
					<li>advanced import options now default no limit for size and resolution</li>
					<li>ratings service now have a little info on the review services frame</li>
					<li>new shortcut keys (ctrl-b and -n) for animated gif previous/next frame in fullscreen</li>
					<li>added thoughts on plurals to tag schema help page</li>
					<li>hentai foundry downloads now interleave pictures and scraps</li>
					<li>removed db locks on file/thumbnail reads</li>
					<li>you can open the page picker frame with the mouse by going view->pick a new page</li>
					<li>the copy->whatever thumbnail menu is more concise</li>
					<li>system:hash now works for null file repos ('all known files')</li>
					<li>there is now a title: regex on the tag regex dialog</li>
					<li>servers now store updates in a folder, not inside their dbs.</li>
					<li>couple misc changes to help pages</li>
				</ul>
				<li><h3 id="version_50"><a href="#version_50">version 50</a></h3></li>
				<ul>
					<li>4chan pass added</li>
					<li>captcha timings in dump are better</li>
					<li>dumper's file ordering is less insane</li>
					<li>some general updates to regex tag dialog</li>
					<li>new box on regex tag dialog for tags for single files</li>
					<li>regex tag dialog now supports arrow key up and down to change repo</li>
					<li>entirely new and vastly improved listctrl class</li>
					<li>collect by is now a thousand times more complicated, but also much more powerful</li>
					<li>the top-left media-flicker display bug in fullscreen is fixed</li>
					<li>some logging improvements</li>
					<li>some tag cleaning improvements</li>
					<li>thumbnails have less cluttered tag headers</li>
					<li>some small changes to help</li>
					<li>fullscreen precache doesn't do gifs any more, which should make things smoother</li>
					<li>got rid of the awful view pending uploads dialog. I'll improve it later</li>
					<li>started remote ratings, but its not done yet</li>
				</ul>
				<li><h3 id="version_49"><a href="#version_49">version 49</a></h3></li>
				<ul>
					<li>local rating like service</li>
					<li>local rating numerical service</li>
					<li>ratings dialog</li>
					<li>ratings drawn on preview and fullscreen canvas</li>
					<li>search by rating</li>
					<li>system:rating in options</li>
					<li>sort by rating</li>
					<li>a ratings help page added</li>
					<li>custom shortcuts</li>
					<li>overhauled shortcuts code</li>
					<li>a new, comprehensive regex menu in the regex tag dialog</li>
					<li>extensive new hentai foundry search and sort options</li>
					<li>a new option regarding the search style of tag A/C entries</li>
					<li>thu dumper can now dump with tags</li>
					<li>regex tag dialog selects tag A/C on page change</li>
					<li>regex tag dialog's button now now shows in import dialog even if there are no remote tag dialogs with POST privilege</li>
					<li>A/C is slightly faster in all cases</li>
					<li>preview canvas now updates on a content update</li>
					<li>numtags = 0 and numtags > 0 now work for pending tags</li>
					<li>shift- or Ctrl-Click no longer deselects</li>
					<li>listbook renaming and resizing bug fixed</li>
					<li>collections thumbnail is fixed</li>
					<li>sometimes, an empty tag, '', could be entered into pending and screw a lot up</li>
					<li>sometimes, a null tag could be entered into pending and screw a lot up</li>
					<li>advanced tag options has better checkbox defaults</li>
					<li>some help screenshots updated</li>
					<li>the db's processing is slightly rebalanced</li>
					<li>the db's startup is slightly rebalanced</li>
					<li>a misc gui bug was fixed</li>
					<li>a misc gui typo was fixed</li>
				</ul>
				<li><h3 id="version_48"><a href="#version_48">version 48</a></h3></li>
				<ul>
					<li>New copy path and copy url menu entries on thumbnail right-click menu</li>
					<li>Gif scrollbar</li>
					<li>Hentai Foundry parsing errors fixed</li>
					<li>Hentai Foundry 404 errors fixed</li>
					<li>All the html parsers are rewritten using BeautifulSoap</li>
					<li>Flash now zooms full, but not fit</li>
					<li>Filter is now F12</li>
					<li>Help is updated in a number of ways</li>
					<li>Up/Down on empty input to change repository in manage tags dialog is fixed</li>
					<li>The servers now support OPTIONS requests</li>
					<li>Several status typos fixed</li>
					<li>I started local ratings services</li>
				</ul>
				<li><h3 id="version_47"><a href="#version_47">version 47</a></h3></li>
				<ul>
					<li>Hentai Foundry interface is done, for both artist and tag searches</li>
					<li>A/C gui reorganisation</li>
					<li>A/C file and repo buttons added</li>
					<li>A/C cache count alterations to match those buttons</li>
					<li>A/C tag processing is cleaned up</li>
					<li>Search and thumbnail-action improved to support null file service or non-null tag service</li>
					<li>system:numtags=0 and system:numtags>0 optimised to be much faster</li>
					<li>Ctrl+I now switches searching immediately/waiting</li>
					<li>z now switches between zoom full and zoom fit in fullscreen view</li>
					<li>advanced import options now has exclude already deleted files checkbox</li>
					<li>Thumbnails choose the way they access the db more intelligently</li>
					<li>ManagementPanel colour is changed, hmmm</li>
					<li>Some DB cleanup</li>
					<li>Some general code cleanup</li>
					<li>Some download logic improved, including timer</li>
					<li>Some download status improved</li>
					<li>Download 404 notices better</li>
					<li>DeviantArt now initially shows 'artist username' in its searchbox</li>
					<li>Some code nomenclature improved</li>
					<li class="dealwithit">I've made a changelog.html, compling all changes together.</li>
				</ul>
				<li><h3 id="version_46"><a href="#version_46">version 46</a></h3></li>
				<ul>
					<li>DA parsing CLEAR</li>
					<li>rule34@paheal parsing CLEAR</li>
					<li>tbib (another booru) parsing CLEAR</li>
					<li>Canvas rearranging</li>
					<li>Preview now shows tags</li>
					<li>The autocomplete tag write dialog will promote existing exact matches to the top of the list, even if it is not the most popular.</li>
					<li>Autocomplete lists now scroll with the mouse.</li>
					<li>A/C scrolling is a little more accurate.</li>
					<li>Pressing up or down on an empty A/C entry will change tag repository.</li>
					<li>A sledgehammer has been applied to the python garbage collector.</li>
					<li>The code that navigates boorus is better.</li>
					<li>The import queuing/pausing/cancelling system is better.</li>
					<li>Booru tag-processing is better.</li>
					<li>The import-queue gui is slightly better sized on small screens.</li>
					<li>The new local tags service now shows up in advanced tag options.</li>
					<li>Even more flicker is removed from the main thumbnail view, this time when clicking on whitespace. (it was a stupid bug)</li>
					<li>Serverside db-backup now includes the WAL file.</li>
					<li>Manually adding an admin service is fixed.</li>
				</ul>
				<li><h3 id="version_45"><a href="#version_45">version 45</a></h3></li>
				<ul>
					<li>Local tags: DONE</li>
					<li>Thread watcher: DONE</li>
					<li>Fullscreen now shows tags</li>
					<li>Preview shows some more file + tag info</li>
					<li>Listbooks load their panels on demand.</li>
					<li>Local options dialog is now a listbook.</li>
					<li>Some incorrect 'sample image' downloads from danbooru are fixed. Danbooru's inner workings remain a 404-cluttered mess though.</li>
					<li>Some remaining utf-8 html parse errors (where a limited content-type header is given) are cleared up.</li>
					<li>Another connection problem (a certain case of the server closing the connection) is now properly recovered from.</li>
					<li>Some flicker in the thumbnail view is reduced, but my slow laptop still shows some, so I need to revisit this.</li>
					<li>Autocomplete tag boxes now have little tooltips better describing their search domains.</li>
				</ul>
				<li><h3 id="version_44"><a href="#version_44">version 44</a></h3></li>
				<ul>
					<li>All database triggers are removed and replaced with more efficient inline code.</li>
					<li>Cached number of files, namespaces and tags for a tag repo are kept updated, so review services should rarely take very long to load.</li>
					<li>Cached number of A/C counts (current and pending) are kept updated, so A/C results should rarely take very long to load.</li>
					<li>The way A/C cache searches are done is improved.</li>
					<li>The way A/C cache entries are calculated is vastly improved.</li>
					<li>The way several db SELECT DISTINCT * and SELECT COUNT( DISTINCT * ) queries are performed is improved.</li>
					<li>The custom httpconnection object is improved to better deal with server-side connection closes. (Cannot connect to server problem)</li>
					<li>The custom httpconnection object does http redirections more intelligently.</li>
					<li>The custom httpconnection object now parses non-ascii content-type (e.g. utf-8) properly, according to server-side header. The tag "pokémon" will now parse correctly.</li>
					<li>e621 and rule34@booru.org are fixed. (just a couple parsing-variable changes)</li>
					<li>If some tag parsing entries are checked on a booru download page, the tags will be downloaded, parsed and applied even to files already in the database.</li>
					<li>The mouse cursor will remain visible in the fullscreen browser while the right click menu is open.</li>
					<li>I corrected some which->that grammar in a couple dialogs.</li>
					<li>Auto-repo-setup (from the help menu) was broken in a very stupid way, but I fixed it. I apologise for not noticing.</li>
					<li>Thumbnails now show creator and title up top. They are a bit crushed, so I may rearrange them.</li>
				</ul>
				<li><h3 id="version_43"><a href="#version_43">version 43</a></h3></li>
				<ul>
					<li>Updated import + booru code</li>
					<li>New booru buttons</li>
					<li>Cut tag parse bug fixed</li>
					<li>Download preview instead of real file bug fixed (I think)</li>
					<li>Fixed the 'thumbnails not appearing on import' bug</li>
					<li>Import flickers less</li>
					<li>Media Classes rewrite is done, although I'm not totally happy. Have to think about it.</li>
					<li>A problem with pending tags applying over existing tags no flushing correctly is fixed.</li>
					<li>A/C cache is better, but still a little slow on slow computers.</li>
					<li>system:duration=0 is fixed.</li>
				</ul>
				<li><h3 id="version_42"><a href="#version_42">version 42</a></h3></li>
				<ul>
					<li>Autocomplete tag cache DONE. Please tell me if you encounter excessive slowdown or incorrect counts.</li>
					<li>Autocomplete tag logic improved in about five ways. Tags should appear more intuitively and with more accurate counts.</li>
					<li>Copy and paste buttons in manage tag dialog to facilitate spamming many tags from one file to another.</li>
					<li>Imageboard dump is fixed!</li>
					<li>URL download got fixed last week and I forgot to say!</li>
					<li>A peculiar pseudo-foreign-key bug with the active_pending_mappings table is sorted. (leading to more accurate queries and counts)</li>
					<li>Since display of large queries is so much faster, the 'woah! 12,000 query results' warning is gone.</li>
					<li>Fullscreen precache timings are rebalanced, hopefully for the better!</li>
					<li>The importing gui classes are a little smoother, and thumbs should load one by one, not row by row, once the page height is exceeded. The scrollbars should be less janky.</li>
					<li>Page transitions are smoother.</li>
					<li>Importing from URL will now load those urls that are already inside the db (hella fast, too), just like importing from hdd.</li>
					<li>The double-update-download bug is finally fixed! Now you'll download update number 258 only once, and not twice in a row. (I hope!) It never mattered much, beyond a little CPU, but it annoyed the hell out of me. Working out what was wrong took ages. (Long story short: Python's Priority Queues are not parallel FIFOs!)</li>
					<li>There was a weird bug in pending tags sometimes going to higher tag-precedence services, rather than the one chosen in the manage tags dialog.</li>
					<li>There was a typo in reset service.</li>
					<li>More content update unification in the db, making things much neater behind the scenes.</li>
					<li>I found a potential hang in the db-shutdown code.</li>
					<li>I found another potential hang in the db-shutdown code!</li>
					<li>The number of messages in your inbox is now displayed on the statusbar.</li>
					<li>Bold, Italic and Underline now work with Ctrl+B/I/U in the message compose panel.</li>
					<li>The 'don't receive messages from Anonymous' checkbox in Add, Remove and Edit Services for message depots now does something.</li>
					<li>system:unread in message search now has a count.</li>
					<li>A draft will remember its saved changes when you click on another conversation and back again.</li>
					<li>You can now save a draft with zero recipients.</li>
				</ul>
				<li><h3 id="version_41"><a href="#version_41">version 41</a></h3></li>
				<ul>
					<li>Rich Text Control with Toolbar in messaging.</li>
					<li>Message unread/read status now syncs to message depot.</li>
					<li>Can set defaults for file system predicates.</li>
					<li>Animated Text class written.</li>
					<li>system:unread tag in messaging.</li>
					<li>Import bug fixed.</li>
					<li>Messaging search logic improved.</li>
					<li>Message depot default check time down to 180, and daemon thread improved to manage with that.</li>
					<li>Application startup is more stable.</li>
					<li>Some AddMessage logic improved.</li>
					<li>Drag+Drop service fixed and improved.</li>
					<li>Tags added while importing will now turn up in autocomplete.</li>
					<li>I unified more of the client's content-update db calls. Just making stuff neater.</li>
					<li>I massively simplified the autocomplete tag code in preparation for another bash at doing autocomplete cache. A/C is far too slow atm, imo.</li>
					<li>Some A/C counts are still off, particularly when there are a mix of current and pending. I couldn't figure out what is causing it, but I'll look at it more as I do the cache.</li>
					<li>In add, remove and edit serivces, you can now specify if you want to receive messages from Anonymous or not. Unfortunately, because I forgot to implement it in DoMessageQuery, this checkbox doesn't actually do anything yet! Whoops!</li>
				</ul>
				<li><h3 id="version_40"><a href="#version_40">version 40</a></h3></li>
				<ul>
					<li>Inbox/Archive for messaging works. The inbox icon is back, and F7 to archive as usual.</li>
					<li>Unread/Read for messaging works. Click on your status next to a message panel to change.</li>
					<li>All message participants are shown in the conversation listctrl.</li>
					<li>The message page will open with 'system:inbox' active, ordered by newest message.</li>
					<li>I fixed conversation listctrl sorting in a couple ways.</li>
					<li>Some bugs in the db->gui update reporting system are fixed, so the compose window and draft panel will close properly on a message-send, and the conversation listctrl will swiftly update unread counts and inbox status and so on.</li>
					<li>The draft panel's save button wasn't updating sometimes when it should have been.</li>
					<li>html links in messages will show in the main frame's statusbar and launch in your browser when clicked.</li>
					<li>I reworked how many system tags are searched in file queries to make them muuuuch faster. Now, any time you go system:hash, :size, :mime, :age, :width, :height, :duration, it (should) be significantly faster than before.</li>
					<li>Ever have a png file that had an ok thumbnail but a black preview/fullscreen? It was probably an 'LA' image, or 'greyscale with an alpha channel'. Display of LA images is now fixed.</li>
					<li>Streamlined the way file 'archive' and 'delete' commands are sent throughout the application, with an eye to eventually adding all other user-commands to the same system (to make it simpler, and also to do undo-redo).</li>
					<li>I've updated the help docs, including the section on how messaging actually works.</li>
					<li>You can now enter system tags with enter/return from the keyboard, not just double-clicking with the mouse.</li>
				</ul>
				<li><h3 id="version_39"><a href="#version_39">version 39</a></h3></li>
				<ul>
					<li>A whole bunch of stuff I didn't write down that generally made messages work beyond sending "Hello World".</li>
					<li>Unicode messages now work.</li>
					<li>Newlines in messages now display properly.</li>
					<li>Fixed contact saving and drag-and-drop to the manage contacts dialog.</li>
					<li>You can now add a contact using a contact address (assuming their service is v39).</li>
					<li>A bug in contact renaming is fixed.</li>
					<li>My contact (hydrus admin) is now added automatically.</li>
					<li>Messages are orphan-deleted properly server-side.</li>
					<li>Message depots you control now get an entry under the admin menu.</li>
					<li>The conversation listctrl is now properly sorted.</li>
					<li>The HtmlWindow that shows message body is now resized to its minimum needed height via magic that I ain't gotta explain.</li>
					<li>Messages that fail to send can be retried by clicking on the failed.</li>
					<li>Some draft save/send button enable/disable logic was updated.</li>
					<li>I switched around some server-side account logic.</li>
					<li>You can't zoom a flash window bigger than the screen.</li>
					<li>I've made the mouse appear in fullscreen when you move it, and this includes while you drag. See how you feel about it. I'll make options to change behaviour if people care.</li>
					<li>Better zip structure. (No more CWD rubbish)</li>
					<li>New tar.gz release with only the code and help. Code is 1.2MB, help is 14MB lol. I'll improve the structure of this release next week. I threw it together by hand today, but I'll improve its structure next week.</li>
				</ul>
				<li><h3 id="version_38"><a href="#version_38">version 38</a></h3></li>
				<ul>
					<li>messaging v1.0</li>
				</ul>
				<li><h3 id="version_37"><a href="#version_37">version 37</a></h3></li>
				<ul>
					<li>messaging prototype</li>
				</ul>
				<li><h3 id="version_36"><a href="#version_36">version 36</a></h3></li>
				<ul>
					<li>animated gif fixes</li>
					<li>new page chooser</li>
					<li>svcp->cstvcp in fullscreen too</li>
					<li>new import progress</li>
					<li>just start the server on this computer, please</li>
					<li>I think I have scrolling to the current selection after an archive fixed now.</li>
					<li>Started an experimental simpler way to send commands to the db, which may open the way for undo-redo.</li>
					<li>Capitalisation option in file->options->gui. It only does the menubar for now, but I will expand it.</li>
					<li>Custom sorts/collects. Under file->options. Check it out, play with it if you care about it.</li>
					<li>Some program initialisation error handling is cleaned up.</li>
					<li>Can now no longer start a server if the admin port it wants to use is occupied. (can't run two servers at once on the same port)</li>
					<li>I broke dump with a typo in a previous release, I think! It is fixed now.</li>
				</ul>
				<li><h3 id="version_35"><a href="#version_35">version 35</a></h3></li>
				<ul>
					<li>Slight speedup of review services frame loadtime.</li>
					<li>SVCP now replaced with SCTVCP and CSTVCP for now, with more planned next week.</li>
					<li>Repo sync daemon adds db jobs less manically, now, locking up the gui less.</li>
					<li>Repo sync daemon reports successful updates to the log.</li>
					<li>Tag petition review page has a visual bug fixed.</li>
					<li>ThumbnailMediaPanel manages its underlying bmp canvas more intelligently.</li>
					<li>Some ugly page-closing code was cleaned up.</li>
					<li>There is a 'regex examples' popout window on the regex-filename-tag import dialog, with copy-pastable examples of python regexes that'll work for common filename-parsing situations.</li>
					<li>Home and End keys now select the first/last thumbnail as well as scrolling.</li>
				</ul>
				<li><h3 id="version_34"><a href="#version_34">version 34</a></h3></li>
				<ul>
					<li>DB consolidation, and foreign keys and triggers with it. The db is less prone to orphan ids and miscounts.</li>
					<li>For long-time users, all orphan ids should have all been deleted, reducing weirdness.</li>
					<li>Total size of local service is now tracked accurately.</li>
					<li>Archive while importing should work a bit better now.</li>
					<li>Update logic should be more reliable, as should all service_updates.</li>
					<li>Archive count for file repos should be less wrong.</li>
					<li>Fixed two (!) typos in system:age predicate code.</li>
					<li>File upload is fixed (not sure if it was ever broken in release, but I fixed the stupid thing I did anyway)</li>
					<li>DB (and server) errors should report better now, revealing inner-db code in the traceback. (and printing it to the appropriate log)</li>
					<li>Improved the mime_to_enum object for image/jpeg, image/jpg, image/jpe, image/wtfaretheygoingtocalljpegnow.</li>
					<li>HTTP connections can deal with some esoteric commands, like 301, without throwing a fit. All http goes through the same code.</li>
					<li>Danbooru should now be in your booru list, and it _should_ work.</li>
					<li>Pausing/Cancelling a booru gallery parse should now work.</li>
					<li>4chan dumper now understands captchas being wrong and the thread not existing; in the former case it'll let you put in a new captcha and try again, in the latter it'll stop the whole dump.</li>
					<li>Some general code neatness improvements.</li>
				</ul>
				<li><h3 id="version_33"><a href="#version_33">version 33</a></h3></li>
				<ul>
					<li>Boorus are working for users who started last week</li>
					<li>The server can now manage many more simultaneous requests without bugging out.</li>
					<li>The early freeze/import freeze due to simultaneous access in the client is fixed.</li>
					<li>The client's file+thumbnail server (details in help's advanced.html) works again.</li>
					<li>Client DB now stores md5 and sha1 for all local files.</li>
					<li>Client DB has a larger cache size.</li>
					<li>The freeze caused when importing thousands of files at once with tags is fixed.</li>
					<li>The yaml imageboard import (when you drag and drop a .yaml file onto the imageboards dialog) now adds form fields correctly! If you had problems here, check out install_path/static/default_imageboards.yaml to reset them!</li>
					<li>The autocomplete counts should be more accurate, particularly when there are a mix of current and pending tags in the db.</li>
					<li>The autocomplete in the regex-path dialog will now search the db correctly (it was misconfigured).</li>
					<li>Autocomplete is also just a _little_ faster</li>
					<li>File imports are now low priority, so gui activity should still happen nice and quick even while an import is occurring.</li>
					<li>The review services frame will now show how long until the next update will be checked (see picture above). In case of error, it will show how long until it tries again.</li>
					<li>The review services panel and manage services panel are of a better default size, and they use my new listbook class exclusively, rather than the old notebook.</li>
					<li>I've added some tooltips on not-obvious widgets.</li>
					<li>Content Updates have vastly improved processing speed on a thumbnail view (x100 in some cases!). Tag updates particularly will not be so slow to process if you have a large search open.</li>
					<li>The import gauge will now show the correct range according to the current queue size, not always the default 100.</li>
					<li>Active Import Pages will throw up a yes/no dialog if you try to close them.</li>
					<li>Some beautifying of code syntax. '\n' is now os.linesep, which means exported stuff should show up better in notepad.</li>
					<li>Some changes in network protocol, although now I think of them, I realise I forgot to update the network version. They aren't important for most users, so w/e.</li>
				</ul>
				<li><h3 id="version_32"><a href="#version_32">version 32</a></h3></li>
				<ul>
					<li>client db serialisation DONE</li>
					<li>Cleaned up a dirty-bmp canvas init issue.</li>
					<li>Resized some dlg stuff that was too tall</li>
					<li>Cleaned up a bunch of unrelated db code</li>
					<li>Tightened the pubsub system so it integrates better with wx.</li>
				</ul>
				<li><h3 id="version_31"><a href="#version_31">version 31</a></h3></li>
				<ul>
					<li>booru prototype</li>
					<li>Fixed some problem with last error timestamp </li>
					<li>Fixed a bug in repo bandwidth tracking</li>
					<li>Fixed URL registration with the client db.</li>
					<li>Made downloading URLs asynchronous again</li>
					<li>Made repo synchronisations not block so much, and not for nearly as long. You should be able to do queries and click on thumbs (albeit at a slower rate) while the client is downloading and processing updates.</li>
				</ul>
				<li><h3 id="version_30"><a href="#version_30">version 30</a></h3></li>
				<ul>
					<li>Thumbs are exported, and, along with perceptual hashes, now treated as a global pool, reducing downloads and speeding queries.</li>
					<li>Thumbnail resize is now asynchronous, done as each thumbnail is requested. Changing the thumbnail size in the options dialog happens real quick, and if you don't like a particular size, you can change it back just as fast.</li>
					<li>Temporary DB locking mechanisms ensure serialisation, less inefficient locking.</li>
					<li>ImportPage superclass works a lot better, in a lot less code. DB import code is now even simpler, and much faster, especially for redundant files. The new import page will also tell you how many files were successful/failed/already deleted/already in the db.</li>
					<li>Fetching images for fullscreen or preview is fully asynchronous, and will no longer block the gui thread.</li>
					<li>Some query logic is improved.</li>
					<li>You can now import and export sites/imageboards from the manage imageboards dialog. It'll export to a .yaml file, which is easy to understand with a decent text editor. Just drag and drop onto the dialog to import.</li>
					<li>Selecting thumbs has a little less preview-flicker now.</li>
					<li>The new tagboxes now render numbers prettily, so 4123 -> 4,123.</li>
					<li>(+) namespace:tag now colours properly.</li>
					<li>The background for selected tags is now an appropriate colour.</li>
					<li>You can now choose the colours of any namespace you like in the normal options dialog.</li>
					<li>Clicking in whitespace in the new tagbox deselects, rather than select( 0 )s.</li>
					<li>Spacebar, PageDown, Return and all the other special command characters are now propagated to flash in fullscreen view, just as long as the mouse is over the canvas.</li>
				</ul>
				<li><h3 id="version_29"><a href="#version_29">version 29</a></h3></li>
				<ul>
					<li>Big changes to the db's file storage, as above.</li>
					<li>database->vacuum is reinstated, database->reindex is retired. I recommend you run a vacuum once you are updated; it'll only take a minute now.</li>
					<li>Rollback and initialisation bugs are fixed.</li>
					<li>There's a splash window now that can offer client-boot feedback.</li>
					<li>The way scrolling-to-focus is calculated is improved.</li>
					<li>Pretty much everywhere you see tags will now show coloured tags! I finished up my own tagbox class, which for now will show tags coloured in the default booru scheme. It also loads in a few milliseconds, rather than the ~0.5s of the default listbox. It scrolls faster, too. I'll have user-customisable colours next release.</li>
					<li>Files with invalid resolution, size and mime are now filtered out before dumping to an imageboard.</li>
					<li>A number of misc other bugs were fixed.</li>
				</ul>
				<li><h3 id="version_28"><a href="#version_28">version 28</a></h3></li>
				<ul>
					<li>I fixed the 'searching immediately' bug. It was a stupid typo as usual.</li>
					<li>Post-Filter scrolling should be a bit more reliable.</li>
					<li>Some more log events.</li>
					<li>I did a lot of work on my new tags box, although the actualy gui elements will have to be finished for v29.</li>
					<li>Manage Imageboards wasn't saving properly. It is now.</li>
					<li>My new progressdialog happens in several places. It is a little neater than the one in wx; just better for my purposes.</li>
					<li>I reworked some of the transaction stuff in the db so that I can atomically queue pubsub events. (this means file import are less juddery)</li>
					<li>After becoming very annoyed with wx's listbook/labelbook/whateverbook, I wrote my own. It's all over the place in my dialogs now. It is tighter, more reliable, and can scroll.</li>
					<li>I reworked some of the way sets interacted.</li>
					<li>There was an infinite recursion bug sometimes, when uploading files to a file repo.</li>
				</ul>
				<li><h3 id="version_27"><a href="#version_27">version 27</a></h3></li>
				<ul>
					<li>Cleared out some old unused library imports, so the client is slightly smaller.</li>
					<li>Had a cyclical import (!). Luckily, python is forgiving, but I have still fixed it.</li>
					<li>Collection thumbnails will now update with their new pending tags correctly.</li>
					<li>Some wx.Panel vs wx.Window issues and nomenclature resolved.</li>
					<li>Full Page decouple. Now the window to the left is a seperate, much neater class. It and the media/preview windows talk to each other in a clever way that means I can make new kinds of page much faster. It scrolls, too.</li>
					<li>Thumbnails resize will tell the thumbnail window just to redraw itself, not refresh the entire query.</li>
					<li>'system:local' and 'system:not local' are now mutually exclusive (will swap each other out, rather than overlap), like inbox and archive.</li>
					<li>A little neatening of the system predicate code.</li>
					<li>'system:similar_to' RMB menu entry fixed for some cases.</li>
					<li>There is a new log window. Go view->new log page to see it. It doesn't show much right now, but you can see synchro successes and errors pop up as they happen.</li>
					<li>There is now a popup button on the import dialog and the URL downloader page that does 'advanced import options'. You can now tell these import processes to archive everything and/or ignore files below a certain size or resolution. By default, the client will not import anything <5KB or <50x50px. You can set no limit.</li>
					<li>Flash windows will now own all keystrokes as long as the mouse cursor is over the flash. If you are browsing/filtering, just move your mouse over or off the flash window to make sure your return/page down/spacebar/escape/whatever is interpreted as you want.</li>
					<li>The URL downloader will not download the same file twice in a row, so you can add a thread URL several times in a row, and it'll only download the newest files. The behaviour of this is affected by the 'exclude deleted files' checkbox in the client's options. I'll implement thread watching a bit later.</li>
				</ul>
				<li><h3 id="version_26"><a href="#version_26">version 26</a></h3></li>
				<ul>
					<li>The double unnamespaced count bug ( 'system:blah (70)', 'blah (140)' ) in autocomplete should be gone.</li>
					<li>Some rejiggering of how the statusbar updates means active import windows can't spam the statusbar when they don't have focus.</li>
					<li>The count of pending tags is more accurate and uniform. When it says (+3), it means for three files, not in three cases.</li>
					<li>Tag counts overall are better. When it says 'diaper vore (17)', you should be getting 17 files if you enter that search.</li>
					<li>GUI tag repo precedence is slightly more accurate, compared to what the db thinks it should be.</li>
					<li>I nailed down why system:mime wasn't working sometimes, and now it should work all the time.</li>
					<li>I discovered some problems with repo-side bandwidth tracking. I fixed a couple bits, but have notes to look at it more.</li>
					<li>In v25, if system:limit was greater than the search population, it threw an error! Whoops! Fixed now.</li>
					<li>The post-filtering thumbnail problem is totally fixed, as are a couple other instances when thumbs would sometimes not draw.</li>
					<li>The fullscreen change-image-jittering-around problem is fixed, I think.</li>
					<li>Fullscreen archive works again. Not sure why/when it broke.</li>
					<li>Importing with archive checkbox ticked sometimes didn't archive, lol.</li>
					<li>A bunch of decoupling of gui elements, making for much neater code and less gui blocking.</li>
					<li>Decoupling of import from hdd as well.</li>
					<li>Query is now asynchronous! If you do a massive query on a slow computer, you won't lose the gui! You can go check other tabs, whatever, and the query will process in the background, rendering on the page you started it when it is done.</li>
					<li>A number of cpu-heavy numbers are now cleverly cached, so system predicate fetch happens much faster, especially on 100,000+ image dbs.</li>
					<li>Some 'collect' code is sped up and made generally less bonkers.</li>
					<li>I wrote a couple new classes for my most common gui elements.</li>
					<li>There is now an option in file->options to change the number of characters before autocomplete will go search the db for tags! If you have a slow computer and a huge db, you can set it to 2, 3 or even more chars. Default is 1.</li>
					<li>Dialogs that ask you questions will now usually center on their parent window.</li>
					<li>The current selection tagsbox won't show ( 'blah (12)', 'blah (+3)' ), it'll combine into 'blah (12) (+3) (-1)'. With the + meaning pending and the - meaning petitioned.</li>
					<li>Autocomplete now respects which of the include_current and include_pending buttons are green! It'll only search current/pending as you wish! And the numbers will now be accurate!</li>
					<li>My new question dialog with the yes/no buttons hooks the Escape key to mean no.</li>
					<li>I don't use it much yet, but I have a new message dialog too.</li>
				</ul>
				<li><h3 id="version_25"><a href="#version_25">version 25</a></h3></li>
				<ul>
					<li>Thumbnails should load just a bit quicker.</li>
					<li>Made some dict + set code neater</li>
					<li>A new end-of-filtering dialog makes the choices a bit more obvious</li>
					<li>When you exit from fullscreen/filter view, the main thumbnail view it was based on should select (and scroll to!) where you were. But filtering is less reliable, since you may have just deleted the last thing you were looking at!</li>
					<li>Better scrolling in thumbnail view</li>
					<li>Scrolling in thumbnail view will follow the current selection, so the focussed media will always be visible.</li>
					<li>Double right-clicking in filter now deletes instead of keeps (typo)</li>
					<li>Slightly less flickering when processing repo updates</li>
					<li>Made some form code neater</li>
					<li>A lot of the thumbnail gui code has been decoupled and pubsub'd. It is all neater behind the scenes, meaning I'll be able to extend it easier in future.</li>
					<li>I completely overhauled how my pubsub works. (pubsub is a messaging system inside the code). It is more flexible and easier for me to work with.</li>
					<li>system:mime was not working in v23, not sure why. It's fixed now.</li>
					<li>Some small speedup + neatening in db queries.</li>
					<li>You can now scroll to the end of a thumbnail page by pressing End. WARNING: If you have like 10,000 thumbs in the current pane, it is going to have to load all those.</li>
					<li>In the AutocompleteTagWrite object, which is the tag entry box in the manage tags dialog, there was a stupid bug that made many requests more expensive. It's fixed.</li>
					<li>Autocomplete now works off one character's input.</li>
					<li>I've swapped a bunch of expensive objects with easier staticbitmaps for now</li>
					<li>some A/C ordering changes</li>
				</ul>
				<li><h3 id="version_24"><a href="#version_24">version 24</a></h3></li>
				<ul>
					<li>imageboard dumper prototype</li>
					<li>some db update stuff</li>
				</ul>
				<li><h3 id="version_23"><a href="#version_23">version 23</a></h3></li>
				<ul>
					<li>A typo was disallowing petition rescinds in certain cases.</li>
					<li>I've rearranged some of the RMB menu separators to reduce filter/archive misclicks.</li>
					<li>Tag pending upload has more accurate GUI response.</li>
					<li>You can now find similar images from RMB menu.</li>
					<li>Petition approvals are mirrored on an admin's client.</li>
					<li>The gui now accepts that admins can overrule deleted content.</li>
					<li>Couple tiny URL downloader gui bugs fixed</li>
				</ul>
				<li><h3 id="version_22"><a href="#version_22">version 22</a></h3></li>
				<ul>
					<li>system:similar_to</li>
					<li>Some backend namespace stuff</li>
					<li>Couple of gui presentation fixes</li>
					<li>I removed the clunky inbox and archive buttons, see how you feel about it.</li>
					<li>I tried to do ultimatelistctrl to have coloured tags (like a *booru), but it was too buggy and slow for the client's purposes, so I'll probably have to write my own control.</li>
					<li>system:mime exists, now. Not many mimes, yet, but have a play with it, see if you like it.</li>
				</ul>
				<li><h3 id="version_21"><a href="#version_21">version 21</a></h3></li>
				<ul>
					<li>On opening the URL downloader, the textbox input focuses.</li>
					<li>The URL downloader has some better update texts. It pauses nicely, etc…</li>
					<li>The URL downloader now orders urls in the order they are parsed. I forgot I was throwing the links in a set, losing all order!</li>
					<li>You won't see dupes in the URL downloaders' mediaresultswindow.</li>
					<li>Accounts should now correctly refresh on version update.</li>
					<li>When accounts fail to sync, it dumps the error in the log.</li>
				</ul>
				<li><h3 id="version_20"><a href="#version_20">version 20</a></h3></li>
				<ul>
					<li>The preview pane should be a little less schizophrenic.</li>
					<li>Some code cleaning up behind the scenes.</li>
					<li>Thumbnail download optimisation if they already exist locally.</li>
					<li>Icons will show/hide in fullscreen with mouse movement, just like 21/123.</li>
					<li>Weird archiving bug on import is fixed. It was display only.</li>
					<li>Manage tags dialog now works in fullscreen, lol.</li>
					<li>system:not_uploaded_to: now works</li>
					<li>services->review services now loads muuuuuch faster (after the first time)</li>
					<li>There was a typo in setting up initial server's accounts. Email me if you can't make new admins.</li>
					<li>Importing is more streamlined, with more shared code.</li>
					<li>Importing with tags dialog happens more naturally in the import process. You can now do it from drag and drop imports!</li>
					<li>I reordered the default collection dropdown. Your default may be changed, so check your options.</li>
					<li>You can now fetch an account by a deleted file (hash).</li>
					<li>Thumbnails' tags now obey tag precedence for deleted stuff. I hope.</li>
					<li>Modify Account Dialog now does its stuff.</li>
					<li>Collections thumbnails now show how many files are in the collection, just next to the icon.</li>
					<li>I've added to and edited the help extensively, replacing screenshots and updating the text.</li>
				</ul>
				<li><h3 id="version_19"><a href="#version_19">version 19</a></h3></li>
				<ul>
					<li>drop librarium nomenclature</li>
					<li>More intelligent prefetch in fullscreen - things should load muuuuuch faster</li>
					<li>A little more intelligent sum() calcs in autocomplete - non-namespaced tags now sum all their namespaced versions as well</li>
					<li>More rigorous client db transactions, just to make things more pretty and reliable.</li>
					<li>Moved db files to /db, logs to /logs</li>
					<li>Made inroads to getting review services to load faster, but version 20 will have more here.</li>
					<li>I've updated the frame view so the file info is draw on top of the image. It's a hack for now, inside the image-frame, but it is the only solution for wx's annoying 'no overlapping' policy.</li>
				</ul>
				<li><h3 id="version_18"><a href="#version_18">version 18</a></h3></li>
				<ul>
					<li>Some misc gui image info bugs fixed</li>
					<li>Review services dialog is less pubsub buggy</li>
					<li>Fullscreen image prefetch does more and hopefully more intelligently</li>
					<li>Entering a blank tag to quit tag dialog was broke when I updated autocomplete textctrls. I've fixed it.</li>
					<li>Petition page is fixed, so I can finally clear out the tag petitions!</li>
					<li>F10 was broke when the lib had deleted files lol! Fixed it.</li>
					<li>Review services is more responsive to repo permissions updates.</li>
					<li>Flash files are now correctly put in the inbox on import.</li>
					<li>Synchronise Repositories daemon no longer takes ten gui-blocking seconds to process every update! This was an annoying slowdown, but I figured out what it was and reduced it to <1s with a quick patch. The problem will return with private tag repos, but I'll deal with that when I come to it.</li>
					<li>Synchronise Accounts daemon has some better pubsub so it fires more intelligently. This in turn affects several other daemons, which should all be more responsive; e.g. when your permissions change, your pending thumbs/files should start downloading.</li>
					<li>Improved delete orphans logic for the fiftieth time! It is great now, and won't ever bug you in the gui; it runs invisibly on shutdown and usually only takes a few secs to do its job.</li>
					<li>Some of the gui updates triggered by the daemons are optimised so they block the gui less. Multiple stuff is bundled into single updates, those updates are less buggy, and the gui catches them better. Resetting the public tag repo will no longer lock up a slow system.</li>
					<li>A few versions ago I changed the way repos were registered with the gui, and I've fixed some of the resultant daemon-related errors. This mostly affects admins, which mostly means me!</li>
					<li>Download Thumbnails daemon was getting pretty slow for large dbs (100k+ files) because of an inefficient db query. This has been cleared up.</li>
					<li>I banged my head against the wall for a couple of hours getting nested notebooks to work, and I am now a better person for it. Review and Manage Services dialogs feature better panel management as a result. Their panels are also much richer, reporting loads more data about the respective service. You can now see how many mappings the public tag repo has without having to delve into sqlite db browser.</li>
					<li>I have unified panel and frame background colouring away from wx's bonkers idea of what things should be coloured. It should mean that everything is properly grey, but please tell me if your gui turns all black or transparent or whatever.</li>
					<li>21457 is now 21,457 in pretty much all cases where it is appropriate.</li>
					<li>Fixed a bug with wx gauges not liking large ranges because of signed short or whatever underlying var the C code was using to store it. (That should have been done at the wx-python level, but whatever.)</li>
					<li>'localhost' resolves to 127.0.0.1 when editing a service, mainly because windows freaks out at the former, deciding to take a couple seconds longer to make any raw connection.</li>
					<li>Dialogs and frames have better, multi-monitor-friendly positioning.</li>
					<li>Flash files are loaded from a temp folder beneath the install dir, rather than lib's server, for various reasons. This temp dir also manages file copy/paste operations. I may move this back to the OS's approved temp folder, but we'll see.</li>
				</ul>
				<li><h3 id="version_17"><a href="#version_17">version 17</a></h3></li>
				<ul>
					<li>Tag negation "-tag" works again</li>
					<li>You can now cancel a filter on the first image</li>
					<li>Some weird filenames that were breaking the new import page no longer do</li>
					<li>Autocomplete (either when searching for tags or adding new ones in) will now show the number of files tagged with that tag after the tag e.g. here</li>
					<li>Manage tag dialog now pops up slightly to the upper left, rather than the center (default) of the screen, so you can see what you are tagging. I may make this more intelligent in future, so it remembers where you last left it.</li>
					<li>I changed a couple small things in help regarding the new import.</li>
				</ul>
				<li><h3 id="version_16"><a href="#version_16">version 16</a></h3></li>
				<ul>
					<li>Numtags system predicate now takes into account which of current/pending tags buttons you have active.</li>
					<li>Thumbnail downloads fire more reliably.</li>
					<li>Downloading a file was causing funky thumbnail draw, which seems to be fixed.</li>
					<li>Delete Orphans daemon only fires on application close now, so post-filter db lag is gone.</li>
					<li>Daemons now use events, not conditions! lololol, I'm an idiot who can't scroll down a library doc. For the longest time I was like "I wish 'threading' had events!" and it does.</li>
					<li>Some account checks were missing in tag upload, but are now there.</li>
					<li>A gigantic db rewrite that altered pretty much every table and query.</li>
					<li>Calculation of tags for current selection now support collections, and is fast.</li>
					<li>Was deleting a repo broke in 15? If it was, sorry! Didn't catch it, but it's fixed with the new system now.</li>
					<li>Pubsub can do more, and is a little less 'argh, I think it works like that', and more OOP</li>
					<li>The way tags are held by a thumb can support multiple tag servers (but only does public tag repo for now)</li>
					<li>Repos are now a subclass of 'service'. I'll do more on this in the next version, including some nomenclature changes in the gui.</li>
					<li>Imports are now asynchronous! There's a new import page that'll open on any import. It's a little jittery, but it all works. If you import 3000 tiny files, your gui may lock up for a few secs since it'll be able to import faster than it updates the gui.</li>
				</ul>
				<li><h3 id="version_15"><a href="#version_15">version 15</a></h3></li>
				<ul>
					<li>manage tags dialog focus bug hotfix</li>
				</ul>
				<li><h3 id="version_14"><a href="#version_14">version 14</a></h3></li>
				<ul>
					<li>Selection's tags box now shows collections' singletons' tags</li>
					<li>Autocomplete now sources from the current thumbnails whenever it can (faster than db), and does so intelligently</li>
					<li>Couple of small display bugs fixed</li>
					<li>Some delete logic approved</li>
					<li>Repos do some more efficient inserts on POST content</li>
					<li>Petition optimisation, for auto-soft-approval before update gen</li>
					<li>Dialog parents, dialog parents everywhere</li>
					<li>DB cleanup of a couple of old methods</li>
					<li>Autocomplete Write (when adding tags in manage tags dialog) now sources from the entire network's tags (not just for the files on your hard drive) when you type enough letters to stump it. i.e. If you have no files tagged 'evangelion', but you do have a file tagged 'eve', it'll show 'eve' if you type 'ev', but if you type 'eva', it'll requery the db more widely, and give you 'evangelion'.</li>
					<li>system:ratio for searching for wallpapers or whatever. Combine with system:width>x for extra utility!</li>
					<li>You can now hit F3 (manage tags) in fullscreen, whether browsing or filtering.</li>
				</ul>
				<li><h3 id="version_13"><a href="#version_13">version 13</a></h3></li>
				<ul>
					<li>a couple of cpu-intensive DAEMONS schedule themselves better. (less slowdown after a big filter)</li>
					<li>image rendering prefetch improved</li>
					<li>smoother image rendering to screen (especially when zooming), less flickering</li>
					<li>petition approval has smoother, less buggy workflow</li>
					<li>new hashes and tags are added to the db muuuuuuuuch more efficiently. most public tag repo updates happen in a second or two, rather than 30+</li>
					<li>some of the internal commands are streamlined together into a single class</li>
					<li>ctrl-s fixed</li>
					<li>clear pending file repos pubsub fixed</li>
					<li>ctrl-r now shows/hides splitters</li>
					<li>thumbnail delete logic is better</li>
					<li>select logic is better</li>
					<li>deleted_remote_files bug fixed</li>
					<li>headache-inducing weakref repositories __eq__ bug in pubsub fixed</li>
					<li>'with' keyword all over the place now. turns out wx has a bunch of objects with support it (including dialogs!)</li>
					<li>gridsizers are now all flexgridsizers</li>
					<li>the list of tags on the current selection now has a weight attached like 'flower (23)' to show how many of the current selection have that tag. it doesn't support collections' weight yet.</li>
					<li>revised some ambiguous repo error messages</li>
					<li>you can now have a main window with no pages open</li>
					<li>right click menus on a selection are vastly improved (lots more info), but still a way to go.</li>
					<li>on the import files dialog, you can now specify to auto-archive rather than send to inbox</li>
					<li>thumbnails now know where they are uploaded/pending/petitioned to and will show that info with different icons</li>
					<li>escape key now deselects</li>
					<li>manage repos dialog is completely revised. comments appreciated.</li>
				</ul>
				<li><h3 id="version_12"><a href="#version_12">version 12</a></h3></li>
				<ul>
					<li>You can now tell lib to search 'current tags' only, 'pending tags' only, or both.</li>
					<li>Tag search is more efficient.</li>
					<li>Search in general is more efficient.</li>
					<li>Search code is more beautiful and decoupled.</li>
					<li>Tags are stored in memory more beautifully, and a similar class holds repositories for thumbs also.</li>
					<li>Age predicate is fixed (twice!)</li>
					<li>Server code is more beautiful. DB-Server interface is decoupled into a mixin class to make it easier to understand and manage.</li>
					<li>Icons for pending and petitioned files, and for 'currently downloading'.</li>
					<li>Prefetch fixed, so nearby fullscreen images load just in case you want to see them.</li>
					<li>Fixed a redundant pending tags bug</li>
					<li>Fixed a swf tag petitions bug</li>
					<li>On boot, temp folder is cleared.</li>
					<li>The 'current tags' window is now union on the current selection, not intersect. If nothing is selected, it shows all the tags of the current selection. In a later version, I'll order this list by count-weight.</li>
					<li>All (I think) tag updates are synchronous-ish with the gui. As updates come in from the public repo, thumbs will update themselves appropriately. Same goes for repositories.</li>
					<li>Gui-code tidy-up</li>
					<li>On deleting a local file, preview clears.</li>
				</ul>
				<li><h3 id="version_11"><a href="#version_11">version 11</a></h3></li>
				<ul>
					<li>swf support, lol</li>
					<li>You can now backup repositories from the admin menu. Info in help.</li>
					<li>Under the help menu, a quick way to set up the beta repositories' credentials.</li>
					<li>Account sync was full of bugs, and is now less so.</li>
					<li>When you go fullscreen, the preview window should go blank, which should save a little cpu time when you are looking at gifs and your ears when you are looking at swfs.</li>
					<li>Auto-complete is muuuuuch faster than it was. Also more correct. Still more work to do, though.</li>
					<li>Librarium hosts an http server on 45874, which supports GET /file and /thumbnail just like a file repo. Utterly prototype, but you can test it right in your browser if you like. Go http://127.0.0.1:45874/file?hash=whatever when lib is running.</li>
					<li>Ctrl-T opens a new local page/tab, Ctrl-W closes the currently active</li>
					<li>Image display in preview and fullscreen has been revamped, and is now both a little buggy and much better.</li>
					<li>Bandwidth tracking both server- and client-side should be more reliable.</li>
					<li>Delete lag (the slowdown after you boot/delete something) should be reduced.</li>
					<li>Query lag is significantly reduced, and new operators for predicates have been added. You can now go ≈ on a bunch of values like size and width and duration to get 'approximately equal to', which actually means plus or minus about five percent.</li>
					<li>A stupid error on file upload is fixed. If you've been having problems seeing the files you uploaded in preview, try resetting the respective file repository.</li>
					<li>A few daemon bug fixes.</li>
				</ul>
				<li><h3 id="version_10"><a href="#version_10">version 10</a></h3></li>
				<ul>
					<li>hotfix for tag updates</li>
				</ul>
				<li><h3 id="version_9"><a href="#version_9">version 9</a></h3></li>
				<ul>
					<li>Pressing a cursor key when no thumb is focussed no longer throws an exception.</li>
					<li>Hitting enter on a blank input in the manage tags dialog now quickly oks the dialog.</li>
					<li>Annoying splitter exception on import is gone. It was a one-line fix, because I was being stupid.</li>
					<li>All searches should be a little faster. Mostly effects searches with 1000+ results.</li>
					<li>Modal dialogs (in particular) should be just a little more responsive now. Less stuff is being dumped on the wx gui thread, and all db handling is more parallel.</li>
					<li>Slow petition approval fixed, made almost instant.</li>
					<li>Image rendering has been revamped. It should be less stuttery now, but there is still more work to do.</li>
					<li>Some pending tag update logic was fixed.</li>
					<li>If the focused thumb goes from 'not local' to 'local', its preview will load. (its on my to-do to do the opposite: clearing preview on delete in remote search.</li>
					<li>DB daemons rewritten completely, so now a whole bunch of stuff flushes more efficiently, more reliably, and with less gui-blocking. Things happen smoother now.</li>
					<li>Can now create repository database backups via librarium. Sending the command (via the admin menu) tells the repo to lock and copy its .db files to .db.backup. I'll update help to explain this more.</li>
					<li>Can now copy files from within librarium to the clipboard! Just select from the right-click menu or press Ctrl-C, and your selection will be copied to clipboard. You can then paste to any directory, for quick export to anywhere. The export command remains for exporting thousands of files.</li>
				</ul>
				<li><h3 id="version_8"><a href="#version_8">version 8</a></h3></li>
				<ul>
					<li>Fixed a missing transaction on repo db update.</li>
					<li>Export path can now be on other hard drives. You'll probably want to keep it on the same drive if you have lib on a usb stick, though.</li>
					<li>Fixed a really stupid '&lt;' for '&gt;' typo that was causing a ton of gui blocking and repository slowdown.</li>
					<li>File and thumbnail downloads are much snappier.</li>
					<li>One person had a very odd error while trying to open manage repos. I don't understand what actually caused the traceback to happen, but I think I fixed it nonetheless.</li>
					<li>inbox/archive buttons above the searchbox are now mutually exclusive.</li>
					<li>Fixed the version number in lib's about window.</li>
					<li>Fixed the preview window so it remembers its last size properly. Also reduced its min size so you can make it tiny.</li>
					<li>Fixed the problem people were having with admin rights. See this post if you were having problems.</li>
					<li>The RegisterRepoRequest that was filling people's logs on upload should be fixed now. Turns out I didn't understand how wx.CallAfter works during modal dialogs! I threw in a horrible fix, but it works. I'll revisit it.</li>
				</ul>
				<li><h3 id="version_7"><a href="#version_7">version 7</a></h3></li>
				<ul>
					<li>db changes are done</li>
					<li>fixed a bug with posting tag petitions</li>
					<li>when typing tags in, autocomplete now harvests from pending tags as well as current</li>
					<li>the regex dialog's tag entry is now autocomplete</li>
					<li>leading/following whitespace removal for tags, and multi-whitespace -> single</li>
					<li>a little server-side pubsub neatening up</li>
					<li>when importing via dialog, there is now a checkbox to ignore subdirectories</li>
					<li>Added a quick readme.txt in the base_dir for people who choose to extract rather than install. (Everyone should check out the help at least once)</li>
				</ul>
				<li><h3 id="version_3"><a href="#version_3">version 3</a>->6 (never released)</h3></li>
				<ul>
					<li>after much feedback, completely rewrite db</li>
					<li>general improvements to gui</li>
				</ul>
				<li><h3 id="version_2"><a href="#version_2">version 2</a></h3></li>
				<ul>
					<li>general fixes and improvements</li>
				</ul>
				<li><h3 id="version_1"><a href="#version_1">version 1</a></h3></li>
				<ul>
					<li>first true metadata beta</li>
					<li>shit actually works</li>
				</ul>
				<li><h3 id="version_beta"><a href="#version_beta">versions 0</a>.91 -> 0.99</h3></li>
				<ul>
					<li>move to python and wx, and an application- rather than browser-based model</li>
					<li>building on concepts</li>
					<li>scrapping p2p, turning to client-server</li>
				</ul>
				<li><h3 id="version_early"><a href="#version_early">early versions </a>of beta</h3></li>
				<ul>
					<li>made db, playing around with LAMP</li>
					<li>an initial p2p framework started</li>
				</ul>
			</ul>
		</div>
	</body>
</html>
